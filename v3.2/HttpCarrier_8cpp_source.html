<!-- HTML header for doxygen 1.8.12-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>YARP: src/libYARP_OS/src/HttpCarrier.cpp Source File</title>
<link rel="shortcut icon" href="yarp-favicon.ico" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
    var DOCUMENTATION_OPTIONS = { VERSION: '3.2.2' };
</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="yarp-doxygen-style.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../version_switch.js"></script>
<link rel="stylesheet" type="text/css" href="cookieconsent.min.css" />
<script src="cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#eb6c44",
      "text": "#ffffff"
    },
    "button": {
      "background": "#237afc",
    }
  },
  "theme": "classic",
  "content": {
    "message": "INFORMATION NOTICE ON COOKIES : This website uses only browsing/session cookies. Users can choose whether or not to accept the use of cookies and access the website. By clicking on \"Further information\", the full information notice on the types of cookies will be displayed and you will be able  to choose whether or not to accept them whilst browsing on the website.",
    "dismiss": "ACCEPT and close",
    "link": "Further information",
    "href": "http://www.icub.org/other/personal_data_notice.html"
  }
})});
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="yarp-robot-64.png"/></td>
  <td id="projectalign" style="padding-left: 1.5em;">
   <div id="projectname">YARP</div>
   <div id="projectbrief">Yet Another Robot Platform</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('HttpCarrier_8cpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">HttpCarrier.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="HttpCarrier_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (C) 2006-2019 Istituto Italiano di Tecnologia (IIT)</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (C) 2006-2010 RobotCub Consortium</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * All rights reserved.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * This software may be modified and distributed under the terms of the</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * BSD-3-Clause license. See the accompanying LICENSE file for details.</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160; </div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="HttpCarrier_8h.html">yarp/os/impl/HttpCarrier.h</a>&gt;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160; </div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="Bottle_8h.html">yarp/os/Bottle.h</a>&gt;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="ConnectionState_8h.html">yarp/os/ConnectionState.h</a>&gt;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="DummyConnector_8h.html">yarp/os/DummyConnector.h</a>&gt;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="ManagedBytes_8h.html">yarp/os/ManagedBytes.h</a>&gt;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="Property_8h.html">yarp/os/Property.h</a>&gt;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="Route_8h.html">yarp/os/Route.h</a>&gt;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="SizedWriter_8h.html">yarp/os/SizedWriter.h</a>&gt;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="NameClient_8h.html">yarp/os/impl/NameClient.h</a>&gt;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160; </div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespaceyarp_1_1os.html">yarp::os</a>;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespaceyarp_1_1os_1_1impl.html">yarp::os::impl</a>;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160; </div>
<div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="HttpCarrier_8cpp.html#a4dd43c999197f70add0ffa8c83f60a8f">   24</a></span>&#160;<span class="keyword">static</span> std::string <a class="code" href="HttpCarrier_8cpp.html#a4dd43c999197f70add0ffa8c83f60a8f">quoteFree</a>(<span class="keyword">const</span> std::string&amp; src)</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;{</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    std::string result;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">char</span> ch : src) {</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;        <span class="keywordflow">if</span> (ch == <span class="charliteral">&#39;&quot;&#39;</span>) {</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;            result += <span class="stringliteral">&quot;&amp;quot;&quot;</span>;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;            result += ch;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        }</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    }</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;}</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; </div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="HttpCarrier_8cpp.html#a4157952a0e6eddeaa0e8d6e4d12bec5d">asJson</a>(std::string&amp; accum,</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;                   <a class="code" href="classyarp_1_1os_1_1Bottle.html">yarp::os::Bottle</a>* bot,</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                   std::string* hint = <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="HttpCarrier_8cpp.html#afdf29c291e59c8b36e9180b96f0595b2">   41</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="HttpCarrier_8cpp.html#a4157952a0e6eddeaa0e8d6e4d12bec5d">asJson</a>(std::string&amp; accum,</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                   <a class="code" href="classyarp_1_1os_1_1Value.html">yarp::os::Value</a>&amp; v)</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;{</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordflow">if</span> (v.<a class="code" href="classyarp_1_1os_1_1Value.html#a942639c39161135049e19ebdb1eeae9a">isInt32</a>() || v.<a class="code" href="classyarp_1_1os_1_1Value.html#a74fc086a15b4a57c827132841aaff88e">isFloat64</a>()) {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        accum += v.<a class="code" href="classyarp_1_1os_1_1Value.html#a807e82fec8408b7be003fa1c491eda2c">toString</a>();</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    }</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordflow">if</span> (v.<a class="code" href="classyarp_1_1os_1_1Value.html#a000b840d8fca1c09cf4f2d05e333e88a">isString</a>() || v.<a class="code" href="classyarp_1_1os_1_1Value.html#a165ada6c03d19414dda20541b769b16f">isVocab</a>()) {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        std::string x = v.<a class="code" href="classyarp_1_1os_1_1Value.html#a807e82fec8408b7be003fa1c491eda2c">toString</a>();</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        accum += <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">char</span> ch : x) {</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;            <span class="keywordflow">if</span> (ch == <span class="charliteral">&#39;\n&#39;</span>) {</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                accum += <span class="charliteral">&#39;\\&#39;</span>;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                accum += <span class="charliteral">&#39;n&#39;</span>;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ch == <span class="charliteral">&#39;\r&#39;</span>) {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                accum += <span class="charliteral">&#39;\\&#39;</span>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                accum += <span class="charliteral">&#39;r&#39;</span>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ch == <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                accum += <span class="charliteral">&#39;\\&#39;</span>;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                accum += <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                <span class="keywordflow">if</span> (ch == <span class="charliteral">&#39;\\&#39;</span> || ch == <span class="charliteral">&#39;\&quot;&#39;</span>) {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                    accum += <span class="charliteral">&#39;\\&#39;</span>;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                }</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                accum += ch;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;            }</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        }</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        accum += <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    }</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keywordflow">if</span> (v.<a class="code" href="classyarp_1_1os_1_1Value.html#a4ced4bc0e9c1e732d4f4a98b0843a3e9">isList</a>()) {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <a class="code" href="classyarp_1_1os_1_1Bottle.html">yarp::os::Bottle</a>* bot = v.<a class="code" href="classyarp_1_1os_1_1Value.html#a5a029b824ce967d21ce2ed92508ac9cf">asList</a>();</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="HttpCarrier_8cpp.html#a4157952a0e6eddeaa0e8d6e4d12bec5d">asJson</a>(accum, bot);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    }</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;}</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="HttpCarrier_8cpp.html#a4157952a0e6eddeaa0e8d6e4d12bec5d">   77</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="HttpCarrier_8cpp.html#a4157952a0e6eddeaa0e8d6e4d12bec5d">asJson</a>(std::string&amp; accum,</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                   <a class="code" href="classyarp_1_1os_1_1Bottle.html">yarp::os::Bottle</a>* bot,</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                   std::string* hint)</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;{</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordflow">if</span> (bot == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    }</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordtype">bool</span> struc = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordtype">bool</span> struc_set = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordtype">int</span> offset = 0;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordtype">int</span> offset2 = 0;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    std::string tag = bot-&gt;<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(0).<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>();</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">if</span> (hint != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="keywordflow">if</span> ((*hint) == <span class="stringliteral">&quot;list&quot;</span>) {</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            struc = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            struc_set = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((*hint) == <span class="stringliteral">&quot;dict&quot;</span>) {</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            struc = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            struc_set = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        }</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    }</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">if</span> (!struc_set) {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <span class="keywordflow">if</span> (tag == <span class="stringliteral">&quot;list&quot;</span>) {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            struc = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            offset = 1;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tag == <span class="stringliteral">&quot;dict&quot;</span>) {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            struc = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            offset = 1;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            <span class="comment">// auto-detect</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            struc = (bot-&gt;<a class="code" href="classyarp_1_1os_1_1Bottle.html#a4d2e210ab875bff598973ab0a6919c31">size</a>() &gt; 1);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            <span class="keywordflow">if</span> (bot-&gt;<a class="code" href="classyarp_1_1os_1_1Bottle.html#a4d2e210ab875bff598973ab0a6919c31">size</a>() &gt; 0) {</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                <a class="code" href="classyarp_1_1os_1_1Value.html">yarp::os::Value</a>&amp; v0 = bot-&gt;<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(0);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                <span class="keywordflow">if</span> (!v0.<a class="code" href="classyarp_1_1os_1_1Value.html#a4ced4bc0e9c1e732d4f4a98b0843a3e9">isList</a>()) {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                    offset2 = 1;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                    offset = 1;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                }</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = offset2; i &lt; bot-&gt;<a class="code" href="classyarp_1_1os_1_1Bottle.html#a4d2e210ab875bff598973ab0a6919c31">size</a>(); i++) {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                <a class="code" href="classyarp_1_1os_1_1Value.html">yarp::os::Value</a>&amp; vi = bot-&gt;<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(i);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                <span class="keywordflow">if</span> (!vi.<a class="code" href="classyarp_1_1os_1_1Value.html#a4ced4bc0e9c1e732d4f4a98b0843a3e9">isList</a>()) {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                    struc = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                }</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                <span class="keywordflow">if</span> (vi.<a class="code" href="classyarp_1_1os_1_1Value.html#a5a029b824ce967d21ce2ed92508ac9cf">asList</a>()-&gt;<a class="code" href="classyarp_1_1os_1_1Bottle.html#a4d2e210ab875bff598973ab0a6919c31">size</a>() != 2) {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                    struc = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                }</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            }</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        }</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    }</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">if</span> (struc) {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="comment">// { ... }</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        accum += <span class="stringliteral">&quot;{&quot;</span>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <span class="keywordtype">bool</span> need_comma = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="keywordflow">if</span> (offset2 != 0) {</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            accum += <span class="stringliteral">&quot;\&quot;type\&quot;: &quot;</span>;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            <a class="code" href="HttpCarrier_8cpp.html#a4157952a0e6eddeaa0e8d6e4d12bec5d">asJson</a>(accum, bot-&gt;<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(0));</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            need_comma = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        }</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = offset; i &lt; bot-&gt;<a class="code" href="classyarp_1_1os_1_1Bottle.html#a4d2e210ab875bff598973ab0a6919c31">size</a>(); i++) {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            <a class="code" href="classyarp_1_1os_1_1Bottle.html">yarp::os::Bottle</a>* boti = bot-&gt;<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(i).<a class="code" href="classyarp_1_1os_1_1Value.html#a5a029b824ce967d21ce2ed92508ac9cf">asList</a>();</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            <span class="keywordflow">if</span> (boti == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            }</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            <span class="keywordflow">if</span> (need_comma) {</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                accum += <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            }</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            <a class="code" href="HttpCarrier_8cpp.html#a4157952a0e6eddeaa0e8d6e4d12bec5d">asJson</a>(accum, boti-&gt;<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(0));</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            accum += <span class="stringliteral">&quot;: &quot;</span>;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            <a class="code" href="HttpCarrier_8cpp.html#a4157952a0e6eddeaa0e8d6e4d12bec5d">asJson</a>(accum, boti-&gt;<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(1));</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            need_comma = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        accum += <span class="stringliteral">&quot;}&quot;</span>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    }</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="comment">// [ ... ]</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    accum += <span class="stringliteral">&quot;[&quot;</span>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">if</span> (offset2 != 0) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        offset--;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    }</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = offset; (size_t)i &lt; bot-&gt;size(); i++) {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <span class="keywordflow">if</span> (i &gt; offset) {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            accum += <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        }</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <a class="code" href="HttpCarrier_8cpp.html#a4157952a0e6eddeaa0e8d6e4d12bec5d">asJson</a>(accum, bot-&gt;<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(i));</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    }</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    accum += <span class="stringliteral">&quot;]&quot;</span>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;}</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#a463a5c999ae36099a3151026b55e910d">  170</a></span>&#160;<a class="code" href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#a463a5c999ae36099a3151026b55e910d">yarp::os::impl::HttpTwoWayStream::HttpTwoWayStream</a>(<a class="code" href="classyarp_1_1os_1_1TwoWayStream.html">TwoWayStream</a>* delegate, <span class="keyword">const</span> <span class="keywordtype">char</span>* txt, <span class="keyword">const</span> <span class="keywordtype">char</span>* prefix, <a class="code" href="classyarp_1_1os_1_1Property.html">yarp::os::Property</a>&amp; prop, <span class="keywordtype">bool</span> writer) :</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        delegate(delegate)</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;{</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    this-&gt;isWriter = writer;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    data = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    filterData = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    chunked = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">if</span> (writer) {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <a class="code" href="classyarp_1_1os_1_1Bottle.html">Bottle</a> b;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        b.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(txt);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        sis.<a class="code" href="classyarp_1_1os_1_1StringInputStream.html#a38723eda7afc431eaf8cbcea26343a4e">add</a>(b.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad8cb921bd7e22d6fcafc3a61db65e75c">toString</a>());</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        sis.<a class="code" href="classyarp_1_1os_1_1StringInputStream.html#a38723eda7afc431eaf8cbcea26343a4e">add</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    }</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    std::string s(txt);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    std::string sData;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <a class="code" href="classyarp_1_1os_1_1Property.html">Property</a>&amp; p = prop;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="comment">//p.fromQuery(txt);</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    format = p.<a class="code" href="classyarp_1_1os_1_1Property.html#a4cacd648b54c5a331f0ff5265d3b5680">check</a>(<span class="stringliteral">&quot;format&quot;</span>, <a class="code" href="classyarp_1_1os_1_1Value.html">Value</a>(<span class="stringliteral">&quot;html&quot;</span>)).asString();</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    outer = p.<a class="code" href="classyarp_1_1os_1_1Property.html#a4cacd648b54c5a331f0ff5265d3b5680">check</a>(<span class="stringliteral">&quot;outer&quot;</span>, <a class="code" href="classyarp_1_1os_1_1Value.html">Value</a>(<span class="stringliteral">&quot;auto&quot;</span>)).asString();</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordtype">bool</span> admin = p.<a class="code" href="classyarp_1_1os_1_1Property.html#a4cacd648b54c5a331f0ff5265d3b5680">check</a>(<span class="stringliteral">&quot;admin&quot;</span>);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordtype">bool</span> req = p.<a class="code" href="classyarp_1_1os_1_1Property.html#a4cacd648b54c5a331f0ff5265d3b5680">check</a>(<span class="stringliteral">&quot;req&quot;</span>);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">if</span> (p.<a class="code" href="classyarp_1_1os_1_1Property.html#a4cacd648b54c5a331f0ff5265d3b5680">check</a>(<span class="stringliteral">&quot;cmd&quot;</span>)) {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        s = p.<a class="code" href="classyarp_1_1os_1_1Property.html#a4cacd648b54c5a331f0ff5265d3b5680">check</a>(<span class="stringliteral">&quot;cmd&quot;</span>, <a class="code" href="classyarp_1_1os_1_1Value.html">Value</a>(<span class="stringliteral">&quot;&quot;</span>)).asString();</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p.<a class="code" href="classyarp_1_1os_1_1Property.html#a4cacd648b54c5a331f0ff5265d3b5680">check</a>(<span class="stringliteral">&quot;data&quot;</span>) || req) {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="keywordflow">if</span> (req) {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            s = p.<a class="code" href="classyarp_1_1os_1_1Property.html#a4cacd648b54c5a331f0ff5265d3b5680">check</a>(<span class="stringliteral">&quot;req&quot;</span>, <a class="code" href="classyarp_1_1os_1_1Value.html">Value</a>(<span class="stringliteral">&quot;&quot;</span>)).asString();</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            <span class="keywordflow">if</span> (!p.<a class="code" href="classyarp_1_1os_1_1Property.html#a4cacd648b54c5a331f0ff5265d3b5680">check</a>(<span class="stringliteral">&quot;format&quot;</span>)) {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                format = <span class="stringliteral">&quot;json&quot;</span>;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                p.<a class="code" href="classyarp_1_1os_1_1Property.html#a2c90f76cba15b8cc9d1c88cf55b253a1">put</a>(<span class="stringliteral">&quot;format&quot;</span>, <span class="stringliteral">&quot;json&quot;</span>);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            }</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            s = p.<a class="code" href="classyarp_1_1os_1_1Property.html#a4cacd648b54c5a331f0ff5265d3b5680">check</a>(<span class="stringliteral">&quot;data&quot;</span>, <a class="code" href="classyarp_1_1os_1_1Value.html">Value</a>(<span class="stringliteral">&quot;&quot;</span>)).asString();</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        }</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        s += <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        std::string sFixed;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        std::string var;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keywordtype">bool</span> arg = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; s.length(); i++) {</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            <span class="keywordtype">char</span> ch = s[i];</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            <span class="keywordflow">if</span> (arg) {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                <span class="keywordflow">if</span> ((ch &gt;= <span class="charliteral">&#39;A&#39;</span> &amp;&amp; ch &lt;= <span class="charliteral">&#39;Z&#39;</span>) || (ch &gt;= <span class="charliteral">&#39;a&#39;</span> &amp;&amp; ch &lt;= <span class="charliteral">&#39;z&#39;</span>) || (ch &gt;= <span class="charliteral">&#39;0&#39;</span> &amp;&amp; ch &lt;= <span class="charliteral">&#39;9&#39;</span>) || (ch == <span class="charliteral">&#39;_&#39;</span>)) {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                    var += ch;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                    arg = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                    sFixed += p.<a class="code" href="classyarp_1_1os_1_1Property.html#a4cacd648b54c5a331f0ff5265d3b5680">check</a>(var, <a class="code" href="classyarp_1_1os_1_1Value.html">Value</a>(<span class="stringliteral">&quot;&quot;</span>)).toString();</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                    <span class="keywordflow">if</span> (i != s.length() - 1) {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                        sFixed += ch; <span class="comment">// omit padding</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                    }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                    var = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                <span class="keywordflow">if</span> (ch == <span class="charliteral">&#39;$&#39;</span>) {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                    arg = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                    <span class="keywordflow">if</span> (i != s.length() - 1) {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                        sFixed += ch; <span class="comment">// omit padding</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                    }</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                }</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            }</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        }</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160; </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        sData = sFixed;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <span class="keywordflow">if</span> (admin) {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            s = std::string(<span class="stringliteral">&quot;a\n&quot;</span>) + sFixed;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            s = std::string(<span class="stringliteral">&quot;d\n&quot;</span>) + sFixed;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        }</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    }</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    std::string from = prefix;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    from += <span class="stringliteral">&quot;&lt;input type=text name=data value=\&quot;&quot;</span>;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    from += <a class="code" href="HttpCarrier_8cpp.html#a4dd43c999197f70add0ffa8c83f60a8f">quoteFree</a>(sData);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    from += <span class="stringliteral">&quot;\&quot;&gt;&lt;input type=submit value=\&quot;send data\&quot;&gt;&lt;/form&gt;&lt;/p&gt;\n&quot;</span>;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    from += <span class="stringliteral">&quot;&lt;pre&gt;\n&quot;</span>;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordtype">bool</span> classic = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="comment">// support old-style messages</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">if</span> (s.length() &lt;= 1) {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        classic = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">if</span> (s.length() &gt; 1) {</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <span class="keywordflow">if</span> (s[0] == <span class="charliteral">&#39;?&#39;</span> || s[1] == <span class="charliteral">&#39;?&#39;</span>) {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            classic = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="keywordflow">if</span> (s[0] == <span class="charliteral">&#39;d&#39;</span> &amp;&amp; s[1] == <span class="charliteral">&#39;\n&#39;</span>) {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            classic = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">if</span> (s.length() &gt;= 4) {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="keywordflow">if</span> (s[0] == <span class="charliteral">&#39;f&#39;</span> &amp;&amp; s[1] == <span class="charliteral">&#39;o&#39;</span> &amp;&amp; s[2] == <span class="charliteral">&#39;r&#39;</span> &amp;&amp; s[3] == <span class="charliteral">&#39;m&#39;</span>) {</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            classic = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        }</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <span class="keywordflow">if</span> (s[0] == <span class="charliteral">&#39;d&#39;</span> &amp;&amp; s[1] == <span class="charliteral">&#39;a&#39;</span> &amp;&amp; s[2] == <span class="charliteral">&#39;t&#39;</span> &amp;&amp; s[3] == <span class="charliteral">&#39;a&#39;</span>) {</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            classic = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        }</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <span class="keywordflow">if</span> (s[0] == <span class="charliteral">&#39;f&#39;</span> &amp;&amp; s[1] == <span class="charliteral">&#39;a&#39;</span> &amp;&amp; s[2] == <span class="charliteral">&#39;v&#39;</span> &amp;&amp; s[3] == <span class="charliteral">&#39;i&#39;</span>) {</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            <span class="comment">// kill favicon.ico, sorry</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            classic = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        }</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    }</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">if</span> (req) {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        classic = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordflow">if</span> (classic) {</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        std::string header = <span class="stringliteral">&quot;HTTP/1.1 200 OK\r\nContent-Type: text/html\r\n&quot;</span>;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        chunked = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <span class="keywordflow">if</span> (s[0] == <span class="charliteral">&#39;r&#39;</span>) {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            header += <span class="stringliteral">&quot;Transfer-Encoding: chunked\r\n&quot;</span>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            chunked = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        }</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        header += <span class="stringliteral">&quot;\r\n&quot;</span>;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="keywordtype">int</span> N = 2 * 1024;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        std::string body = from;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <span class="keywordflow">if</span> (chunked) {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            body += <span class="stringliteral">&quot;Reading data from port...\n&quot;</span>;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            header += <a class="code" href="classyarp_1_1os_1_1NetType.html#a9d17e510a82fc094b4ae82fda93424e5">NetType::toHexString</a>((<span class="keywordtype">int</span>)(body.length() + N));</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            header += <span class="stringliteral">&quot;\r\n&quot;</span>;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        }</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160; </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <a class="code" href="classyarp_1_1os_1_1Bytes.html">Bytes</a> b1((<span class="keywordtype">char</span>*)header.c_str(), header.length());</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        delegate-&gt;<a class="code" href="classyarp_1_1os_1_1TwoWayStream.html#a10a264b78bb89490bc45853dac4cdae2">getOutputStream</a>().<a class="code" href="classyarp_1_1os_1_1OutputStream.html#a9ee2201aa922c1124392aeb97849148c">write</a>(b1);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keywordflow">if</span> (chunked) {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            <span class="comment">// chrome etc won&#39;t render until enough chars are received.</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; N; i++) {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                delegate-&gt;<a class="code" href="classyarp_1_1os_1_1TwoWayStream.html#a10a264b78bb89490bc45853dac4cdae2">getOutputStream</a>().<a class="code" href="classyarp_1_1os_1_1OutputStream.html#a9ee2201aa922c1124392aeb97849148c">write</a>(<span class="charliteral">&#39; &#39;</span>);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            }</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <a class="code" href="classyarp_1_1os_1_1Bytes.html">Bytes</a> b2((<span class="keywordtype">char</span>*)body.c_str(), body.length());</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        delegate-&gt;<a class="code" href="classyarp_1_1os_1_1TwoWayStream.html#a10a264b78bb89490bc45853dac4cdae2">getOutputStream</a>().<a class="code" href="classyarp_1_1os_1_1OutputStream.html#a9ee2201aa922c1124392aeb97849148c">write</a>(b2);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        delegate-&gt;<a class="code" href="classyarp_1_1os_1_1TwoWayStream.html#a10a264b78bb89490bc45853dac4cdae2">getOutputStream</a>().<a class="code" href="classyarp_1_1os_1_1OutputStream.html#a9ee2201aa922c1124392aeb97849148c">write</a>(<span class="charliteral">&#39;\r&#39;</span>);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        delegate-&gt;<a class="code" href="classyarp_1_1os_1_1TwoWayStream.html#a10a264b78bb89490bc45853dac4cdae2">getOutputStream</a>().<a class="code" href="classyarp_1_1os_1_1OutputStream.html#a9ee2201aa922c1124392aeb97849148c">write</a>(<span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        delegate-&gt;<a class="code" href="classyarp_1_1os_1_1TwoWayStream.html#a10a264b78bb89490bc45853dac4cdae2">getOutputStream</a>().<a class="code" href="classyarp_1_1os_1_1OutputStream.html#a36ab9b168185c63a46c4b8bd70205e97">flush</a>();</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="keywordflow">if</span> (s.empty()) {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            s = <span class="stringliteral">&quot;*&quot;</span>;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        }</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <span class="keywordflow">if</span> (chunked) {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            filterData = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        }</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">char</span>&amp; ch : s) {</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            <span class="keywordflow">if</span> (ch == <span class="charliteral">&#39;,&#39;</span>) {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                ch = <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            }</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            <span class="keywordflow">if</span> (ch == <span class="charliteral">&#39;+&#39;</span>) {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                ch = <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            }</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        }</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="keywordflow">if</span> (chunked) {</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            sis.<a class="code" href="classyarp_1_1os_1_1StringInputStream.html#a38723eda7afc431eaf8cbcea26343a4e">add</a>(<span class="stringliteral">&quot;r\n&quot;</span>);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            sis.<a class="code" href="classyarp_1_1os_1_1StringInputStream.html#a38723eda7afc431eaf8cbcea26343a4e">add</a>(s);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            sis.<a class="code" href="classyarp_1_1os_1_1StringInputStream.html#a38723eda7afc431eaf8cbcea26343a4e">add</a>(<span class="stringliteral">&quot;\nq\n&quot;</span>);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        }</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160; </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        chunked = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <span class="keywordflow">if</span> (!req) {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            <span class="keywordflow">if</span> (admin) {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                sis.<a class="code" href="classyarp_1_1os_1_1StringInputStream.html#a38723eda7afc431eaf8cbcea26343a4e">add</a>(<span class="stringliteral">&quot;a\n&quot;</span>);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                sis.<a class="code" href="classyarp_1_1os_1_1StringInputStream.html#a38723eda7afc431eaf8cbcea26343a4e">add</a>(<span class="stringliteral">&quot;d\n&quot;</span>);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            }</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; (int)s.length(); i++) {</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                <span class="keywordflow">if</span> (s[i] == <span class="charliteral">&#39;/&#39;</span>) {</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                    s[i] = <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                }</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                <span class="keywordflow">if</span> (s[i] == <span class="charliteral">&#39;?&#39;</span>) {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                    s = s.substr(0, i);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                }</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            }</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        }</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        sis.<a class="code" href="classyarp_1_1os_1_1StringInputStream.html#a38723eda7afc431eaf8cbcea26343a4e">add</a>(s);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        sis.<a class="code" href="classyarp_1_1os_1_1StringInputStream.html#a38723eda7afc431eaf8cbcea26343a4e">add</a>(<span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        sis.<a class="code" href="classyarp_1_1os_1_1StringInputStream.html#a38723eda7afc431eaf8cbcea26343a4e">add</a>(p.<a class="code" href="classyarp_1_1os_1_1Property.html#a037386dffde2bcc681291568da2a9ae8">toString</a>());</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        sis.<a class="code" href="classyarp_1_1os_1_1StringInputStream.html#a38723eda7afc431eaf8cbcea26343a4e">add</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    }</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;}</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; </div>
<div class="line"><a name="l00355"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#ad076944bf0e275e39f93d7b9628b859f">  355</a></span>&#160;<a class="code" href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#ad076944bf0e275e39f93d7b9628b859f">yarp::os::impl::HttpTwoWayStream::~HttpTwoWayStream</a>()</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;{</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keywordflow">if</span> (delegate != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <span class="keyword">delete</span> delegate;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        delegate = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    }</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;}</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160; </div>
<div class="line"><a name="l00363"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#a7cc19371c8d902a23af40435ebece817">  363</a></span>&#160;<a class="code" href="classyarp_1_1os_1_1InputStream.html">yarp::os::InputStream</a>&amp; <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#a7cc19371c8d902a23af40435ebece817">yarp::os::impl::HttpTwoWayStream::getInputStream</a>()</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;{</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="keywordflow">return</span> sis;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;}</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; </div>
<div class="line"><a name="l00368"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#a12b1ebece48c7e5dd463efca82c9b625">  368</a></span>&#160;<a class="code" href="classyarp_1_1os_1_1OutputStream.html">yarp::os::OutputStream</a>&amp; <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#a12b1ebece48c7e5dd463efca82c9b625">yarp::os::impl::HttpTwoWayStream::getOutputStream</a>()</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;{</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;}</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160; </div>
<div class="line"><a name="l00373"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#a6cf60a2ac1569ea8cbee4786451ff6a8">  373</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classyarp_1_1os_1_1Contact.html">Contact</a>&amp; <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#a6cf60a2ac1569ea8cbee4786451ff6a8">yarp::os::impl::HttpTwoWayStream::getLocalAddress</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">return</span> delegate-&gt;getLocalAddress();</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;}</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160; </div>
<div class="line"><a name="l00378"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#ac2c221c5c51fe5f830933c3807dbb8c4">  378</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classyarp_1_1os_1_1Contact.html">Contact</a>&amp; <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#ac2c221c5c51fe5f830933c3807dbb8c4">yarp::os::impl::HttpTwoWayStream::getRemoteAddress</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordflow">return</span> delegate-&gt;getRemoteAddress();</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;}</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160; </div>
<div class="line"><a name="l00383"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#a07759b287aa92acbe912f045f9d374ff">  383</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#a07759b287aa92acbe912f045f9d374ff">yarp::os::impl::HttpTwoWayStream::isOk</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">//delegate-&gt;isOk();</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;}</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160; </div>
<div class="line"><a name="l00388"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#abfc87f8dbeda82c13c14645227f9eab7">  388</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#abfc87f8dbeda82c13c14645227f9eab7">yarp::os::impl::HttpTwoWayStream::reset</a>()</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;{</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    delegate-&gt;reset();</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;}</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160; </div>
<div class="line"><a name="l00393"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#ae0dce964cf0c94b736c3b1d50e5b4f58">  393</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#ae0dce964cf0c94b736c3b1d50e5b4f58">yarp::os::impl::HttpTwoWayStream::write</a>(<span class="keyword">const</span> <a class="code" href="classyarp_1_1os_1_1Bytes.html">yarp::os::Bytes</a>&amp; b)</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;{ <span class="comment">// throws</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordflow">if</span> (chunked || isWriter) {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        delegate-&gt;getOutputStream().write(b);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; b.<a class="code" href="classyarp_1_1os_1_1Bytes.html#a1777bdec41bab120b74bc353e3570377">length</a>(); i++) {</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            apply(b.<a class="code" href="classyarp_1_1os_1_1Bytes.html#ad62e722069297651d9efb5fa7fba1d92">get</a>()[i]);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        }</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    }</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;}</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160; </div>
<div class="line"><a name="l00404"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#a9ccf90328eb7fff64daf0aa7fc7b1681">  404</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#a9ccf90328eb7fff64daf0aa7fc7b1681">yarp::os::impl::HttpTwoWayStream::apply</a>(<span class="keywordtype">char</span> ch)</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;{</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">if</span> (ch == <span class="charliteral">&#39;\r&#39;</span>) {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keywordflow">if</span> (ch == <span class="charliteral">&#39;\n&#39;</span>) {</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        proc = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <a class="code" href="classyarp_1_1os_1_1Contact.html">Contact</a> addr = <a class="code" href="classyarp_1_1os_1_1impl_1_1NameClient.html#a5a1c62743cb958b35d7f7beae67ff058">yarp::os::impl::NameClient::extractAddress</a>(part);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <span class="keywordflow">if</span> (addr.<a class="code" href="classyarp_1_1os_1_1Contact.html#a44450481ce5c8dd99f3a75eb9c8f310f">isValid</a>()) {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            <span class="keywordflow">if</span> (addr.<a class="code" href="classyarp_1_1os_1_1Contact.html#af2a116251afbc6e825c6cbe497812126">getCarrier</a>() == <span class="stringliteral">&quot;tcp&quot;</span> &amp;&amp; (addr.<a class="code" href="classyarp_1_1os_1_1Contact.html#a6192fc01afbda5337e8a06438881c753">getRegName</a>().find(<span class="stringliteral">&quot;/quit&quot;</span>) == std::string::npos)) {</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                proc += <span class="stringliteral">&quot;&lt;a href=\&quot;http://&quot;</span>;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                proc += addr.<a class="code" href="classyarp_1_1os_1_1Contact.html#af2fa156ae18485d859ef8c859f43eca1">getHost</a>();</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                proc += <span class="stringliteral">&quot;:&quot;</span>;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                proc += <a class="code" href="classyarp_1_1os_1_1NetType.html#a1839fddc4142227cf438aaf9d7eafd26">NetType::toString</a>(addr.<a class="code" href="classyarp_1_1os_1_1Contact.html#ab4312ee491059450c68ab85bb713b44f">getPort</a>());</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                proc += <span class="stringliteral">&quot;\&quot;&gt;&quot;</span>;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                proc += addr.<a class="code" href="classyarp_1_1os_1_1Contact.html#a6192fc01afbda5337e8a06438881c753">getRegName</a>();</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                proc += <span class="stringliteral">&quot;&lt;/A&gt; &quot;</span>;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                <span class="keywordtype">size_t</span> len = addr.<a class="code" href="classyarp_1_1os_1_1Contact.html#a6192fc01afbda5337e8a06438881c753">getRegName</a>().length();</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                <span class="keywordtype">size_t</span> target = 30;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                <span class="keywordflow">if</span> (len &lt; target) {</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; target - len; i++) {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                        proc += <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                    }</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                }</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                proc += <span class="stringliteral">&quot;(&quot;</span>;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                proc += addr.<a class="code" href="classyarp_1_1os_1_1Contact.html#a7bfba47ee633e21f62655909369d25ea">toString</a>();</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                proc += <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                proc += <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                <span class="comment">// Don&#39;t show non tcp connections</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                <span class="comment">//proc += part;</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                <span class="comment">//proc += &quot;\n&quot;;</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            }</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            <span class="keywordflow">if</span> ((part[0] == <span class="charliteral">&#39;\&quot;&#39;</span> &amp;&amp; part[1] == <span class="charliteral">&#39;[&#39;</span>) || (part[0] == <span class="charliteral">&#39;+&#39;</span>)) {</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                <span class="comment">// translate this to a form</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                <span class="keywordflow">if</span> (part[0] == <span class="charliteral">&#39;+&#39;</span>) {</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                    part[0] = <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                }</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                std::string org = part;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                part = <span class="stringliteral">&quot;&lt;p&gt;&lt;form method=post action=&#39;/form&#39;&gt;&quot;</span>;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                <span class="keywordtype">size_t</span> i = 0;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                <span class="keywordflow">for</span> (i = 0; i &lt; org.length(); i++) {</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                    <span class="keywordflow">if</span> (org[i] == <span class="charliteral">&#39;&quot;&#39;</span>) {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                        org[i] = <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                    }</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                }</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                part += <span class="stringliteral">&quot;&lt;input type=hidden name=data value=\&quot;&quot;</span>;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                part += org;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                part += <span class="stringliteral">&quot;\&quot;&gt;&quot;</span>;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                part += org;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                org += <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                <span class="keywordtype">bool</span> arg = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                std::string var;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                <span class="keywordflow">for</span> (i = 0; i &lt; org.length(); i++) {</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                    <span class="keywordtype">char</span> ch = org[i];</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                    <span class="keywordflow">if</span> (arg) {</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                        <span class="keywordflow">if</span> ((ch &gt;= <span class="charliteral">&#39;A&#39;</span> &amp;&amp; ch &lt;= <span class="charliteral">&#39;Z&#39;</span>) || (ch &gt;= <span class="charliteral">&#39;a&#39;</span> &amp;&amp; ch &lt;= <span class="charliteral">&#39;z&#39;</span>) || (ch &gt;= <span class="charliteral">&#39;0&#39;</span> &amp;&amp; ch &lt;= <span class="charliteral">&#39;9&#39;</span>) || (ch == <span class="charliteral">&#39;_&#39;</span>)) {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                            var += ch;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                            arg = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                            part += <span class="stringliteral">&quot;\n    &quot;</span>;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                            part += var;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                            part += <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                            part += <span class="stringliteral">&quot;&lt;input type=text name=&quot;</span>;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                            part += var;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                            part += <span class="stringliteral">&quot; size=5 value=\&quot;\&quot;&gt;&quot;</span>;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                            var = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                        }</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                    }</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                    <span class="keywordflow">if</span> (ch == <span class="charliteral">&#39;$&#39;</span>) {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                        arg = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                    }</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                }</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                part += <span class="stringliteral">&quot;&lt;input type=submit value=\&quot;go\&quot;&gt;&quot;</span>;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                part += <span class="stringliteral">&quot;&lt;/form&gt;&lt;/p&gt;&quot;</span>;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            }</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            proc += part;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            proc += <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        }</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        <span class="keywordflow">if</span> (data || !filterData) {</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            <a class="code" href="classyarp_1_1os_1_1Bytes.html">Bytes</a> tmp((<span class="keywordtype">char</span>*)proc.c_str(), proc.length());</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            delegate-&gt;getOutputStream().write(tmp);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            delegate-&gt;getOutputStream().flush();</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        }</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        data = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <span class="keywordflow">if</span> (proc[0] == <span class="charliteral">&#39;d&#39;</span> || proc[0] == <span class="charliteral">&#39;D&#39;</span>) {</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;            data = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        }</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        part = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        part += ch;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    }</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;}</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160; </div>
<div class="line"><a name="l00499"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#ae5ef4d43af28066ff00f70dafba7f988">  499</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#ae5ef4d43af28066ff00f70dafba7f988">yarp::os::impl::HttpTwoWayStream::close</a>()</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;{</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    apply(<span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    apply(<span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    delegate-&gt;close();</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;}</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160; </div>
<div class="line"><a name="l00506"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#a40a8560f2d0e8819f87b0f23b1ad8b28">  506</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#a40a8560f2d0e8819f87b0f23b1ad8b28">yarp::os::impl::HttpTwoWayStream::beginPacket</a>()</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;{</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    delegate-&gt;beginPacket();</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;}</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160; </div>
<div class="line"><a name="l00511"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#a51bf15256019f0541d74020c908e5864">  511</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#a51bf15256019f0541d74020c908e5864">yarp::os::impl::HttpTwoWayStream::endPacket</a>()</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;{</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    delegate-&gt;endPacket();</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;}</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#a5c04b191f64a62d4933e76026bd00ca6">  516</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#a5c04b191f64a62d4933e76026bd00ca6">yarp::os::impl::HttpTwoWayStream::flip</a>()</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;{</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    sis.add(<span class="stringliteral">&quot;r\n&quot;</span>);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;}</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160; </div>
<div class="line"><a name="l00521"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#aac3326d5c885502a02b5c64257c44b43">  521</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#aac3326d5c885502a02b5c64257c44b43">yarp::os::impl::HttpTwoWayStream::finish</a>()</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;{</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    sis.add(<span class="stringliteral">&quot;q\n&quot;</span>);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;}</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160; </div>
<div class="line"><a name="l00526"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#a6d2e5d5bdfa0f561f1111b5fe8582751">  526</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#a6d2e5d5bdfa0f561f1111b5fe8582751">yarp::os::impl::HttpTwoWayStream::useJson</a>()</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;{</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordflow">return</span> format == <span class="stringliteral">&quot;json&quot;</span>;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;}</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160; </div>
<div class="line"><a name="l00531"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#a382ab590847ead1faf882537d594fd35">  531</a></span>&#160;std::string* <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#a382ab590847ead1faf882537d594fd35">yarp::os::impl::HttpTwoWayStream::typeHint</a>()</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;{</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="keywordflow">return</span> &amp;outer;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;}</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160; </div>
<div class="line"><a name="l00537"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#acb1408bfb3c68bd280002320d0149407">  537</a></span>&#160;<a class="code" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#acb1408bfb3c68bd280002320d0149407">yarp::os::impl::HttpCarrier::HttpCarrier</a>() :</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        url(<span class="stringliteral">&quot;&quot;</span>),</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        input(<span class="stringliteral">&quot;&quot;</span>),</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        urlDone(false),</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        expectPost(false),</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        contentLength(0),</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        stream(nullptr)</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;{</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;}</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160; </div>
<div class="line"><a name="l00547"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a039316a8a87aaf1168426bbeaead06d2">  547</a></span>&#160;<a class="code" href="classyarp_1_1os_1_1Carrier.html">yarp::os::Carrier</a>* <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a039316a8a87aaf1168426bbeaead06d2">yarp::os::impl::HttpCarrier::create</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html">HttpCarrier</a>();</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;}</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160; </div>
<div class="line"><a name="l00552"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a08141a64e524dec2aee9f39156ef04ec">  552</a></span>&#160;std::string <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a08141a64e524dec2aee9f39156ef04ec">yarp::os::impl::HttpCarrier::getName</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;http&quot;</span>;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;}</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160; </div>
<div class="line"><a name="l00557"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a6f9711fed638e3c5d967bf4862d02c92">  557</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a6f9711fed638e3c5d967bf4862d02c92">yarp::os::impl::HttpCarrier::checkHeader</a>(<span class="keyword">const</span> <a class="code" href="classyarp_1_1os_1_1Bytes.html">Bytes</a>&amp; header, <span class="keyword">const</span> <span class="keywordtype">char</span>* prefix)</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;{</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordflow">if</span> (header.<a class="code" href="classyarp_1_1os_1_1Bytes.html#a1777bdec41bab120b74bc353e3570377">length</a>() == 8) {</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        std::string target = prefix;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; target.length(); i++) {</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            <span class="keywordflow">if</span> (!(target[i] == header.<a class="code" href="classyarp_1_1os_1_1Bytes.html#ad62e722069297651d9efb5fa7fba1d92">get</a>()[i])) {</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;            }</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        }</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    }</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;}</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160; </div>
<div class="line"><a name="l00571"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#abe01a16ec2ce393c0b58a06e8face437">  571</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a6f9711fed638e3c5d967bf4862d02c92">yarp::os::impl::HttpCarrier::checkHeader</a>(<span class="keyword">const</span> <a class="code" href="classyarp_1_1os_1_1Bytes.html">Bytes</a>&amp; header)</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;{</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="keywordtype">bool</span> ok = checkHeader(header, <span class="stringliteral">&quot;GET /&quot;</span>);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keywordflow">if</span> (!ok) {</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        <span class="comment">// http carrier accepts POST /form but not general posts</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <span class="comment">// (leave that to xmlrpc carrier)</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        ok = checkHeader(header, <span class="stringliteral">&quot;POST /fo&quot;</span>);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        <span class="comment">// make sure it isn&#39;t a MJPEG stream get</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        ok = !checkHeader(header, <span class="stringliteral">&quot;GET /?ac&quot;</span>);</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    }</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="keywordflow">return</span> ok;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;}</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160; </div>
<div class="line"><a name="l00585"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#ae45c773f22b731ec3cd1498295f8acb7">  585</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#ae45c773f22b731ec3cd1498295f8acb7">yarp::os::impl::HttpCarrier::setParameters</a>(<span class="keyword">const</span> <a class="code" href="classyarp_1_1os_1_1Bytes.html">Bytes</a>&amp; header)</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;{</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keywordflow">if</span> (header.<a class="code" href="classyarp_1_1os_1_1Bytes.html#a1777bdec41bab120b74bc353e3570377">length</a>() == 8) {</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        <span class="keywordtype">bool</span> adding = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; 8; j++) {</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            <span class="keywordtype">char</span> ch = header.<a class="code" href="classyarp_1_1os_1_1Bytes.html#ad62e722069297651d9efb5fa7fba1d92">get</a>()[j];</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;            <span class="keywordflow">if</span> (adding) {</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                <span class="keywordflow">if</span> (ch != <span class="charliteral">&#39; &#39;</span>) {</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                    url += ch;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                    urlDone = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                }</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            }</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;            <span class="keywordflow">if</span> (ch == <span class="charliteral">&#39;/&#39;</span>) {</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                adding = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            }</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        }</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    }</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;}</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160; </div>
<div class="line"><a name="l00606"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a06fcafc4fcde056e55c9ec8fbc585ed2">  606</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a06fcafc4fcde056e55c9ec8fbc585ed2">yarp::os::impl::HttpCarrier::getHeader</a>(<a class="code" href="classyarp_1_1os_1_1Bytes.html">Bytes</a>&amp; header)<span class="keyword"> const</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="keywordflow">if</span> (header.<a class="code" href="classyarp_1_1os_1_1Bytes.html#a1777bdec41bab120b74bc353e3570377">length</a>() == 8) {</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        std::string target = <span class="stringliteral">&quot;GET / HT&quot;</span>;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 8; i++) {</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;            header.<a class="code" href="classyarp_1_1os_1_1Bytes.html#ad62e722069297651d9efb5fa7fba1d92">get</a>()[i] = target[i];</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        }</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    }</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;}</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160; </div>
<div class="line"><a name="l00616"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a786234107d7c2b70b637dd1a2cdc4d63">  616</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a786234107d7c2b70b637dd1a2cdc4d63">yarp::os::impl::HttpCarrier::requireAck</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;}</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160; </div>
<div class="line"><a name="l00621"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a110f31ae421d4e9a9a93d6260ce1677a">  621</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a110f31ae421d4e9a9a93d6260ce1677a">yarp::os::impl::HttpCarrier::isTextMode</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;}</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160; </div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160; </div>
<div class="line"><a name="l00627"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a9038f9f4c01aa4ea4e4d60c0beb9dfc0">  627</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a9038f9f4c01aa4ea4e4d60c0beb9dfc0">yarp::os::impl::HttpCarrier::supportReply</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;}</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160; </div>
<div class="line"><a name="l00632"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a5752cc1d6545ef12237aa6e55fdf9d6a">  632</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a5752cc1d6545ef12237aa6e55fdf9d6a">yarp::os::impl::HttpCarrier::sendHeader</a>(<a class="code" href="classyarp_1_1os_1_1ConnectionState.html">ConnectionState</a>&amp; proto)</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;{</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    std::string target = <span class="stringliteral">&quot;GET / HTTP/1.0\r\n&quot;</span>;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    std::string path = proto.<a class="code" href="classyarp_1_1os_1_1ConnectionState.html#a47543e44a05f7508d3db1069ce3f67f9">getRoute</a>().<a class="code" href="classyarp_1_1os_1_1Route.html#a2156322c29d68a6ef5d22e8bd43d5193">getToName</a>();</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="keywordflow">if</span> (path.size() &gt;= 2) {</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        target = <span class="stringliteral">&quot;GET &quot;</span> + path + <span class="stringliteral">&quot; HTTP/1.0\r\n&quot;</span>;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    }</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <a class="code" href="classyarp_1_1os_1_1Contact.html">Contact</a> host = proto.<a class="code" href="classyarp_1_1os_1_1ConnectionState.html#a47543e44a05f7508d3db1069ce3f67f9">getRoute</a>().<a class="code" href="classyarp_1_1os_1_1Route.html#adecd93c6d5572356a6f147fa2c25d591">getToContact</a>();</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="keywordflow">if</span> (!host.<a class="code" href="classyarp_1_1os_1_1Contact.html#af2fa156ae18485d859ef8c859f43eca1">getHost</a>().empty()) {</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        target += <span class="stringliteral">&quot;Host: &quot;</span>;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        target += host.<a class="code" href="classyarp_1_1os_1_1Contact.html#af2fa156ae18485d859ef8c859f43eca1">getHost</a>();</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        target += <span class="stringliteral">&quot;\r\n&quot;</span>;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    }</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    target += <span class="stringliteral">&quot;\r\n&quot;</span>;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <a class="code" href="classyarp_1_1os_1_1Bytes.html">Bytes</a> b((<span class="keywordtype">char</span>*)target.c_str(), target.length());</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    proto.<a class="code" href="classyarp_1_1os_1_1ConnectionState.html#aee31bb2bfc02862ffcedeccf84ece140">os</a>().<a class="code" href="classyarp_1_1os_1_1OutputStream.html#a9ee2201aa922c1124392aeb97849148c">write</a>(b);</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;}</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160; </div>
<div class="line"><a name="l00651"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#acc2f736af05fb32c86708bb169670864">  651</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#acc2f736af05fb32c86708bb169670864">yarp::os::impl::HttpCarrier::expectSenderSpecifier</a>(<a class="code" href="classyarp_1_1os_1_1ConnectionState.html">ConnectionState</a>&amp; proto)</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;{</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <a class="code" href="classyarp_1_1os_1_1Route.html">Route</a> route = proto.<a class="code" href="classyarp_1_1os_1_1ConnectionState.html#a47543e44a05f7508d3db1069ce3f67f9">getRoute</a>();</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    route.<a class="code" href="classyarp_1_1os_1_1Route.html#aa9f8b41204a624642782b17a69523c59">setFromName</a>(<span class="stringliteral">&quot;web&quot;</span>);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    proto.<a class="code" href="classyarp_1_1os_1_1ConnectionState.html#af34d20d32c88cfdb80fc9b288a244161">setRoute</a>(route);</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    std::string remainder = proto.<a class="code" href="classyarp_1_1os_1_1ConnectionState.html#ae5bc55a55a1038c23603c4e287781213">is</a>().<a class="code" href="classyarp_1_1os_1_1InputStream.html#a9fd557d1748ee4b40c95896441ee93d0">readLine</a>();</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="keywordflow">if</span> (!urlDone) {</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">char</span> i : remainder) {</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            <span class="keywordflow">if</span> (i != <span class="charliteral">&#39; &#39;</span>) {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                url += i;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            }</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        }</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    }</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160; </div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="keywordtype">bool</span> done = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    expectPost = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    contentLength = 0;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="keywordflow">while</span> (!done) {</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        std::string result = proto.<a class="code" href="classyarp_1_1os_1_1ConnectionState.html#ae5bc55a55a1038c23603c4e287781213">is</a>().<a class="code" href="classyarp_1_1os_1_1InputStream.html#a9fd557d1748ee4b40c95896441ee93d0">readLine</a>();</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        <span class="keywordflow">if</span> (result.empty()) {</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;            done = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;            <span class="comment">//printf(&quot;&gt;&gt;&gt; %s\n&quot;, result.c_str());</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            <a class="code" href="classyarp_1_1os_1_1Bottle.html">Bottle</a> b;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;            b.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a388ffac14da35ebecd8f78b642c7221b">fromString</a>(result);</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;            <span class="keywordflow">if</span> (b.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(0).<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>() == <span class="stringliteral">&quot;Content-Length:&quot;</span>) {</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                <span class="comment">//printf(&quot;]]] got length %d\n&quot;, b.get(1).asInt32());</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                contentLength = b.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(1).<a class="code" href="classyarp_1_1os_1_1Value.html#a4775a45e57c40460b0202c74f1a9bc4e">asInt32</a>();</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            }</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;            <span class="keywordflow">if</span> (b.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(0).<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>() == <span class="stringliteral">&quot;Content-Type:&quot;</span>) {</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                <span class="comment">//printf(&quot;]]] got type %s\n&quot;, b.get(1).asString());</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                <span class="keywordflow">if</span> (b.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(1).<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>() == <span class="stringliteral">&quot;application/x-www-form-urlencoded&quot;</span>) {</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                    expectPost = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                }</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;            }</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        }</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    }</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160; </div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="keywordflow">if</span> (expectPost) {</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        <span class="comment">//printf(&quot;[[[this is a post message of length %d]]]\n&quot;, contentLength);</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        <a class="code" href="classyarp_1_1os_1_1ManagedBytes.html">ManagedBytes</a> blk(contentLength + 1);</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <a class="code" href="classyarp_1_1os_1_1Bytes.html">Bytes</a> start(blk.<a class="code" href="classyarp_1_1os_1_1ManagedBytes.html#ab6a6d6720476bd84a3e04c769bcad3e5">get</a>(), contentLength);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        proto.<a class="code" href="classyarp_1_1os_1_1ConnectionState.html#ae5bc55a55a1038c23603c4e287781213">is</a>().<a class="code" href="classyarp_1_1os_1_1InputStream.html#a937dec0f8021c357357463882b22dcd6">readFull</a>(start);</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        blk.<a class="code" href="classyarp_1_1os_1_1ManagedBytes.html#ab6a6d6720476bd84a3e04c769bcad3e5">get</a>()[contentLength] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        <span class="comment">//printf(&quot;message: %s\n&quot;, blk.get());</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        input = blk.<a class="code" href="classyarp_1_1os_1_1ManagedBytes.html#ab6a6d6720476bd84a3e04c769bcad3e5">get</a>();</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        <span class="comment">//printf(&quot;message: %s\n&quot;, url.c_str());</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        input = url;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    }</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    prop.fromQuery(input.c_str());</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    prop.put(<span class="stringliteral">&quot;REQUEST_URI&quot;</span>, url);</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="comment">//printf(&quot;Property %s\n&quot;, prop.toString().c_str());</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160; </div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <a class="code" href="classyarp_1_1os_1_1Contact.html">Contact</a> home = <a class="code" href="classyarp_1_1os_1_1NetworkBase.html#a15a8d579bf5d730491bcfb49bf5d67c6">NetworkBase::getNameServerContact</a>();</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <a class="code" href="classyarp_1_1os_1_1Contact.html">Contact</a> me = proto.<a class="code" href="classyarp_1_1os_1_1ConnectionState.html#a360a9e43bd30895cd702dc448110f50d">getStreams</a>().<a class="code" href="classyarp_1_1os_1_1TwoWayStream.html#a34b449183c4a524794fa7a1458cce35f">getLocalAddress</a>();</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160; </div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    std::string from = <span class="stringliteral">&quot;&lt;html&gt;&lt;head&gt;&lt;link href=\&quot;http://&quot;</span>;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    from += home.<a class="code" href="classyarp_1_1os_1_1Contact.html#af2fa156ae18485d859ef8c859f43eca1">getHost</a>();</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    from += <span class="stringliteral">&quot;:&quot;</span>;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    from += <a class="code" href="classyarp_1_1os_1_1NetType.html#a1839fddc4142227cf438aaf9d7eafd26">NetType::toString</a>(home.<a class="code" href="classyarp_1_1os_1_1Contact.html#ab4312ee491059450c68ab85bb713b44f">getPort</a>());</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    from += R<span class="stringliteral">&quot;(/web/main.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;/&gt;&lt;/head&gt;&lt;body bgcolor=&#39;#ffffcc&#39;&gt;&lt;h1&gt;yarp port )&quot;;</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<span class="stringliteral">    from += proto.<a class="code" href="classyarp_1_1os_1_1ConnectionState.html#a47543e44a05f7508d3db1069ce3f67f9">getRoute</a>().<a class="code" href="classyarp_1_1os_1_1Route.html#a2156322c29d68a6ef5d22e8bd43d5193">getToName</a>();</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;<span class="stringliteral">    from += </span><span class="stringliteral">&quot;&lt;/h1&gt;\n&quot;</span>;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160; </div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    from += <span class="stringliteral">&quot;&lt;p&gt;(&lt;a href=\&quot;http://&quot;</span>;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    from += home.<a class="code" href="classyarp_1_1os_1_1Contact.html#af2fa156ae18485d859ef8c859f43eca1">getHost</a>();</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    from += <span class="stringliteral">&quot;:&quot;</span>;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    from += <a class="code" href="classyarp_1_1os_1_1NetType.html#a1839fddc4142227cf438aaf9d7eafd26">NetType::toString</a>(home.<a class="code" href="classyarp_1_1os_1_1Contact.html#ab4312ee491059450c68ab85bb713b44f">getPort</a>());</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    from += <span class="stringliteral">&quot;/data=list\&quot;&gt;All ports&lt;/a&gt;)&amp;nbsp;&amp;nbsp;\n&quot;</span>;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160; </div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    from += <span class="stringliteral">&quot;(&lt;a href=\&quot;http://&quot;</span>;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    from += me.<a class="code" href="classyarp_1_1os_1_1Contact.html#af2fa156ae18485d859ef8c859f43eca1">getHost</a>();</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    from += <span class="stringliteral">&quot;:&quot;</span>;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    from += <a class="code" href="classyarp_1_1os_1_1NetType.html#a1839fddc4142227cf438aaf9d7eafd26">NetType::toString</a>(me.<a class="code" href="classyarp_1_1os_1_1Contact.html#ab4312ee491059450c68ab85bb713b44f">getPort</a>());</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    from += <span class="stringliteral">&quot;/\&quot;&gt;connections&lt;/a&gt;)&amp;nbsp;&amp;nbsp;\n&quot;</span>;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160; </div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    from += <span class="stringliteral">&quot;(&lt;a href=\&quot;http://&quot;</span>;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    from += me.<a class="code" href="classyarp_1_1os_1_1Contact.html#af2fa156ae18485d859ef8c859f43eca1">getHost</a>();</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    from += <span class="stringliteral">&quot;:&quot;</span>;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    from += <a class="code" href="classyarp_1_1os_1_1NetType.html#a1839fddc4142227cf438aaf9d7eafd26">NetType::toString</a>(me.<a class="code" href="classyarp_1_1os_1_1Contact.html#ab4312ee491059450c68ab85bb713b44f">getPort</a>());</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    from += <span class="stringliteral">&quot;/data=help\&quot;&gt;help&lt;/a&gt;)&amp;nbsp;&amp;nbsp;\n&quot;</span>;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160; </div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    from += <span class="stringliteral">&quot;(&lt;a href=\&quot;http://&quot;</span>;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    from += me.<a class="code" href="classyarp_1_1os_1_1Contact.html#af2fa156ae18485d859ef8c859f43eca1">getHost</a>();</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    from += <span class="stringliteral">&quot;:&quot;</span>;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    from += <a class="code" href="classyarp_1_1os_1_1NetType.html#a1839fddc4142227cf438aaf9d7eafd26">NetType::toString</a>(me.<a class="code" href="classyarp_1_1os_1_1Contact.html#ab4312ee491059450c68ab85bb713b44f">getPort</a>());</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    from += <span class="stringliteral">&quot;/r\&quot;&gt;read&lt;/a&gt;)&amp;nbsp;&amp;nbsp;\n&quot;</span>;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160; </div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    from += <span class="stringliteral">&quot;&lt;/p&gt;\n&quot;</span>;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    from += <span class="stringliteral">&quot;&lt;p&gt;\n&quot;</span>;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    from += R<span class="stringliteral">&quot;(&lt;form method=&quot;post&quot; action=&quot;http://)&quot;;</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="stringliteral">    from += me.<a class="code" href="classyarp_1_1os_1_1Contact.html#af2fa156ae18485d859ef8c859f43eca1">getHost</a>();</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="stringliteral">    from += </span><span class="stringliteral">&quot;:&quot;</span>;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    from += <a class="code" href="classyarp_1_1os_1_1NetType.html#a1839fddc4142227cf438aaf9d7eafd26">NetType::toString</a>(me.<a class="code" href="classyarp_1_1os_1_1Contact.html#ab4312ee491059450c68ab85bb713b44f">getPort</a>());</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    from += <span class="stringliteral">&quot;/form\&quot;&gt;&quot;</span>;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160; </div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    prefix = from;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160; </div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160; </div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <span class="comment">//Bytes b2((char*)from.c_str(), from.length());</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="comment">//proto.os().write(b2);</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="comment">//proto.os().flush();</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <span class="comment">// Message gets finished by the stream</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160; </div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keywordflow">return</span> proto.<a class="code" href="classyarp_1_1os_1_1ConnectionState.html#aee31bb2bfc02862ffcedeccf84ece140">os</a>().<a class="code" href="classyarp_1_1os_1_1OutputStream.html#a88ed49f557bdce2d130810bebc62af31">isOk</a>();</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;}</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160; </div>
<div class="line"><a name="l00761"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a4b43ce7f40163502370527579cedef89">  761</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a4b43ce7f40163502370527579cedef89">yarp::os::impl::HttpCarrier::expectReplyToHeader</a>(<a class="code" href="classyarp_1_1os_1_1ConnectionState.html">ConnectionState</a>&amp; proto)</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;{</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    input = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <a class="code" href="namespaceyarp_1_1conf.html#a3df5afb43ff7b7cc2b4e3cb9150eab20">yarp::conf::ssize_t</a> len = 1;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="keywordflow">while</span> (len &gt; 0) {</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        <span class="keywordtype">char</span> buf[2];</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        <a class="code" href="classyarp_1_1os_1_1Bytes.html">Bytes</a> b((<span class="keywordtype">char</span>*)&amp;buf[0], 1);</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;        len = proto.<a class="code" href="classyarp_1_1os_1_1ConnectionState.html#ae5bc55a55a1038c23603c4e287781213">is</a>().<a class="code" href="classyarp_1_1os_1_1InputStream.html#a448b29e1cd20c5ae3bf3a43ba6b49f17">read</a>(b);</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        <span class="keywordflow">if</span> (len &gt; 0) {</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;            buf[len] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;            input += std::string(buf, len);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        }</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    }</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    stream = <span class="keyword">new</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html">HttpTwoWayStream</a>(proto.<a class="code" href="classyarp_1_1os_1_1ConnectionState.html#a4bc4acd5f9311b92deeb8b2536493e65">giveStreams</a>(),</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                                  input.c_str(),</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                                  prefix.c_str(),</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                                  prop,</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                                  <span class="keyword">true</span>);</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    proto.<a class="code" href="classyarp_1_1os_1_1ConnectionState.html#ac552ef35e1a421b84064ca6f287be022">takeStreams</a>(stream);</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;}</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160; </div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160; </div>
<div class="line"><a name="l00784"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#af6b6f5be4f2aae5cfb3f1e9bfd497cf4">  784</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#af6b6f5be4f2aae5cfb3f1e9bfd497cf4">yarp::os::impl::HttpCarrier::sendIndex</a>(<a class="code" href="classyarp_1_1os_1_1ConnectionState.html">ConnectionState</a>&amp; proto, <a class="code" href="classyarp_1_1os_1_1SizedWriter.html">SizedWriter</a>&amp; writer)</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;{</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <a class="code" href="yarp-v3_82-build_2src_2libYARP__conf_2include_2yarp_2conf_2api_8h.html#a115a3e86265819f41c93ff12c2538d1f">YARP_UNUSED</a>(proto);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <a class="code" href="yarp-v3_82-build_2src_2libYARP__conf_2include_2yarp_2conf_2api_8h.html#a115a3e86265819f41c93ff12c2538d1f">YARP_UNUSED</a>(writer);</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="comment">// no index</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;}</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160; </div>
<div class="line"><a name="l00792"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#acfaeb1bbecfffa34e44812a2ae72fbb6">  792</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#acfaeb1bbecfffa34e44812a2ae72fbb6">yarp::os::impl::HttpCarrier::expectIndex</a>(<a class="code" href="classyarp_1_1os_1_1ConnectionState.html">ConnectionState</a>&amp; proto)</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;{</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <a class="code" href="yarp-v3_82-build_2src_2libYARP__conf_2include_2yarp_2conf_2api_8h.html#a115a3e86265819f41c93ff12c2538d1f">YARP_UNUSED</a>(proto);</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="comment">// no index</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;}</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160; </div>
<div class="line"><a name="l00799"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a4f81a53f98f261fc5c14ad23bfeeeb14">  799</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a4f81a53f98f261fc5c14ad23bfeeeb14">yarp::os::impl::HttpCarrier::sendAck</a>(<a class="code" href="classyarp_1_1os_1_1ConnectionState.html">ConnectionState</a>&amp; proto)</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;{</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <a class="code" href="yarp-v3_82-build_2src_2libYARP__conf_2include_2yarp_2conf_2api_8h.html#a115a3e86265819f41c93ff12c2538d1f">YARP_UNUSED</a>(proto);</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <span class="comment">// no acknowledgement</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;}</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160; </div>
<div class="line"><a name="l00806"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a69d08a1feec15ce3f9d72b7aa1677ad4">  806</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a69d08a1feec15ce3f9d72b7aa1677ad4">yarp::os::impl::HttpCarrier::expectAck</a>(<a class="code" href="classyarp_1_1os_1_1ConnectionState.html">ConnectionState</a>&amp; proto)</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;{</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <a class="code" href="yarp-v3_82-build_2src_2libYARP__conf_2include_2yarp_2conf_2api_8h.html#a115a3e86265819f41c93ff12c2538d1f">YARP_UNUSED</a>(proto);</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="comment">// no acknowledgement</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;}</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160; </div>
<div class="line"><a name="l00813"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a3cbde661bea5dd5cbea78e62ba14237b">  813</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a3cbde661bea5dd5cbea78e62ba14237b">yarp::os::impl::HttpCarrier::respondToHeader</a>(<a class="code" href="classyarp_1_1os_1_1ConnectionState.html">ConnectionState</a>&amp; proto)</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;{</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    stream = <span class="keyword">new</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html">HttpTwoWayStream</a>(proto.<a class="code" href="classyarp_1_1os_1_1ConnectionState.html#a4bc4acd5f9311b92deeb8b2536493e65">giveStreams</a>(),</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                                  input.c_str(),</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                                  prefix.c_str(),</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                                  prop,</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                                  <span class="keyword">false</span>);</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    proto.<a class="code" href="classyarp_1_1os_1_1ConnectionState.html#ac552ef35e1a421b84064ca6f287be022">takeStreams</a>(stream);</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;}</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160; </div>
<div class="line"><a name="l00824"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#aa908b47f4ae2c7865793a731face984c">  824</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#aa908b47f4ae2c7865793a731face984c">yarp::os::impl::HttpCarrier::write</a>(<a class="code" href="classyarp_1_1os_1_1ConnectionState.html">ConnectionState</a>&amp; proto, <a class="code" href="classyarp_1_1os_1_1SizedWriter.html">SizedWriter</a>&amp; writer)</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;{</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <a class="code" href="classyarp_1_1os_1_1DummyConnector.html">DummyConnector</a> con;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    con.<a class="code" href="classyarp_1_1os_1_1DummyConnector.html#a471f5901c77337f4d48901d25da718e8">setTextMode</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = writer.<a class="code" href="classyarp_1_1os_1_1SizedWriter.html#a8b904ca48b672ff819f18ac21fc1d5b4">headerLength</a>(); i &lt; writer.<a class="code" href="classyarp_1_1os_1_1SizedWriter.html#ab995daae42f10a60c31e67bc47a3251f">length</a>(); i++) {</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        con.<a class="code" href="classyarp_1_1os_1_1DummyConnector.html#a1a04b79960e5549ad75945aad8ecd5f9">getWriter</a>().<a class="code" href="classyarp_1_1os_1_1ConnectionWriter.html#ab58f687afd43c05152737062a8a80ad8">appendBlock</a>(writer.<a class="code" href="classyarp_1_1os_1_1SizedWriter.html#aea94cbdf3f42985909997b847590e198">data</a>(i), writer.<a class="code" href="classyarp_1_1os_1_1SizedWriter.html#ab995daae42f10a60c31e67bc47a3251f">length</a>(i));</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    }</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    <a class="code" href="classyarp_1_1os_1_1Bottle.html">Bottle</a> b;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    b.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a5a8c78ecc16426da099d04312dcc47dc">read</a>(con.<a class="code" href="classyarp_1_1os_1_1DummyConnector.html#a79f9556748be5db5dccfadf2d09196e2">getReader</a>());</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160; </div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    std::string body = b.<a class="code" href="classyarp_1_1os_1_1Bottle.html#aeed416df930c8e0f599e5fcbebb66324">find</a>(<span class="stringliteral">&quot;web&quot;</span>).<a class="code" href="classyarp_1_1os_1_1Value.html#a807e82fec8408b7be003fa1c491eda2c">toString</a>();</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <span class="keywordflow">if</span> (body.length() != 0) {</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        std::string header;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        header += <a class="code" href="classyarp_1_1os_1_1NetType.html#a9d17e510a82fc094b4ae82fda93424e5">NetType::toHexString</a>((<span class="keywordtype">int</span>)body.length());</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        header += <span class="stringliteral">&quot;\r\n&quot;</span>;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160; </div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        <a class="code" href="classyarp_1_1os_1_1Bytes.html">Bytes</a> b2((<span class="keywordtype">char</span>*)header.c_str(), header.length());</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        proto.<a class="code" href="classyarp_1_1os_1_1ConnectionState.html#aee31bb2bfc02862ffcedeccf84ece140">os</a>().<a class="code" href="classyarp_1_1os_1_1OutputStream.html#a9ee2201aa922c1124392aeb97849148c">write</a>(b2);</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160; </div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        <a class="code" href="classyarp_1_1os_1_1Bytes.html">Bytes</a> b3((<span class="keywordtype">char</span>*)body.c_str(), body.length());</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        proto.<a class="code" href="classyarp_1_1os_1_1ConnectionState.html#aee31bb2bfc02862ffcedeccf84ece140">os</a>().<a class="code" href="classyarp_1_1os_1_1OutputStream.html#a9ee2201aa922c1124392aeb97849148c">write</a>(b3);</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160; </div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        proto.<a class="code" href="classyarp_1_1os_1_1ConnectionState.html#aee31bb2bfc02862ffcedeccf84ece140">os</a>().<a class="code" href="classyarp_1_1os_1_1OutputStream.html#a9ee2201aa922c1124392aeb97849148c">write</a>(<span class="charliteral">&#39;\r&#39;</span>);</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        proto.<a class="code" href="classyarp_1_1os_1_1ConnectionState.html#aee31bb2bfc02862ffcedeccf84ece140">os</a>().<a class="code" href="classyarp_1_1os_1_1OutputStream.html#a9ee2201aa922c1124392aeb97849148c">write</a>(<span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160; </div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        std::string txt = b.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad8cb921bd7e22d6fcafc3a61db65e75c">toString</a>() + <span class="stringliteral">&quot;\r\n&quot;</span>;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;        std::string header;</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        header += <a class="code" href="classyarp_1_1os_1_1NetType.html#a9d17e510a82fc094b4ae82fda93424e5">NetType::toHexString</a>((<span class="keywordtype">int</span>)txt.length());</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        header += <span class="stringliteral">&quot;\r\n&quot;</span>;</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        <a class="code" href="classyarp_1_1os_1_1Bytes.html">Bytes</a> b2((<span class="keywordtype">char</span>*)header.c_str(), header.length());</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        proto.<a class="code" href="classyarp_1_1os_1_1ConnectionState.html#aee31bb2bfc02862ffcedeccf84ece140">os</a>().<a class="code" href="classyarp_1_1os_1_1OutputStream.html#a9ee2201aa922c1124392aeb97849148c">write</a>(b2);</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;        <a class="code" href="classyarp_1_1os_1_1Bytes.html">Bytes</a> b3((<span class="keywordtype">char</span>*)txt.c_str(), txt.length());</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        proto.<a class="code" href="classyarp_1_1os_1_1ConnectionState.html#aee31bb2bfc02862ffcedeccf84ece140">os</a>().<a class="code" href="classyarp_1_1os_1_1OutputStream.html#a9ee2201aa922c1124392aeb97849148c">write</a>(b3);</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;        proto.<a class="code" href="classyarp_1_1os_1_1ConnectionState.html#aee31bb2bfc02862ffcedeccf84ece140">os</a>().<a class="code" href="classyarp_1_1os_1_1OutputStream.html#a9ee2201aa922c1124392aeb97849148c">write</a>(<span class="charliteral">&#39;\r&#39;</span>);</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        proto.<a class="code" href="classyarp_1_1os_1_1ConnectionState.html#aee31bb2bfc02862ffcedeccf84ece140">os</a>().<a class="code" href="classyarp_1_1os_1_1OutputStream.html#a9ee2201aa922c1124392aeb97849148c">write</a>(<span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    }</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    proto.<a class="code" href="classyarp_1_1os_1_1ConnectionState.html#aee31bb2bfc02862ffcedeccf84ece140">os</a>().<a class="code" href="classyarp_1_1os_1_1OutputStream.html#a36ab9b168185c63a46c4b8bd70205e97">flush</a>();</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <span class="keywordflow">return</span> proto.<a class="code" href="classyarp_1_1os_1_1ConnectionState.html#aee31bb2bfc02862ffcedeccf84ece140">os</a>().<a class="code" href="classyarp_1_1os_1_1OutputStream.html#a88ed49f557bdce2d130810bebc62af31">isOk</a>();</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;}</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160; </div>
<div class="line"><a name="l00865"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a4eb059e3285af4dcaa8659a12aa5065b">  865</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a4eb059e3285af4dcaa8659a12aa5065b">yarp::os::impl::HttpCarrier::reply</a>(<a class="code" href="classyarp_1_1os_1_1ConnectionState.html">ConnectionState</a>&amp; proto, <a class="code" href="classyarp_1_1os_1_1SizedWriter.html">SizedWriter</a>&amp; writer)</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;{</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <a class="code" href="classyarp_1_1os_1_1DummyConnector.html">DummyConnector</a> con;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    con.<a class="code" href="classyarp_1_1os_1_1DummyConnector.html#a471f5901c77337f4d48901d25da718e8">setTextMode</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = writer.<a class="code" href="classyarp_1_1os_1_1SizedWriter.html#a8b904ca48b672ff819f18ac21fc1d5b4">headerLength</a>(); i &lt; writer.<a class="code" href="classyarp_1_1os_1_1SizedWriter.html#ab995daae42f10a60c31e67bc47a3251f">length</a>(); i++) {</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        con.<a class="code" href="classyarp_1_1os_1_1DummyConnector.html#a1a04b79960e5549ad75945aad8ecd5f9">getWriter</a>().<a class="code" href="classyarp_1_1os_1_1ConnectionWriter.html#ab58f687afd43c05152737062a8a80ad8">appendBlock</a>(writer.<a class="code" href="classyarp_1_1os_1_1SizedWriter.html#aea94cbdf3f42985909997b847590e198">data</a>(i), writer.<a class="code" href="classyarp_1_1os_1_1SizedWriter.html#ab995daae42f10a60c31e67bc47a3251f">length</a>(i));</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    }</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <a class="code" href="classyarp_1_1os_1_1Bottle.html">Bottle</a> b;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    b.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a5a8c78ecc16426da099d04312dcc47dc">read</a>(con.<a class="code" href="classyarp_1_1os_1_1DummyConnector.html#a79f9556748be5db5dccfadf2d09196e2">getReader</a>());</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160; </div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    std::string mime = b.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a9a98533da1dfef02172cfcae62439f00">check</a>(<span class="stringliteral">&quot;mime&quot;</span>, <a class="code" href="classyarp_1_1os_1_1Value.html">Value</a>(<span class="stringliteral">&quot;text/html&quot;</span>)).asString();</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160; </div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    std::string body;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160; </div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="keywordtype">bool</span> using_json = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <span class="keywordflow">if</span> (stream != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        <span class="keywordflow">if</span> (stream-&gt;useJson()) {</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;            mime = <span class="stringliteral">&quot;text/json&quot;</span>;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;            <a class="code" href="HttpCarrier_8cpp.html#a4157952a0e6eddeaa0e8d6e4d12bec5d">asJson</a>(body, &amp;b, stream-&gt;typeHint());</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;            using_json = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        }</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    }</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160; </div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <span class="keywordflow">if</span> (b.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a9a98533da1dfef02172cfcae62439f00">check</a>(<span class="stringliteral">&quot;web&quot;</span>) &amp;&amp; !using_json) {</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        body = b.<a class="code" href="classyarp_1_1os_1_1Bottle.html#aeed416df930c8e0f599e5fcbebb66324">find</a>(<span class="stringliteral">&quot;web&quot;</span>).<a class="code" href="classyarp_1_1os_1_1Value.html#a807e82fec8408b7be003fa1c491eda2c">toString</a>();</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    }</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160; </div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <span class="keywordflow">if</span> (b.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a9a98533da1dfef02172cfcae62439f00">check</a>(<span class="stringliteral">&quot;stream&quot;</span>) &amp;&amp; !using_json) {</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        std::string header(<span class="stringliteral">&quot;HTTP/1.1 200 OK\r\nContent-Type: &quot;</span>);</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        header += mime;</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        header += <span class="stringliteral">&quot;\r\n&quot;</span>;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        header += <span class="stringliteral">&quot;Transfer-Encoding: chunked\r\n&quot;</span>;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        header += <span class="stringliteral">&quot;\r\n&quot;</span>;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        <span class="keywordtype">int</span> N = 2 * 1024;</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        header += <a class="code" href="classyarp_1_1os_1_1NetType.html#a9d17e510a82fc094b4ae82fda93424e5">NetType::toHexString</a>((<span class="keywordtype">int</span>)body.length() + N);</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        header += <span class="stringliteral">&quot;\r\n&quot;</span>;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160; </div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        <a class="code" href="classyarp_1_1os_1_1Bytes.html">Bytes</a> b2((<span class="keywordtype">char</span>*)header.c_str(), header.length());</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        proto.<a class="code" href="classyarp_1_1os_1_1ConnectionState.html#aee31bb2bfc02862ffcedeccf84ece140">os</a>().<a class="code" href="classyarp_1_1os_1_1OutputStream.html#a9ee2201aa922c1124392aeb97849148c">write</a>(b2);</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160; </div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        <span class="comment">// chrome etc won&#39;t render until enough chars are received.</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; N; i++) {</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;            proto.<a class="code" href="classyarp_1_1os_1_1ConnectionState.html#aee31bb2bfc02862ffcedeccf84ece140">os</a>().<a class="code" href="classyarp_1_1os_1_1OutputStream.html#a9ee2201aa922c1124392aeb97849148c">write</a>(<span class="charliteral">&#39; &#39;</span>);</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;        }</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160; </div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;        <a class="code" href="classyarp_1_1os_1_1Bytes.html">Bytes</a> b3((<span class="keywordtype">char</span>*)body.c_str(), body.length());</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;        proto.<a class="code" href="classyarp_1_1os_1_1ConnectionState.html#aee31bb2bfc02862ffcedeccf84ece140">os</a>().<a class="code" href="classyarp_1_1os_1_1OutputStream.html#a9ee2201aa922c1124392aeb97849148c">write</a>(b3);</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160; </div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;        proto.<a class="code" href="classyarp_1_1os_1_1ConnectionState.html#aee31bb2bfc02862ffcedeccf84ece140">os</a>().<a class="code" href="classyarp_1_1os_1_1OutputStream.html#a9ee2201aa922c1124392aeb97849148c">write</a>(<span class="charliteral">&#39;\r&#39;</span>);</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        proto.<a class="code" href="classyarp_1_1os_1_1ConnectionState.html#aee31bb2bfc02862ffcedeccf84ece140">os</a>().<a class="code" href="classyarp_1_1os_1_1OutputStream.html#a9ee2201aa922c1124392aeb97849148c">write</a>(<span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160; </div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160; </div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        <span class="keywordflow">if</span> (stream != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;            stream-&gt;flip();</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        }</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    }</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160; </div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <span class="keywordflow">if</span> (stream != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        stream-&gt;finish();</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    }</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160; </div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <span class="comment">// Could check response codes, mime types here.</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160; </div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    <span class="keywordflow">if</span> (body.length() != 0 || using_json) {</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        std::string mime = b.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a9a98533da1dfef02172cfcae62439f00">check</a>(<span class="stringliteral">&quot;mime&quot;</span>, <a class="code" href="classyarp_1_1os_1_1Value.html">Value</a>(using_json ? <span class="stringliteral">&quot;application/json&quot;</span> : <span class="stringliteral">&quot;text/html&quot;</span>)).asString();</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        std::string header(<span class="stringliteral">&quot;HTTP/1.1 200 OK\nContent-Type: &quot;</span>);</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        header += mime;</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        header += <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        header += <span class="stringliteral">&quot;Access-Control-Allow-Origin: *\n&quot;</span>;</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;        header += <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;        <a class="code" href="classyarp_1_1os_1_1Bytes.html">Bytes</a> b2((<span class="keywordtype">char</span>*)header.c_str(), header.length());</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;        proto.<a class="code" href="classyarp_1_1os_1_1ConnectionState.html#aee31bb2bfc02862ffcedeccf84ece140">os</a>().<a class="code" href="classyarp_1_1os_1_1OutputStream.html#a9ee2201aa922c1124392aeb97849148c">write</a>(b2);</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160; </div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        <span class="comment">//body = b.toString();</span></div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        <a class="code" href="classyarp_1_1os_1_1Bytes.html">Bytes</a> b3((<span class="keywordtype">char</span>*)body.c_str(), body.length());</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        proto.<a class="code" href="classyarp_1_1os_1_1ConnectionState.html#aee31bb2bfc02862ffcedeccf84ece140">os</a>().<a class="code" href="classyarp_1_1os_1_1OutputStream.html#a9ee2201aa922c1124392aeb97849148c">write</a>(b3);</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;        writer.<a class="code" href="classyarp_1_1os_1_1SizedWriter.html#a4db70d4d5efadafbcba7b0103053988b">write</a>(proto.<a class="code" href="classyarp_1_1os_1_1ConnectionState.html#aee31bb2bfc02862ffcedeccf84ece140">os</a>());</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    }</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    proto.<a class="code" href="classyarp_1_1os_1_1ConnectionState.html#aee31bb2bfc02862ffcedeccf84ece140">os</a>().<a class="code" href="classyarp_1_1os_1_1OutputStream.html#a36ab9b168185c63a46c4b8bd70205e97">flush</a>();</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    <span class="keywordflow">return</span> proto.<a class="code" href="classyarp_1_1os_1_1ConnectionState.html#aee31bb2bfc02862ffcedeccf84ece140">os</a>().<a class="code" href="classyarp_1_1os_1_1OutputStream.html#a88ed49f557bdce2d130810bebc62af31">isOk</a>();</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aclassyarp_1_1os_1_1DummyConnector_html"><div class="ttname"><a href="classyarp_1_1os_1_1DummyConnector.html">yarp::os::DummyConnector</a></div><div class="ttdoc">A dummy connection to test yarp::os::Portable implementations.</div><div class="ttdef"><b>Definition:</b> <a href="DummyConnector_8h_source.html#l00038">DummyConnector.h:39</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1TwoWayStream_html_a34b449183c4a524794fa7a1458cce35f"><div class="ttname"><a href="classyarp_1_1os_1_1TwoWayStream.html#a34b449183c4a524794fa7a1458cce35f">yarp::os::TwoWayStream::getLocalAddress</a></div><div class="ttdeci">virtual const Contact &amp; getLocalAddress() const =0</div><div class="ttdoc">Get the address of the local side of the stream.</div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1TwoWayStream_html"><div class="ttname"><a href="classyarp_1_1os_1_1TwoWayStream.html">yarp::os::TwoWayStream</a></div><div class="ttdoc">A stream which can be asked to perform bidirectional communication.</div><div class="ttdef"><b>Definition:</b> <a href="TwoWayStream_8h_source.html#l00028">TwoWayStream.h:29</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bottle_html"><div class="ttname"><a href="classyarp_1_1os_1_1Bottle.html">yarp::os::Bottle</a></div><div class="ttdoc">A simple collection of objects that can be described and transmitted in a portable way.</div><div class="ttdef"><b>Definition:</b> <a href="Bottle_8h_source.html#l00072">Bottle.h:73</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1SizedWriter_html_ab995daae42f10a60c31e67bc47a3251f"><div class="ttname"><a href="classyarp_1_1os_1_1SizedWriter.html#ab995daae42f10a60c31e67bc47a3251f">yarp::os::SizedWriter::length</a></div><div class="ttdeci">virtual size_t length() const =0</div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpCarrier_html_acc2f736af05fb32c86708bb169670864"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#acc2f736af05fb32c86708bb169670864">yarp::os::impl::HttpCarrier::expectSenderSpecifier</a></div><div class="ttdeci">bool expectSenderSpecifier(ConnectionState &amp;proto) override</div><div class="ttdoc">Expect the name of the sending port.</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00651">HttpCarrier.cpp:651</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpTwoWayStream_html"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html">yarp::os::impl::HttpTwoWayStream</a></div><div class="ttdoc">Minimal http connection support.</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8h_source.html#l00048">HttpCarrier.h:51</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bottle_html_ad8cb921bd7e22d6fcafc3a61db65e75c"><div class="ttname"><a href="classyarp_1_1os_1_1Bottle.html#ad8cb921bd7e22d6fcafc3a61db65e75c">yarp::os::Bottle::toString</a></div><div class="ttdeci">std::string toString() const override</div><div class="ttdoc">Gives a human-readable textual representation of the bottle.</div><div class="ttdef"><b>Definition:</b> <a href="Bottle_8cpp_source.html#l00193">Bottle.cpp:193</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Property_html_a2c90f76cba15b8cc9d1c88cf55b253a1"><div class="ttname"><a href="classyarp_1_1os_1_1Property.html#a2c90f76cba15b8cc9d1c88cf55b253a1">yarp::os::Property::put</a></div><div class="ttdeci">void put(const std::string &amp;key, const std::string &amp;value)</div><div class="ttdoc">Associate the given key with the given string.</div><div class="ttdef"><b>Definition:</b> <a href="Property_8cpp_source.html#l00983">Property.cpp:983</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1ConnectionWriter_html_ab58f687afd43c05152737062a8a80ad8"><div class="ttname"><a href="classyarp_1_1os_1_1ConnectionWriter.html#ab58f687afd43c05152737062a8a80ad8">yarp::os::ConnectionWriter::appendBlock</a></div><div class="ttdeci">virtual void appendBlock(const char *data, size_t len)=0</div><div class="ttdoc">Send a block of data to the network connection.</div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bottle_html_a4d2e210ab875bff598973ab0a6919c31"><div class="ttname"><a href="classyarp_1_1os_1_1Bottle.html#a4d2e210ab875bff598973ab0a6919c31">yarp::os::Bottle::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdoc">Gets the number of elements in the bottle.</div><div class="ttdef"><b>Definition:</b> <a href="Bottle_8cpp_source.html#l00233">Bottle.cpp:233</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpTwoWayStream_html_abfc87f8dbeda82c13c14645227f9eab7"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#abfc87f8dbeda82c13c14645227f9eab7">yarp::os::impl::HttpTwoWayStream::reset</a></div><div class="ttdeci">void reset() override</div><div class="ttdoc">Reset the stream.</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00388">HttpCarrier.cpp:388</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Carrier_html"><div class="ttname"><a href="classyarp_1_1os_1_1Carrier.html">yarp::os::Carrier</a></div><div class="ttdoc">A base class for connection types (tcp, mcast, shmem, ...) which are called carriers in YARP.</div><div class="ttdef"><b>Definition:</b> <a href="Carrier_8h_source.html#l00047">Carrier.h:48</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpTwoWayStream_html_aac3326d5c885502a02b5c64257c44b43"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#aac3326d5c885502a02b5c64257c44b43">yarp::os::impl::HttpTwoWayStream::finish</a></div><div class="ttdeci">void finish()</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00521">HttpCarrier.cpp:521</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1ConnectionState_html_a4bc4acd5f9311b92deeb8b2536493e65"><div class="ttname"><a href="classyarp_1_1os_1_1ConnectionState.html#a4bc4acd5f9311b92deeb8b2536493e65">yarp::os::ConnectionState::giveStreams</a></div><div class="ttdeci">virtual TwoWayStream * giveStreams()=0</div><div class="ttdoc">Take ownership of the streams associated with the connection.</div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1OutputStream_html_a9ee2201aa922c1124392aeb97849148c"><div class="ttname"><a href="classyarp_1_1os_1_1OutputStream.html#a9ee2201aa922c1124392aeb97849148c">yarp::os::OutputStream::write</a></div><div class="ttdeci">virtual void write(char ch)</div><div class="ttdoc">Write a single byte to the stream.</div><div class="ttdef"><b>Definition:</b> <a href="OutputStream_8cpp_source.html#l00017">OutputStream.cpp:17</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpTwoWayStream_html_a382ab590847ead1faf882537d594fd35"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#a382ab590847ead1faf882537d594fd35">yarp::os::impl::HttpTwoWayStream::typeHint</a></div><div class="ttdeci">std::string * typeHint()</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00531">HttpCarrier.cpp:531</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1OutputStream_html"><div class="ttname"><a href="classyarp_1_1os_1_1OutputStream.html">yarp::os::OutputStream</a></div><div class="ttdoc">Simple specification of the minimum functions needed from output streams.</div><div class="ttdef"><b>Definition:</b> <a href="OutputStream_8h_source.html#l00024">OutputStream.h:25</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpCarrier_html_a69d08a1feec15ce3f9d72b7aa1677ad4"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a69d08a1feec15ce3f9d72b7aa1677ad4">yarp::os::impl::HttpCarrier::expectAck</a></div><div class="ttdeci">bool expectAck(ConnectionState &amp;proto) override</div><div class="ttdoc">Receive an acknowledgement, if expected for this carrier.</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00806">HttpCarrier.cpp:806</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpTwoWayStream_html_a40a8560f2d0e8819f87b0f23b1ad8b28"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#a40a8560f2d0e8819f87b0f23b1ad8b28">yarp::os::impl::HttpTwoWayStream::beginPacket</a></div><div class="ttdeci">void beginPacket() override</div><div class="ttdoc">Mark the beginning of a logical packet.</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00506">HttpCarrier.cpp:506</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpCarrier_html_a5752cc1d6545ef12237aa6e55fdf9d6a"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a5752cc1d6545ef12237aa6e55fdf9d6a">yarp::os::impl::HttpCarrier::sendHeader</a></div><div class="ttdeci">bool sendHeader(ConnectionState &amp;proto) override</div><div class="ttdoc">Write a header appropriate to the carrier to the connection, followed by any carrier-specific data.</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00632">HttpCarrier.cpp:632</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpTwoWayStream_html_ac2c221c5c51fe5f830933c3807dbb8c4"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#ac2c221c5c51fe5f830933c3807dbb8c4">yarp::os::impl::HttpTwoWayStream::getRemoteAddress</a></div><div class="ttdeci">const Contact &amp; getRemoteAddress() const override</div><div class="ttdoc">Get the address of the remote side of the stream.</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00378">HttpCarrier.cpp:378</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1DummyConnector_html_a79f9556748be5db5dccfadf2d09196e2"><div class="ttname"><a href="classyarp_1_1os_1_1DummyConnector.html#a79f9556748be5db5dccfadf2d09196e2">yarp::os::DummyConnector::getReader</a></div><div class="ttdeci">ConnectionReader &amp; getReader()</div><div class="ttdoc">Get the dummy ConnectionReader loaded with whatever was written the ConnectionWriter since it was las...</div><div class="ttdef"><b>Definition:</b> <a href="DummyConnector_8cpp_source.html#l00113">DummyConnector.cpp:113</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpCarrier_html_acb1408bfb3c68bd280002320d0149407"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#acb1408bfb3c68bd280002320d0149407">yarp::os::impl::HttpCarrier::HttpCarrier</a></div><div class="ttdeci">HttpCarrier()</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00537">HttpCarrier.cpp:537</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1StringInputStream_html_a38723eda7afc431eaf8cbcea26343a4e"><div class="ttname"><a href="classyarp_1_1os_1_1StringInputStream.html#a38723eda7afc431eaf8cbcea26343a4e">yarp::os::StringInputStream::add</a></div><div class="ttdeci">void add(const std::string &amp;txt)</div><div class="ttdef"><b>Definition:</b> <a href="StringInputStream_8h_source.html#l00047">StringInputStream.h:47</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpTwoWayStream_html_ad076944bf0e275e39f93d7b9628b859f"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#ad076944bf0e275e39f93d7b9628b859f">yarp::os::impl::HttpTwoWayStream::~HttpTwoWayStream</a></div><div class="ttdeci">virtual ~HttpTwoWayStream()</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00355">HttpCarrier.cpp:355</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bottle_html_a388ffac14da35ebecd8f78b642c7221b"><div class="ttname"><a href="classyarp_1_1os_1_1Bottle.html#a388ffac14da35ebecd8f78b642c7221b">yarp::os::Bottle::fromString</a></div><div class="ttdeci">void fromString(const std::string &amp;text)</div><div class="ttdoc">Initializes bottle from a string.</div><div class="ttdef"><b>Definition:</b> <a href="Bottle_8cpp_source.html#l00186">Bottle.cpp:186</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpTwoWayStream_html_ae5ef4d43af28066ff00f70dafba7f988"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#ae5ef4d43af28066ff00f70dafba7f988">yarp::os::impl::HttpTwoWayStream::close</a></div><div class="ttdeci">void close() override</div><div class="ttdoc">Terminate the stream.</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00499">HttpCarrier.cpp:499</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpTwoWayStream_html_a12b1ebece48c7e5dd463efca82c9b625"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#a12b1ebece48c7e5dd463efca82c9b625">yarp::os::impl::HttpTwoWayStream::getOutputStream</a></div><div class="ttdeci">OutputStream &amp; getOutputStream() override</div><div class="ttdoc">Get an OutputStream to write to.</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00368">HttpCarrier.cpp:368</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1SizedWriter_html_a4db70d4d5efadafbcba7b0103053988b"><div class="ttname"><a href="classyarp_1_1os_1_1SizedWriter.html#a4db70d4d5efadafbcba7b0103053988b">yarp::os::SizedWriter::write</a></div><div class="ttdeci">virtual void write(OutputStream &amp;os)</div><div class="ttdef"><b>Definition:</b> <a href="SizedWriter_8cpp_source.html#l00019">SizedWriter.cpp:19</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Route_html"><div class="ttname"><a href="classyarp_1_1os_1_1Route.html">yarp::os::Route</a></div><div class="ttdoc">Information about a connection between two ports.</div><div class="ttdef"><b>Definition:</b> <a href="Route_8h_source.html#l00031">Route.h:32</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Contact_html_a6192fc01afbda5337e8a06438881c753"><div class="ttname"><a href="classyarp_1_1os_1_1Contact.html#a6192fc01afbda5337e8a06438881c753">yarp::os::Contact::getRegName</a></div><div class="ttdeci">std::string getRegName() const</div><div class="ttdoc">Get the name associated with this Contact.</div><div class="ttdef"><b>Definition:</b> <a href="Contact_8cpp_source.html#l00214">Contact.cpp:214</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bottle_html_aeed416df930c8e0f599e5fcbebb66324"><div class="ttname"><a href="classyarp_1_1os_1_1Bottle.html#aeed416df930c8e0f599e5fcbebb66324">yarp::os::Bottle::find</a></div><div class="ttdeci">Value &amp; find(const std::string &amp;key) const override</div><div class="ttdoc">Gets a value corresponding to a given keyword.</div><div class="ttdef"><b>Definition:</b> <a href="Bottle_8cpp_source.html#l00269">Bottle.cpp:269</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpCarrier_html_a06fcafc4fcde056e55c9ec8fbc585ed2"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a06fcafc4fcde056e55c9ec8fbc585ed2">yarp::os::impl::HttpCarrier::getHeader</a></div><div class="ttdeci">void getHeader(Bytes &amp;header) const override</div><div class="ttdoc">Provide 8 bytes describing this connection sufficiently to allow the other side of a connection to se...</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00606">HttpCarrier.cpp:606</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1TwoWayStream_html_a10a264b78bb89490bc45853dac4cdae2"><div class="ttname"><a href="classyarp_1_1os_1_1TwoWayStream.html#a10a264b78bb89490bc45853dac4cdae2">yarp::os::TwoWayStream::getOutputStream</a></div><div class="ttdeci">virtual OutputStream &amp; getOutputStream()=0</div><div class="ttdoc">Get an OutputStream to write to.</div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Contact_html_a7bfba47ee633e21f62655909369d25ea"><div class="ttname"><a href="classyarp_1_1os_1_1Contact.html#a7bfba47ee633e21f62655909369d25ea">yarp::os::Contact::toString</a></div><div class="ttdeci">std::string toString() const</div><div class="ttdoc">Get a textual representation of the Contact.</div><div class="ttdef"><b>Definition:</b> <a href="Contact_8cpp_source.html#l00300">Contact.cpp:300</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bottle_html_a9a98533da1dfef02172cfcae62439f00"><div class="ttname"><a href="classyarp_1_1os_1_1Bottle.html#a9a98533da1dfef02172cfcae62439f00">yarp::os::Bottle::check</a></div><div class="ttdeci">bool check(const std::string &amp;key) const override</div><div class="ttdoc">Check if there exists a property of the given name.</div><div class="ttdef"><b>Definition:</b> <a href="Bottle_8cpp_source.html#l00259">Bottle.cpp:259</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpCarrier_html_af6b6f5be4f2aae5cfb3f1e9bfd497cf4"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#af6b6f5be4f2aae5cfb3f1e9bfd497cf4">yarp::os::impl::HttpCarrier::sendIndex</a></div><div class="ttdeci">bool sendIndex(ConnectionState &amp;proto, SizedWriter &amp;writer) override</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00784">HttpCarrier.cpp:784</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Value_html_a000b840d8fca1c09cf4f2d05e333e88a"><div class="ttname"><a href="classyarp_1_1os_1_1Value.html#a000b840d8fca1c09cf4f2d05e333e88a">yarp::os::Value::isString</a></div><div class="ttdeci">virtual bool isString() const</div><div class="ttdoc">Checks if value is a string.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00159">Value.cpp:159</a></div></div>
<div class="ttc" id="aHttpCarrier_8cpp_html_a4dd43c999197f70add0ffa8c83f60a8f"><div class="ttname"><a href="HttpCarrier_8cpp.html#a4dd43c999197f70add0ffa8c83f60a8f">quoteFree</a></div><div class="ttdeci">static std::string quoteFree(const std::string &amp;src)</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00024">HttpCarrier.cpp:24</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpCarrier_html_a786234107d7c2b70b637dd1a2cdc4d63"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a786234107d7c2b70b637dd1a2cdc4d63">yarp::os::impl::HttpCarrier::requireAck</a></div><div class="ttdeci">bool requireAck() const override</div><div class="ttdoc">Check if carrier has flow control, requiring sent messages to be acknowledged by recipient.</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00616">HttpCarrier.cpp:616</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1SizedWriter_html_a8b904ca48b672ff819f18ac21fc1d5b4"><div class="ttname"><a href="classyarp_1_1os_1_1SizedWriter.html#a8b904ca48b672ff819f18ac21fc1d5b4">yarp::os::SizedWriter::headerLength</a></div><div class="ttdeci">virtual size_t headerLength() const =0</div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpTwoWayStream_html_a7cc19371c8d902a23af40435ebece817"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#a7cc19371c8d902a23af40435ebece817">yarp::os::impl::HttpTwoWayStream::getInputStream</a></div><div class="ttdeci">InputStream &amp; getInputStream() override</div><div class="ttdoc">Get an InputStream to read from.</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00363">HttpCarrier.cpp:363</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1ConnectionState_html_ac552ef35e1a421b84064ca6f287be022"><div class="ttname"><a href="classyarp_1_1os_1_1ConnectionState.html#ac552ef35e1a421b84064ca6f287be022">yarp::os::ConnectionState::takeStreams</a></div><div class="ttdeci">virtual void takeStreams(TwoWayStream *streams)=0</div><div class="ttdoc">Provide streams to be used with the connection.</div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1ConnectionState_html_aee31bb2bfc02862ffcedeccf84ece140"><div class="ttname"><a href="classyarp_1_1os_1_1ConnectionState.html#aee31bb2bfc02862ffcedeccf84ece140">yarp::os::ConnectionState::os</a></div><div class="ttdeci">OutputStream &amp; os()</div><div class="ttdoc">Shorthand for getOutputStream()</div><div class="ttdef"><b>Definition:</b> <a href="ConnectionState_8h_source.html#l00123">ConnectionState.h:123</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1ConnectionState_html_a47543e44a05f7508d3db1069ce3f67f9"><div class="ttname"><a href="classyarp_1_1os_1_1ConnectionState.html#a47543e44a05f7508d3db1069ce3f67f9">yarp::os::ConnectionState::getRoute</a></div><div class="ttdeci">virtual const Route &amp; getRoute() const =0</div><div class="ttdoc">Get the route associated with this connection.</div></div>
<div class="ttc" id="aManagedBytes_8h_html"><div class="ttname"><a href="ManagedBytes_8h.html">ManagedBytes.h</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1ManagedBytes_html"><div class="ttname"><a href="classyarp_1_1os_1_1ManagedBytes.html">yarp::os::ManagedBytes</a></div><div class="ttdoc">An abstraction for a block of bytes, with optional responsibility for allocating/destroying that bloc...</div><div class="ttdef"><b>Definition:</b> <a href="ManagedBytes_8h_source.html#l00024">ManagedBytes.h:25</a></div></div>
<div class="ttc" id="aRoute_8h_html"><div class="ttname"><a href="Route_8h.html">Route.h</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bottle_html_a6cd61ddbda2c4970bbe8087cf5986e42"><div class="ttname"><a href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">yarp::os::Bottle::get</a></div><div class="ttdeci">Value &amp; get(size_type index) const</div><div class="ttdoc">Reads a Value v from a certain part of the list.</div><div class="ttdef"><b>Definition:</b> <a href="Bottle_8cpp_source.html#l00228">Bottle.cpp:228</a></div></div>
<div class="ttc" id="aConnectionState_8h_html"><div class="ttname"><a href="ConnectionState_8h.html">ConnectionState.h</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Contact_html_ab4312ee491059450c68ab85bb713b44f"><div class="ttname"><a href="classyarp_1_1os_1_1Contact.html#ab4312ee491059450c68ab85bb713b44f">yarp::os::Contact::getPort</a></div><div class="ttdeci">int getPort() const</div><div class="ttdoc">Get the port number associated with this Contact for socket communication.</div><div class="ttdef"><b>Definition:</b> <a href="Contact_8cpp_source.html#l00236">Contact.cpp:236</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Property_html_a037386dffde2bcc681291568da2a9ae8"><div class="ttname"><a href="classyarp_1_1os_1_1Property.html#a037386dffde2bcc681291568da2a9ae8">yarp::os::Property::toString</a></div><div class="ttdeci">std::string toString() const override</div><div class="ttdoc">Return a standard text representation of the content of the object.</div><div class="ttdef"><b>Definition:</b> <a href="Property_8cpp_source.html#l01053">Property.cpp:1053</a></div></div>
<div class="ttc" id="aProperty_8h_html"><div class="ttname"><a href="Property_8h.html">Property.h</a></div></div>
<div class="ttc" id="aHttpCarrier_8cpp_html_a4157952a0e6eddeaa0e8d6e4d12bec5d"><div class="ttname"><a href="HttpCarrier_8cpp.html#a4157952a0e6eddeaa0e8d6e4d12bec5d">asJson</a></div><div class="ttdeci">static bool asJson(std::string &amp;accum, yarp::os::Bottle *bot, std::string *hint=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00077">HttpCarrier.cpp:77</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Value_html_a74fc086a15b4a57c827132841aaff88e"><div class="ttname"><a href="classyarp_1_1os_1_1Value.html#a74fc086a15b4a57c827132841aaff88e">yarp::os::Value::isFloat64</a></div><div class="ttdeci">virtual bool isFloat64() const</div><div class="ttdoc">Checks if value is a 64-bit floating point number.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00153">Value.cpp:153</a></div></div>
<div class="ttc" id="aDummyConnector_8h_html"><div class="ttname"><a href="DummyConnector_8h.html">DummyConnector.h</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bytes_html_ad62e722069297651d9efb5fa7fba1d92"><div class="ttname"><a href="classyarp_1_1os_1_1Bytes.html#ad62e722069297651d9efb5fa7fba1d92">yarp::os::Bytes::get</a></div><div class="ttdeci">const char * get() const</div><div class="ttdef"><b>Definition:</b> <a href="Bytes_8cpp_source.html#l00030">Bytes.cpp:30</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1DummyConnector_html_a1a04b79960e5549ad75945aad8ecd5f9"><div class="ttname"><a href="classyarp_1_1os_1_1DummyConnector.html#a1a04b79960e5549ad75945aad8ecd5f9">yarp::os::DummyConnector::getWriter</a></div><div class="ttdeci">ConnectionWriter &amp; getWriter()</div><div class="ttdoc">Get the dummy ConnectionWriter loaded with whatever was written the ConnectionWriter since it was las...</div><div class="ttdef"><b>Definition:</b> <a href="DummyConnector_8cpp_source.html#l00108">DummyConnector.cpp:108</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Contact_html_af2a116251afbc6e825c6cbe497812126"><div class="ttname"><a href="classyarp_1_1os_1_1Contact.html#af2a116251afbc6e825c6cbe497812126">yarp::os::Contact::getCarrier</a></div><div class="ttdeci">std::string getCarrier() const</div><div class="ttdoc">Get the carrier associated with this Contact for socket communication.</div><div class="ttdef"><b>Definition:</b> <a href="Contact_8cpp_source.html#l00247">Contact.cpp:247</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1ConnectionState_html_af34d20d32c88cfdb80fc9b288a244161"><div class="ttname"><a href="classyarp_1_1os_1_1ConnectionState.html#af34d20d32c88cfdb80fc9b288a244161">yarp::os::ConnectionState::setRoute</a></div><div class="ttdeci">virtual void setRoute(const Route &amp;route)=0</div><div class="ttdoc">Set the route associated with this connection.</div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1NetType_html_a9d17e510a82fc094b4ae82fda93424e5"><div class="ttname"><a href="classyarp_1_1os_1_1NetType.html#a9d17e510a82fc094b4ae82fda93424e5">yarp::os::NetType::toHexString</a></div><div class="ttdeci">static std::string toHexString(int x)</div><div class="ttdef"><b>Definition:</b> <a href="NetType_8cpp_source.html#l00041">NetType.cpp:41</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bytes_html_a1777bdec41bab120b74bc353e3570377"><div class="ttname"><a href="classyarp_1_1os_1_1Bytes.html#a1777bdec41bab120b74bc353e3570377">yarp::os::Bytes::length</a></div><div class="ttdeci">size_t length() const</div><div class="ttdef"><b>Definition:</b> <a href="Bytes_8cpp_source.html#l00025">Bytes.cpp:25</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Value_html_af2125ceb5eb007b6cd6ab77666682117"><div class="ttname"><a href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">yarp::os::Value::asString</a></div><div class="ttdeci">virtual std::string asString() const</div><div class="ttdoc">Get string value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00237">Value.cpp:237</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpTwoWayStream_html_ae0dce964cf0c94b736c3b1d50e5b4f58"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#ae0dce964cf0c94b736c3b1d50e5b4f58">yarp::os::impl::HttpTwoWayStream::write</a></div><div class="ttdeci">void write(const Bytes &amp;b) override</div><div class="ttdoc">Write a block of bytes to the stream.</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00393">HttpCarrier.cpp:393</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpCarrier_html_a08141a64e524dec2aee9f39156ef04ec"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a08141a64e524dec2aee9f39156ef04ec">yarp::os::impl::HttpCarrier::getName</a></div><div class="ttdeci">std::string getName() const override</div><div class="ttdoc">Get the name of this connection type (&quot;tcp&quot;, &quot;mcast&quot;, &quot;shmem&quot;, ...)</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00552">HttpCarrier.cpp:552</a></div></div>
<div class="ttc" id="anamespaceyarp_1_1conf_html_a3df5afb43ff7b7cc2b4e3cb9150eab20"><div class="ttname"><a href="namespaceyarp_1_1conf.html#a3df5afb43ff7b7cc2b4e3cb9150eab20">yarp::conf::ssize_t</a></div><div class="ttdeci">::ssize_t ssize_t</div><div class="ttdef"><b>Definition:</b> <a href="numeric_8h_source.html#l00060">numeric.h:60</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1InputStream_html_a9fd557d1748ee4b40c95896441ee93d0"><div class="ttname"><a href="classyarp_1_1os_1_1InputStream.html#a9fd557d1748ee4b40c95896441ee93d0">yarp::os::InputStream::readLine</a></div><div class="ttdeci">std::string readLine(const char terminal='\n', bool *success=nullptr)</div><div class="ttdoc">Read a block of text terminated with a specific marker (or EOF).</div><div class="ttdef"><b>Definition:</b> <a href="InputStream_8cpp_source.html#l00057">InputStream.cpp:57</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpTwoWayStream_html_a5c04b191f64a62d4933e76026bd00ca6"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#a5c04b191f64a62d4933e76026bd00ca6">yarp::os::impl::HttpTwoWayStream::flip</a></div><div class="ttdeci">void flip()</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00516">HttpCarrier.cpp:516</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1OutputStream_html_a36ab9b168185c63a46c4b8bd70205e97"><div class="ttname"><a href="classyarp_1_1os_1_1OutputStream.html#a36ab9b168185c63a46c4b8bd70205e97">yarp::os::OutputStream::flush</a></div><div class="ttdeci">virtual void flush()</div><div class="ttdoc">Make sure all pending write operations are finished.</div><div class="ttdef"><b>Definition:</b> <a href="OutputStream_8cpp_source.html#l00028">OutputStream.cpp:28</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpCarrier_html_a6f9711fed638e3c5d967bf4862d02c92"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a6f9711fed638e3c5d967bf4862d02c92">yarp::os::impl::HttpCarrier::checkHeader</a></div><div class="ttdeci">bool checkHeader(const Bytes &amp;header, const char *prefix)</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00557">HttpCarrier.cpp:557</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpCarrier_html_a039316a8a87aaf1168426bbeaead06d2"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a039316a8a87aaf1168426bbeaead06d2">yarp::os::impl::HttpCarrier::create</a></div><div class="ttdeci">Carrier * create() const override</div><div class="ttdoc">Factory method.</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00547">HttpCarrier.cpp:547</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpCarrier_html_a4eb059e3285af4dcaa8659a12aa5065b"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a4eb059e3285af4dcaa8659a12aa5065b">yarp::os::impl::HttpCarrier::reply</a></div><div class="ttdeci">bool reply(ConnectionState &amp;proto, SizedWriter &amp;writer) override</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00865">HttpCarrier.cpp:865</a></div></div>
<div class="ttc" id="aNameClient_8h_html"><div class="ttname"><a href="NameClient_8h.html">NameClient.h</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Property_html_a4cacd648b54c5a331f0ff5265d3b5680"><div class="ttname"><a href="classyarp_1_1os_1_1Property.html#a4cacd648b54c5a331f0ff5265d3b5680">yarp::os::Property::check</a></div><div class="ttdeci">bool check(const std::string &amp;key) const override</div><div class="ttdoc">Check if there exists a property of the given name.</div><div class="ttdef"><b>Definition:</b> <a href="Property_8cpp_source.html#l01014">Property.cpp:1014</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpTwoWayStream_html_a6cf60a2ac1569ea8cbee4786451ff6a8"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#a6cf60a2ac1569ea8cbee4786451ff6a8">yarp::os::impl::HttpTwoWayStream::getLocalAddress</a></div><div class="ttdeci">const Contact &amp; getLocalAddress() const override</div><div class="ttdoc">Get the address of the local side of the stream.</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00373">HttpCarrier.cpp:373</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1ConnectionState_html_a360a9e43bd30895cd702dc448110f50d"><div class="ttname"><a href="classyarp_1_1os_1_1ConnectionState.html#a360a9e43bd30895cd702dc448110f50d">yarp::os::ConnectionState::getStreams</a></div><div class="ttdeci">virtual TwoWayStream &amp; getStreams()=0</div><div class="ttdoc">Access the streams associated with the connection.</div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bottle_html_ad5bc9c6a71cde0b2bec814f3b632e28a"><div class="ttname"><a href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">yarp::os::Bottle::addString</a></div><div class="ttdeci">void addString(const char *str)</div><div class="ttdoc">Places a string in the bottle, at the end of the list.</div><div class="ttdef"><b>Definition:</b> <a href="Bottle_8cpp_source.html#l00152">Bottle.cpp:152</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bytes_html"><div class="ttname"><a href="classyarp_1_1os_1_1Bytes.html">yarp::os::Bytes</a></div><div class="ttdoc">A simple abstraction for a block of bytes.</div><div class="ttdef"><b>Definition:</b> <a href="Bytes_8h_source.html#l00027">Bytes.h:28</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpCarrier_html_acfaeb1bbecfffa34e44812a2ae72fbb6"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#acfaeb1bbecfffa34e44812a2ae72fbb6">yarp::os::impl::HttpCarrier::expectIndex</a></div><div class="ttdeci">bool expectIndex(ConnectionState &amp;proto) override</div><div class="ttdoc">Expect a message header, if there is one for this carrier.</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00792">HttpCarrier.cpp:792</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpTwoWayStream_html_a9ccf90328eb7fff64daf0aa7fc7b1681"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#a9ccf90328eb7fff64daf0aa7fc7b1681">yarp::os::impl::HttpTwoWayStream::apply</a></div><div class="ttdeci">virtual void apply(char ch)</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00404">HttpCarrier.cpp:404</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpTwoWayStream_html_a07759b287aa92acbe912f045f9d374ff"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#a07759b287aa92acbe912f045f9d374ff">yarp::os::impl::HttpTwoWayStream::isOk</a></div><div class="ttdeci">bool isOk() const override</div><div class="ttdoc">Check if the stream is ok or in an error state.</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00383">HttpCarrier.cpp:383</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Value_html_a4ced4bc0e9c1e732d4f4a98b0843a3e9"><div class="ttname"><a href="classyarp_1_1os_1_1Value.html#a4ced4bc0e9c1e732d4f4a98b0843a3e9">yarp::os::Value::isList</a></div><div class="ttdeci">virtual bool isList() const</div><div class="ttdoc">Checks if value is a list.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00165">Value.cpp:165</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpCarrier_html_aa908b47f4ae2c7865793a731face984c"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#aa908b47f4ae2c7865793a731face984c">yarp::os::impl::HttpCarrier::write</a></div><div class="ttdeci">bool write(ConnectionState &amp;proto, SizedWriter &amp;writer) override</div><div class="ttdoc">Write a message.</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00824">HttpCarrier.cpp:824</a></div></div>
<div class="ttc" id="aHttpCarrier_8h_html"><div class="ttname"><a href="HttpCarrier_8h.html">HttpCarrier.h</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1NetType_html_a1839fddc4142227cf438aaf9d7eafd26"><div class="ttname"><a href="classyarp_1_1os_1_1NetType.html#a1839fddc4142227cf438aaf9d7eafd26">yarp::os::NetType::toString</a></div><div class="ttdeci">static std::string toString(int x)</div><div class="ttdef"><b>Definition:</b> <a href="NetType_8cpp_source.html#l00048">NetType.cpp:48</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1ConnectionState_html"><div class="ttname"><a href="classyarp_1_1os_1_1ConnectionState.html">yarp::os::ConnectionState</a></div><div class="ttdoc">The basic state of a connection - route, streams in use, etc.</div><div class="ttdef"><b>Definition:</b> <a href="ConnectionState_8h_source.html#l00031">ConnectionState.h:32</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpCarrier_html_a110f31ae421d4e9a9a93d6260ce1677a"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a110f31ae421d4e9a9a93d6260ce1677a">yarp::os::impl::HttpCarrier::isTextMode</a></div><div class="ttdeci">bool isTextMode() const override</div><div class="ttdoc">Check if carrier is textual in nature.</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00621">HttpCarrier.cpp:621</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1OutputStream_html_a88ed49f557bdce2d130810bebc62af31"><div class="ttname"><a href="classyarp_1_1os_1_1OutputStream.html#a88ed49f557bdce2d130810bebc62af31">yarp::os::OutputStream::isOk</a></div><div class="ttdeci">virtual bool isOk() const =0</div><div class="ttdoc">Check if the stream is ok or in an error state.</div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpCarrier_html_a4f81a53f98f261fc5c14ad23bfeeeb14"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a4f81a53f98f261fc5c14ad23bfeeeb14">yarp::os::impl::HttpCarrier::sendAck</a></div><div class="ttdeci">bool sendAck(ConnectionState &amp;proto) override</div><div class="ttdoc">Send an acknowledgement, if needed for this carrier.</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00799">HttpCarrier.cpp:799</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Value_html_a4775a45e57c40460b0202c74f1a9bc4e"><div class="ttname"><a href="classyarp_1_1os_1_1Value.html#a4775a45e57c40460b0202c74f1a9bc4e">yarp::os::Value::asInt32</a></div><div class="ttdeci">virtual std::int32_t asInt32() const</div><div class="ttdoc">Get 32-bit integer value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00207">Value.cpp:207</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpCarrier_html_a3cbde661bea5dd5cbea78e62ba14237b"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a3cbde661bea5dd5cbea78e62ba14237b">yarp::os::impl::HttpCarrier::respondToHeader</a></div><div class="ttdeci">bool respondToHeader(ConnectionState &amp;proto) override</div><div class="ttdoc">Respond to the header.</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00813">HttpCarrier.cpp:813</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpCarrier_html"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html">yarp::os::impl::HttpCarrier</a></div><div class="ttdoc">Communicating via http.</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8h_source.html#l00098">HttpCarrier.h:100</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1InputStream_html_a937dec0f8021c357357463882b22dcd6"><div class="ttname"><a href="classyarp_1_1os_1_1InputStream.html#a937dec0f8021c357357463882b22dcd6">yarp::os::InputStream::readFull</a></div><div class="ttdeci">yarp::conf::ssize_t readFull(Bytes &amp;b)</div><div class="ttdoc">Keep reading until buffer is full.</div><div class="ttdef"><b>Definition:</b> <a href="InputStream_8cpp_source.html#l00099">InputStream.cpp:99</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1DummyConnector_html_a471f5901c77337f4d48901d25da718e8"><div class="ttname"><a href="classyarp_1_1os_1_1DummyConnector.html#a471f5901c77337f4d48901d25da718e8">yarp::os::DummyConnector::setTextMode</a></div><div class="ttdeci">void setTextMode(bool textmode)</div><div class="ttdoc">Set the textMode of the dummy connection.</div><div class="ttdef"><b>Definition:</b> <a href="DummyConnector_8cpp_source.html#l00098">DummyConnector.cpp:98</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1InputStream_html_a448b29e1cd20c5ae3bf3a43ba6b49f17"><div class="ttname"><a href="classyarp_1_1os_1_1InputStream.html#a448b29e1cd20c5ae3bf3a43ba6b49f17">yarp::os::InputStream::read</a></div><div class="ttdeci">virtual int read()</div><div class="ttdoc">Read and return a single byte.</div><div class="ttdef"><b>Definition:</b> <a href="InputStream_8cpp_source.html#l00023">InputStream.cpp:23</a></div></div>
<div class="ttc" id="anamespaceyarp_1_1os_html"><div class="ttname"><a href="namespaceyarp_1_1os.html">yarp::os</a></div><div class="ttdoc">An interface to the operating system, including Port based communication.</div><div class="ttdef"><b>Definition:</b> <a href="AbstractCarrier_8h_source.html#l00017">AbstractCarrier.h:17</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpCarrier_html_a4b43ce7f40163502370527579cedef89"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a4b43ce7f40163502370527579cedef89">yarp::os::impl::HttpCarrier::expectReplyToHeader</a></div><div class="ttdeci">bool expectReplyToHeader(ConnectionState &amp;proto) override</div><div class="ttdoc">Process reply to header, if one is expected for this carrier.</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00761">HttpCarrier.cpp:761</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Route_html_aa9f8b41204a624642782b17a69523c59"><div class="ttname"><a href="classyarp_1_1os_1_1Route.html#aa9f8b41204a624642782b17a69523c59">yarp::os::Route::setFromName</a></div><div class="ttdeci">void setFromName(const std::string &amp;fromName)</div><div class="ttdoc">Set the source of the route.</div><div class="ttdef"><b>Definition:</b> <a href="Route_8cpp_source.html#l00101">Route.cpp:101</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Contact_html_a44450481ce5c8dd99f3a75eb9c8f310f"><div class="ttname"><a href="classyarp_1_1os_1_1Contact.html#a44450481ce5c8dd99f3a75eb9c8f310f">yarp::os::Contact::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdoc">Checks if a Contact is tagged as valid.</div><div class="ttdef"><b>Definition:</b> <a href="Contact_8cpp_source.html#l00295">Contact.cpp:295</a></div></div>
<div class="ttc" id="ayarp-v3_82-build_2src_2libYARP__conf_2include_2yarp_2conf_2api_8h_html_a115a3e86265819f41c93ff12c2538d1f"><div class="ttname"><a href="yarp-v3_82-build_2src_2libYARP__conf_2include_2yarp_2conf_2api_8h.html#a115a3e86265819f41c93ff12c2538d1f">YARP_UNUSED</a></div><div class="ttdeci">#define YARP_UNUSED(var)</div><div class="ttdef"><b>Definition:</b> <a href="yarp-v3_82-build_2src_2libYARP__conf_2include_2yarp_2conf_2api_8h_source.html#l00159">api.h:159</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpCarrier_html_a9038f9f4c01aa4ea4e4d60c0beb9dfc0"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#a9038f9f4c01aa4ea4e4d60c0beb9dfc0">yarp::os::impl::HttpCarrier::supportReply</a></div><div class="ttdeci">bool supportReply() const override</div><div class="ttdoc">This flag is used by YARP to determine whether the connection can carry RPC traffic,...</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00627">HttpCarrier.cpp:627</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Route_html_adecd93c6d5572356a6f147fa2c25d591"><div class="ttname"><a href="classyarp_1_1os_1_1Route.html#adecd93c6d5572356a6f147fa2c25d591">yarp::os::Route::getToContact</a></div><div class="ttdeci">const Contact &amp; getToContact() const</div><div class="ttdoc">Get the destination contact of the route, if available.</div><div class="ttdef"><b>Definition:</b> <a href="Route_8cpp_source.html#l00116">Route.cpp:116</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Contact_html_af2fa156ae18485d859ef8c859f43eca1"><div class="ttname"><a href="classyarp_1_1os_1_1Contact.html#af2fa156ae18485d859ef8c859f43eca1">yarp::os::Contact::getHost</a></div><div class="ttdeci">std::string getHost() const</div><div class="ttdoc">Get the host name associated with this Contact for socket communication.</div><div class="ttdef"><b>Definition:</b> <a href="Contact_8cpp_source.html#l00225">Contact.cpp:225</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1ConnectionState_html_ae5bc55a55a1038c23603c4e287781213"><div class="ttname"><a href="classyarp_1_1os_1_1ConnectionState.html#ae5bc55a55a1038c23603c4e287781213">yarp::os::ConnectionState::is</a></div><div class="ttdeci">InputStream &amp; is()</div><div class="ttdoc">Shorthand for getInputStream()</div><div class="ttdef"><b>Definition:</b> <a href="ConnectionState_8h_source.html#l00131">ConnectionState.h:131</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bottle_html_a5a8c78ecc16426da099d04312dcc47dc"><div class="ttname"><a href="classyarp_1_1os_1_1Bottle.html#a5a8c78ecc16426da099d04312dcc47dc">yarp::os::Bottle::read</a></div><div class="ttdeci">bool read(ConnectionReader &amp;reader) override</div><div class="ttdoc">Set the bottle's value based on input from a network connection.</div><div class="ttdef"><b>Definition:</b> <a href="Bottle_8cpp_source.html#l00222">Bottle.cpp:222</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Contact_html"><div class="ttname"><a href="classyarp_1_1os_1_1Contact.html">yarp::os::Contact</a></div><div class="ttdoc">Represents how to reach a part of a YARP network.</div><div class="ttdef"><b>Definition:</b> <a href="Contact_8h_source.html#l00038">Contact.h:39</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Route_html_a2156322c29d68a6ef5d22e8bd43d5193"><div class="ttname"><a href="classyarp_1_1os_1_1Route.html#a2156322c29d68a6ef5d22e8bd43d5193">yarp::os::Route::getToName</a></div><div class="ttdeci">const std::string &amp; getToName() const</div><div class="ttdoc">Get the destination of the route.</div><div class="ttdef"><b>Definition:</b> <a href="Route_8cpp_source.html#l00106">Route.cpp:106</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1ManagedBytes_html_ab6a6d6720476bd84a3e04c769bcad3e5"><div class="ttname"><a href="classyarp_1_1os_1_1ManagedBytes.html#ab6a6d6720476bd84a3e04c769bcad3e5">yarp::os::ManagedBytes::get</a></div><div class="ttdeci">const char * get() const</div><div class="ttdef"><b>Definition:</b> <a href="ManagedBytes_8cpp_source.html#l00130">ManagedBytes.cpp:130</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Value_html_a5a029b824ce967d21ce2ed92508ac9cf"><div class="ttname"><a href="classyarp_1_1os_1_1Value.html#a5a029b824ce967d21ce2ed92508ac9cf">yarp::os::Value::asList</a></div><div class="ttdeci">virtual Bottle * asList() const</div><div class="ttdoc">Get list value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00243">Value.cpp:243</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1SizedWriter_html_aea94cbdf3f42985909997b847590e198"><div class="ttname"><a href="classyarp_1_1os_1_1SizedWriter.html#aea94cbdf3f42985909997b847590e198">yarp::os::SizedWriter::data</a></div><div class="ttdeci">virtual const char * data(size_t index) const =0</div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1NameClient_html_a5a1c62743cb958b35d7f7beae67ff058"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1NameClient.html#a5a1c62743cb958b35d7f7beae67ff058">yarp::os::impl::NameClient::extractAddress</a></div><div class="ttdeci">static Contact extractAddress(const std::string &amp;txt)</div><div class="ttdoc">Extract an address from its text representation.</div><div class="ttdef"><b>Definition:</b> <a href="NameClient_8cpp_source.html#l00271">NameClient.cpp:271</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Value_html_a807e82fec8408b7be003fa1c491eda2c"><div class="ttname"><a href="classyarp_1_1os_1_1Value.html#a807e82fec8408b7be003fa1c491eda2c">yarp::os::Value::toString</a></div><div class="ttdeci">std::string toString() const override</div><div class="ttdoc">Return a standard text representation of the content of the object.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00359">Value.cpp:359</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Value_html"><div class="ttname"><a href="classyarp_1_1os_1_1Value.html">yarp::os::Value</a></div><div class="ttdoc">A single value (typically within a Bottle).</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00046">Value.h:47</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1NetworkBase_html_a15a8d579bf5d730491bcfb49bf5d67c6"><div class="ttname"><a href="classyarp_1_1os_1_1NetworkBase.html#a15a8d579bf5d730491bcfb49bf5d67c6">yarp::os::NetworkBase::getNameServerContact</a></div><div class="ttdeci">static Contact getNameServerContact()</div><div class="ttdoc">Get the contact information for the port associated with the nameserver (usually &quot;/root&quot;,...</div><div class="ttdef"><b>Definition:</b> <a href="Network_8cpp_source.html#l01283">Network.cpp:1283</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpTwoWayStream_html_a51bf15256019f0541d74020c908e5864"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#a51bf15256019f0541d74020c908e5864">yarp::os::impl::HttpTwoWayStream::endPacket</a></div><div class="ttdeci">void endPacket() override</div><div class="ttdoc">Mark the end of a logical packet (see beginPacket).</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00511">HttpCarrier.cpp:511</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1InputStream_html"><div class="ttname"><a href="classyarp_1_1os_1_1InputStream.html">yarp::os::InputStream</a></div><div class="ttdoc">Simple specification of the minimum functions needed from input streams.</div><div class="ttdef"><b>Definition:</b> <a href="InputStream_8h_source.html#l00028">InputStream.h:29</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpTwoWayStream_html_a6d2e5d5bdfa0f561f1111b5fe8582751"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#a6d2e5d5bdfa0f561f1111b5fe8582751">yarp::os::impl::HttpTwoWayStream::useJson</a></div><div class="ttdeci">bool useJson()</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00526">HttpCarrier.cpp:526</a></div></div>
<div class="ttc" id="anamespaceyarp_1_1os_1_1impl_html"><div class="ttname"><a href="namespaceyarp_1_1os_1_1impl.html">yarp::os::impl</a></div><div class="ttdoc">The components from which ports and connections are built.</div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpCarrier_html_ae45c773f22b731ec3cd1498295f8acb7"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpCarrier.html#ae45c773f22b731ec3cd1498295f8acb7">yarp::os::impl::HttpCarrier::setParameters</a></div><div class="ttdeci">void setParameters(const Bytes &amp;header) override</div><div class="ttdoc">Configure this carrier based on the first 8 bytes of the connection.</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00585">HttpCarrier.cpp:585</a></div></div>
<div class="ttc" id="aSizedWriter_8h_html"><div class="ttname"><a href="SizedWriter_8h.html">SizedWriter.h</a></div></div>
<div class="ttc" id="aBottle_8h_html"><div class="ttname"><a href="Bottle_8h.html">Bottle.h</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1SizedWriter_html"><div class="ttname"><a href="classyarp_1_1os_1_1SizedWriter.html">yarp::os::SizedWriter</a></div><div class="ttdoc">Minimal requirements for an efficient Writer.</div><div class="ttdef"><b>Definition:</b> <a href="SizedWriter_8h_source.html#l00035">SizedWriter.h:36</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Value_html_a165ada6c03d19414dda20541b769b16f"><div class="ttname"><a href="classyarp_1_1os_1_1Value.html#a165ada6c03d19414dda20541b769b16f">yarp::os::Value::isVocab</a></div><div class="ttdeci">virtual bool isVocab() const</div><div class="ttdoc">Checks if value is a vocabulary identifier.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00177">Value.cpp:177</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Property_html"><div class="ttname"><a href="classyarp_1_1os_1_1Property.html">yarp::os::Property</a></div><div class="ttdoc">A class for storing options and configuration information.</div><div class="ttdef"><b>Definition:</b> <a href="Property_8h_source.html#l00034">Property.h:37</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Value_html_a942639c39161135049e19ebdb1eeae9a"><div class="ttname"><a href="classyarp_1_1os_1_1Value.html#a942639c39161135049e19ebdb1eeae9a">yarp::os::Value::isInt32</a></div><div class="ttdeci">virtual bool isInt32() const</div><div class="ttdoc">Checks if value is a 32-bit integer.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00135">Value.cpp:135</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1HttpTwoWayStream_html_a463a5c999ae36099a3151026b55e910d"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1HttpTwoWayStream.html#a463a5c999ae36099a3151026b55e910d">yarp::os::impl::HttpTwoWayStream::HttpTwoWayStream</a></div><div class="ttdeci">HttpTwoWayStream(TwoWayStream *delegate, const char *txt, const char *prefix, yarp::os::Property &amp;prop, bool writer)</div><div class="ttdef"><b>Definition:</b> <a href="HttpCarrier_8cpp_source.html#l00170">HttpCarrier.cpp:170</a></div></div>
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li><span id="projectname_footer">YARP</span></li>
    <li><span id="projectnumber" class="version_switch">3.2.2</span></li>
    <li class="navelem"><a class="el" href="dir_d946d32291de7db32f6a943fb45d46f4.html">src</a></li><li class="navelem"><a class="el" href="dir_1dc3d61bcf265c9a7599e8bad4c460f9.html">libYARP_OS</a></li><li class="navelem"><a class="el" href="dir_a193bc8fac33aaaab51f4c097c886417.html">src</a></li><li class="navelem"><a class="el" href="HttpCarrier_8cpp.html">HttpCarrier.cpp</a></li>
    <li class="footer">Generated on Tue Nov 3 2020 16:49:09 for YARP by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
