<!-- HTML header for doxygen 1.8.12-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>YARP: src/libYARP_OS/src/PortCore.cpp Source File</title>
<link rel="shortcut icon" href="yarp-favicon.ico" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
    var DOCUMENTATION_OPTIONS = { VERSION: '3.2.2' };
</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="yarp-doxygen-style.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../version_switch.js"></script>
<link rel="stylesheet" type="text/css" href="cookieconsent.min.css" />
<script src="cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#eb6c44",
      "text": "#ffffff"
    },
    "button": {
      "background": "#237afc",
    }
  },
  "theme": "classic",
  "content": {
    "message": "INFORMATION NOTICE ON COOKIES : This website uses only browsing/session cookies. Users can choose whether or not to accept the use of cookies and access the website. By clicking on \"Further information\", the full information notice on the types of cookies will be displayed and you will be able  to choose whether or not to accept them whilst browsing on the website.",
    "dismiss": "ACCEPT and close",
    "link": "Further information",
    "href": "http://www.icub.org/other/personal_data_notice.html"
  }
})});
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="yarp-robot-64.png"/></td>
  <td id="projectalign" style="padding-left: 1.5em;">
   <div id="projectname">YARP</div>
   <div id="projectbrief">Yet Another Robot Platform</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('PortCore_8cpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">PortCore.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="PortCore_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (C) 2006-2019 Istituto Italiano di Tecnologia (IIT)</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (C) 2006-2010 RobotCub Consortium</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * All rights reserved.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * This software may be modified and distributed under the terms of the</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * BSD-3-Clause license. See the accompanying LICENSE file for details.</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160; </div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="PortCore_8h.html">yarp/os/impl/PortCore.h</a>&gt;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160; </div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="Bottle_8h.html">yarp/os/Bottle.h</a>&gt;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="DummyConnector_8h.html">yarp/os/DummyConnector.h</a>&gt;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="InputProtocol_8h.html">yarp/os/InputProtocol.h</a>&gt;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="Name_8h.html">yarp/os/Name.h</a>&gt;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="Network_8h.html">yarp/os/Network.h</a>&gt;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="PortInfo_8h.html">yarp/os/PortInfo.h</a>&gt;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="RosNameSpace_8h.html">yarp/os/RosNameSpace.h</a>&gt;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="StringOutputStream_8h.html">yarp/os/StringOutputStream.h</a>&gt;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="SystemInfo_8h.html">yarp/os/SystemInfo.h</a>&gt;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="libYARP__OS_2include_2yarp_2os_2Time_8h.html">yarp/os/Time.h</a>&gt;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="BufferedConnectionWriter_8h.html">yarp/os/impl/BufferedConnectionWriter.h</a>&gt;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="ConnectionRecorder_8h.html">yarp/os/impl/ConnectionRecorder.h</a>&gt;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="Logger_8h.html">yarp/os/impl/Logger.h</a>&gt;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="libYARP__OS_2include_2yarp_2os_2impl_2PlatformUnistd_8h.html">yarp/os/impl/PlatformUnistd.h</a>&gt;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="PortCoreInputUnit_8h.html">yarp/os/impl/PortCoreInputUnit.h</a>&gt;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="PortCoreOutputUnit_8h.html">yarp/os/impl/PortCoreOutputUnit.h</a>&gt;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="StreamConnectionReader_8h.html">yarp/os/impl/StreamConnectionReader.h</a>&gt;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;cstdio&gt;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#ifdef YARP_HAS_ACE</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#    include &lt;ace/INET_Addr.h&gt;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#    include &lt;ace/Sched_Params.h&gt;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">// In one the ACE headers there is a definition of &quot;main&quot; for WIN32</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#    ifdef main</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#        undef main</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#    endif</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#if defined(__linux__) // used for configuring scheduling properties</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#    include &lt;dirent.h&gt;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#    include &lt;sys/types.h&gt;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#    include &lt;unistd.h&gt;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">//#define YMSG(x) printf x;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">//#define YTRACE(x) YMSG((&quot;at %s\n&quot;, x))</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="PortCore_8cpp.html#a25609f3929096fd640a572b69e51cf14">   52</a></span>&#160;<span class="preprocessor">#define YMSG(x)</span></div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="PortCore_8cpp.html#af80a7586a13277e0e7e60022856d050c">   53</a></span>&#160;<span class="preprocessor">#define YTRACE(x)</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespaceyarp_1_1os_1_1impl.html">yarp::os::impl</a>;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespaceyarp_1_1os.html">yarp::os</a>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespaceyarp.html">yarp</a>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#ab26d8cf509cfc097d7a182e01da8a049">   59</a></span>&#160;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#ab26d8cf509cfc097d7a182e01da8a049">PortCore::PortCore</a>() :</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        m_stateSemaphore(1),</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        m_packetMutex(),</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        m_connectionChangeSemaphore(1),</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        m_log(<span class="stringliteral">&quot;port&quot;</span>, <a class="code" href="classyarp_1_1os_1_1impl_1_1Logger.html">Logger</a>::get()),</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        m_face(nullptr),</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        m_reader(nullptr),</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        m_adminReader(nullptr),</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        m_readableCreator(nullptr),</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        m_eventReporter(nullptr),</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        m_listening(false),</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        m_running(false),</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        m_starting(false),</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        m_closing(false),</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        m_finished(false),</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        m_finishing(false),</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        m_waitBeforeSend(true),</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        m_waitAfterSend(true),</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        m_controlRegistration(true),</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        m_interruptible(true),</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        m_interrupted(false),</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        m_manual(false),</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        m_events(0),</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        m_connectionListeners(0),</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        m_inputCount(0),</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        m_outputCount(0),</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        m_dataOutputCount(0),</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        m_flags(<a class="code" href="PortCore_8h.html#a049806458dc33ed8ff7c2834cb8d538d">PORTCORE_IS_INPUT</a> | <a class="code" href="PortCore_8h.html#a71b6c0484a6f448aba810ee8b2cf6769">PORTCORE_IS_OUTPUT</a>),</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        m_verbosity(1),</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        m_logNeeded(false),</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        m_timeout(-1),</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        m_counter(1),</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        m_prop(nullptr),</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        m_contactable(nullptr),</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        m_mutex(nullptr),</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        m_mutexOwned(false),</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        m_envelopeWriter(true),</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        m_typeMutex(),</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        m_checkedType(false)</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;{</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;}</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a5d6443f8c42ec47f339021115e476f50">  101</a></span>&#160;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a5d6443f8c42ec47f339021115e476f50">PortCore::~PortCore</a>()</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;{</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#ab65224cdee850303def26a76a36f9a41">close</a>();</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af909a36b5ac4dbf3d311c3258a841555">removeCallbackLock</a>();</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;}</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160; </div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a6da58bff35b731d50439cdcd9dbc45e5">  108</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a6da58bff35b731d50439cdcd9dbc45e5">PortCore::listen</a>(<span class="keyword">const</span> <a class="code" href="classyarp_1_1os_1_1Contact.html">Contact</a>&amp; address, <span class="keywordtype">bool</span> shouldAnnounce)</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;{</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="comment">// If we&#39;re using ACE, we really need to have it initialized before</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="comment">// this point.</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classyarp_1_1os_1_1NetworkBase.html#a04a072adde94ed3ae23263d627d03db0">NetworkBase::initialized</a>()) {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <a class="code" href="Logger_8h.html#a134a52fb1fc4b6d328a6678fe93f1104">YARP_ERROR</a>(m_log, <span class="stringliteral">&quot;YARP not initialized; create a yarp::os::Network object before using ports&quot;</span>);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    }</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <a class="code" href="PortCore_8cpp.html#af80a7586a13277e0e7e60022856d050c">YTRACE</a>(<span class="stringliteral">&quot;PortCore::listen&quot;</span>);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="comment">// This method assumes we are not already on the network.</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="comment">// We can assume this because it is not a user-facing class,</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="comment">// and we carefully never call this method again without</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="comment">// calling close().</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(!m_listening);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(!m_running);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(!m_closing);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(!m_finished);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(m_face == <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="comment">// Try to put the port on the network, using the user-supplied</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="comment">// address (which may be incomplete).  You can think of</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="comment">// this as getting a server socket.</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    m_address = address;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af8d25911824efdf24b4249fd4fe3ab37">setName</a>(address.<a class="code" href="classyarp_1_1os_1_1Contact.html#a6192fc01afbda5337e8a06438881c753">getRegName</a>());</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">if</span> (m_timeout &gt; 0) {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        m_address.<a class="code" href="classyarp_1_1os_1_1Contact.html#ae6bd0ee309c266b4b15ff6278706dd86">setTimeout</a>(m_timeout);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    }</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    m_face = <a class="code" href="classyarp_1_1os_1_1Carriers.html#a4ee8ba1bb8e1185cc3af2afdce01b5b2">Carriers::listen</a>(m_address);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="comment">// We failed, abort.</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordflow">if</span> (m_face == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    }</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="comment">// Update our address if it was incomplete.</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">if</span> (m_address.<a class="code" href="classyarp_1_1os_1_1Contact.html#ab4312ee491059450c68ab85bb713b44f">getPort</a>() &lt;= 0) {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        m_address = m_face-&gt;<a class="code" href="classyarp_1_1os_1_1Face.html#a2abf292d39783b9c9f56779856bb23f9">getLocalAddress</a>();</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="keywordflow">if</span> (m_address.<a class="code" href="classyarp_1_1os_1_1Contact.html#a6192fc01afbda5337e8a06438881c753">getRegName</a>() == <span class="stringliteral">&quot;...&quot;</span>) {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            m_address.<a class="code" href="classyarp_1_1os_1_1Contact.html#ac6c364a50b5d0ee7ceba8499b1ae9fce">setName</a>(std::string(<span class="stringliteral">&quot;/&quot;</span>) + m_address.<a class="code" href="classyarp_1_1os_1_1Contact.html#af2fa156ae18485d859ef8c859f43eca1">getHost</a>() + <span class="stringliteral">&quot;_&quot;</span> + <a class="code" href="classyarp_1_1os_1_1NetType.html#a1839fddc4142227cf438aaf9d7eafd26">NetType::toString</a>(m_address.<a class="code" href="classyarp_1_1os_1_1Contact.html#ab4312ee491059450c68ab85bb713b44f">getPort</a>()));</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af8d25911824efdf24b4249fd4fe3ab37">setName</a>(m_address.<a class="code" href="classyarp_1_1os_1_1Contact.html#a6192fc01afbda5337e8a06438881c753">getRegName</a>());</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        }</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    }</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="comment">// Move into listening phase</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    m_listening = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    m_log.<a class="code" href="classyarp_1_1os_1_1impl_1_1Logger.html#abfc2088ddbaf9154ee3585ef6902b1a8">setPrefix</a>(address.<a class="code" href="classyarp_1_1os_1_1Contact.html#a6192fc01afbda5337e8a06438881c753">getRegName</a>().c_str());</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="comment">// Now that we are on the network, we can let the name server know this.</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">if</span> (shouldAnnounce) {</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="keywordflow">if</span> (!(<a class="code" href="classyarp_1_1os_1_1NetworkBase.html#a1014f143ecbb9a7ab5981bdf31edf382">NetworkBase::getLocalMode</a>() &amp;&amp; <a class="code" href="classyarp_1_1os_1_1NetworkBase.html#a4b4043e0e1d4c8e97c33b7593535aa95">NetworkBase::getQueryBypass</a>() == <span class="keyword">nullptr</span>)) {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            std::string portName = address.<a class="code" href="classyarp_1_1os_1_1Contact.html#a6192fc01afbda5337e8a06438881c753">getRegName</a>();</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            <a class="code" href="classyarp_1_1os_1_1Bottle.html">Bottle</a> cmd;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            <a class="code" href="classyarp_1_1os_1_1Bottle.html">Bottle</a> reply;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;announce&quot;</span>);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(portName);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            <a class="code" href="classyarp_1_1os_1_1ContactStyle.html">ContactStyle</a> style;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            <a class="code" href="classyarp_1_1os_1_1NetworkBase.html#ae11fbcd1d40e8cdd783aeacc92a9db8d">NetworkBase::writeToNameServer</a>(cmd, reply, style);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        }</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    }</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="comment">// Success!</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;}</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#aa05deb86e0083686627a3af42c72085c">  179</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#aa05deb86e0083686627a3af42c72085c">PortCore::setReadHandler</a>(<a class="code" href="classyarp_1_1os_1_1PortReader.html">PortReader</a>&amp; reader)</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;{</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="comment">// Don&#39;t even try to do this when the port is hot, it&#39;ll burn you</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(!m_running);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(m_reader == <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    m_reader = &amp;reader;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;}</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00187"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a124ffaab5845cbbce36c7e0497a870c2">  187</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a124ffaab5845cbbce36c7e0497a870c2">PortCore::setAdminReadHandler</a>(<a class="code" href="classyarp_1_1os_1_1PortReader.html">PortReader</a>&amp; reader)</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;{</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="comment">// Don&#39;t even try to do this when the port is hot, it&#39;ll burn you</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(!m_running);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(m_adminReader == <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    m_adminReader = &amp;reader;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;}</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af3557d6ca0342897c5dd4fd57e989497">  195</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af3557d6ca0342897c5dd4fd57e989497">PortCore::setReadCreator</a>(<a class="code" href="classyarp_1_1os_1_1PortReaderCreator.html">PortReaderCreator</a>&amp; creator)</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;{</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="comment">// Don&#39;t even try to do this when the port is hot, it&#39;ll burn you</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(!m_running);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(m_readableCreator == <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    m_readableCreator = &amp;creator;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;}</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a2a6dca92d9adb4518f69b3d09dd1da10">  204</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a2a6dca92d9adb4518f69b3d09dd1da10">PortCore::run</a>()</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;{</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <a class="code" href="PortCore_8cpp.html#af80a7586a13277e0e7e60022856d050c">YTRACE</a>(<span class="stringliteral">&quot;PortCore::run&quot;</span>);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="comment">// This is the server thread for the port.  We listen on</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="comment">// the network and handle any incoming connections.</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="comment">// We don&#39;t touch those connections, just shove them</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="comment">// in a list and move on.  It is important that this</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="comment">// thread doesn&#39;t make a connecting client wait just</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="comment">// because some other client is slow.</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160; </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="comment">// We assume that listen() has succeeded and that</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="comment">// start() has been called.</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(m_listening);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(!m_running);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(!m_closing);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(!m_finished);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(m_starting);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="comment">// Enter running phase</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    m_running = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    m_starting = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="comment">// This post is matched with a wait in start()</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <a class="code" href="PortCore_8cpp.html#af80a7586a13277e0e7e60022856d050c">YTRACE</a>(<span class="stringliteral">&quot;PortCore::run running&quot;</span>);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160; </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="comment">// Enter main loop, where we block on incoming connections.</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="comment">// The loop is exited when PortCore#closing is set.  One last</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="comment">// connection will be needed to de-block this thread and ensure</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="comment">// that it checks PortCore#closing.</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordtype">bool</span> shouldStop = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">while</span> (!shouldStop) {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <span class="comment">// Block and wait for a connection</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <a class="code" href="classyarp_1_1os_1_1InputProtocol.html">InputProtocol</a>* ip = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        ip = m_face-&gt;<a class="code" href="classyarp_1_1os_1_1Face.html#a4e0e232965c32b6947e889325ca12d64">read</a>();</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <span class="comment">// Attach the connection to this port and update its timeout setting</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <span class="keywordflow">if</span> (ip != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            ip-&gt;<a class="code" href="classyarp_1_1os_1_1InputProtocol.html#af3f4aa1b5075b04e93a4be8172756768">attachPort</a>(m_contactable);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            <a class="code" href="Logger_8h.html#a3ac8e9b980e14d08fca14f4bef545c96">YARP_DEBUG</a>(m_log, <span class="stringliteral">&quot;PortCore received something&quot;</span>);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            <span class="keywordflow">if</span> (m_timeout &gt; 0) {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                ip-&gt;<a class="code" href="classyarp_1_1os_1_1InputProtocol.html#a43ad1275f5a90420a1aac1b090823289">setTimeout</a>(m_timeout);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <span class="comment">// Check whether we should shut down</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        shouldStop |= m_closing;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="comment">// Increment a global count of connection events</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        m_events++;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160; </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="comment">// It we are not shutting down, spin off the connection.</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <span class="comment">// It starts life as an input connection (although it</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="comment">// may later morph into an output).</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <span class="keywordflow">if</span> (!shouldStop) {</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            <span class="keywordflow">if</span> (ip != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                addInput(ip);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            }</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            <a class="code" href="Logger_8h.html#a3ac8e9b980e14d08fca14f4bef545c96">YARP_DEBUG</a>(m_log, <span class="stringliteral">&quot;PortCore spun off a connection&quot;</span>);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            ip = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        }</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="comment">// If the connection wasn&#39;t spun off, just shut it down.</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="keywordflow">if</span> (ip != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            ip-&gt;<a class="code" href="classyarp_1_1os_1_1InputProtocol.html#a31028d1261a95bea1413ce727e3aea89">close</a>();</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            <span class="keyword">delete</span> ip;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            ip = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <span class="comment">// Remove any defunct connections.</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        reapUnits();</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160; </div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="comment">// Notify anyone listening for connection changes.</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="comment">// This should be using a condition variable once we have them,</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="comment">// this is not solid TODO</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; m_connectionListeners; i++) {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            m_connectionChangeSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        m_connectionListeners = 0;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    }</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <a class="code" href="PortCore_8cpp.html#af80a7586a13277e0e7e60022856d050c">YTRACE</a>(<span class="stringliteral">&quot;PortCore::run closing&quot;</span>);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="comment">// The server thread is shutting down.</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; m_connectionListeners; i++) {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        m_connectionChangeSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    }</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    m_connectionListeners = 0;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    m_finished = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;}</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#ab65224cdee850303def26a76a36f9a41">  307</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#ab65224cdee850303def26a76a36f9a41">PortCore::close</a>()</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;{</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    closeMain();</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">if</span> (m_prop != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <span class="keyword">delete</span> m_prop;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        m_prop = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    }</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#ad745ca47f58f7138675ab4978c352dab">releaseOutModifier</a>();</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#af0c466c8de25ffc0fed579a5ce4bdaa7">releaseInModifier</a>();</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;}</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160; </div>
<div class="line"><a name="l00320"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a2dbc7c8f6bc1ab9715a68211c4fd43ae">  320</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a2dbc7c8f6bc1ab9715a68211c4fd43ae">PortCore::start</a>()</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;{</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <a class="code" href="PortCore_8cpp.html#af80a7586a13277e0e7e60022856d050c">YTRACE</a>(<span class="stringliteral">&quot;PortCore::start&quot;</span>);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160; </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="comment">// This wait will, on success, be matched by a post in run()</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="comment">// We assume that listen() has been called.</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(m_listening);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(!m_running);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(!m_starting);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(!m_finished);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(!m_closing);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    m_starting = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="comment">// Start the server thread.</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordtype">bool</span> started = <a class="code" href="classyarp_1_1os_1_1impl_1_1ThreadImpl.html#acd9f29af26655907d2a6b9149b298b10">ThreadImpl::start</a>();</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">if</span> (!started) {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <span class="comment">// run() won&#39;t be happening</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <span class="comment">// run() will signal stateSema once it is active</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(m_running);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <span class="comment">// release stateSema for its normal task of controlling access to state</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    }</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordflow">return</span> started;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;}</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; </div>
<div class="line"><a name="l00352"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a9cef611ab83f3467466f0397236455c9">  352</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a9cef611ab83f3467466f0397236455c9">PortCore::manualStart</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* sourceName)</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;{</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="comment">// This variant of start() does not create a server thread.</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="comment">// That is appropriate if we never expect to receive incoming</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="comment">// connections for any reason.  No incoming data, no requests</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="comment">// for state information, no requests to change connections,</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="comment">// nothing.  We set the port&#39;s name to something fake, and</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="comment">// act like nothing is wrong.</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    m_interruptible = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    m_manual = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af8d25911824efdf24b4249fd4fe3ab37">setName</a>(sourceName);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;}</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160; </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160; </div>
<div class="line"><a name="l00367"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a3de8360f28f844b1e31a24745f5953fb">  367</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a3de8360f28f844b1e31a24745f5953fb">PortCore::resume</a>()</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;{</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="comment">// We are no longer interrupted.</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    m_interrupted = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;}</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160; </div>
<div class="line"><a name="l00373"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a51396c0243f5ab1cc01040b1788f831e">  373</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a51396c0243f5ab1cc01040b1788f831e">PortCore::interrupt</a>()</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;{</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="comment">// This is a no-op if there is no server thread.</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordflow">if</span> (!m_listening) {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    }</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160; </div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="comment">// Ignore any future incoming data</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    m_interrupted = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160; </div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="comment">// What about data that is already coming in?</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="comment">// If interruptible is not currently set, no worries, the user</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="comment">// did not or will not end up blocked on a read.</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordflow">if</span> (!m_interruptible) {</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    }</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160; </div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="comment">// Since interruptible is set, it is possible that the user</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="comment">// may be blocked on a read.  We send an empty message,</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="comment">// which is reserved for giving blocking readers a chance to</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="comment">// update their state.</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordflow">if</span> (m_reader != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <a class="code" href="Logger_8h.html#a3ac8e9b980e14d08fca14f4bef545c96">YARP_DEBUG</a>(m_log, <span class="stringliteral">&quot;sending update-state message to listener&quot;</span>);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <a class="code" href="classyarp_1_1os_1_1impl_1_1StreamConnectionReader.html">StreamConnectionReader</a> sbr;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a1500b1ab36452e9c0c518eff8cace19f">lockCallback</a>();</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        m_reader-&gt;<a class="code" href="classyarp_1_1os_1_1PortReader.html#a10c08e5812f43e208fae5843137afa1d">read</a>(sbr);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a8c5da1bc7588e29307679938df89b18e">unlockCallback</a>();</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    }</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;}</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160; </div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="keywordtype">void</span> PortCore::closeMain()</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;{</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <a class="code" href="PortCore_8cpp.html#af80a7586a13277e0e7e60022856d050c">YTRACE</a>(<span class="stringliteral">&quot;PortCore::closeMain&quot;</span>);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="comment">// We may not have anything to do.</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordflow">if</span> (m_finishing || !(m_running || m_manual)) {</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <a class="code" href="PortCore_8cpp.html#af80a7586a13277e0e7e60022856d050c">YTRACE</a>(<span class="stringliteral">&quot;PortCore::closeMainNothingToDo&quot;</span>);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    }</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160; </div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <a class="code" href="PortCore_8cpp.html#af80a7586a13277e0e7e60022856d050c">YTRACE</a>(<span class="stringliteral">&quot;PortCore::closeMainCentral&quot;</span>);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160; </div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="comment">// Move into official &quot;finishing&quot; phase.</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    m_finishing = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <a class="code" href="Logger_8h.html#a3ac8e9b980e14d08fca14f4bef545c96">YARP_DEBUG</a>(m_log, <span class="stringliteral">&quot;now preparing to shut down port&quot;</span>);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160; </div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="comment">// Start disconnecting inputs.  We ask the other side of the</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="comment">// connection to do this, so it won&#39;t come as a surprise.</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="comment">// The details of how disconnection works vary by carrier.</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="comment">// While we are doing this, the server thread may be still running.</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="comment">// This is because other ports may need to talk to the server</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="comment">// to organize details of how a connection should be broken down.</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="keywordtype">bool</span> done = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    std::string prevName;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordflow">while</span> (!done) {</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        done = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        std::string removeName;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> unit : m_units) {</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;            <span class="keywordflow">if</span> ((unit != <span class="keyword">nullptr</span>) &amp;&amp; unit-&gt;isInput() &amp;&amp;!unit-&gt;isDoomed()) {</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                <a class="code" href="classyarp_1_1os_1_1Route.html">Route</a> r = unit-&gt;getRoute();</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                std::string s = r.<a class="code" href="classyarp_1_1os_1_1Route.html#a9beaa65ef1683ab12367720e2e98d0f8">getFromName</a>();</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                <span class="keywordflow">if</span> (s.length() &gt;= 1 &amp;&amp; s[0] == <span class="charliteral">&#39;/&#39;</span> &amp;&amp; s != <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af12556e5940fd1edaa84efc8cd12ced3">getName</a>() &amp;&amp; s != prevName) {</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                    removeName = s;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                    done = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                }</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            }</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        }</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <span class="keywordflow">if</span> (!done) {</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            <a class="code" href="Logger_8h.html#a3ac8e9b980e14d08fca14f4bef545c96">YARP_DEBUG</a>(m_log, std::string(<span class="stringliteral">&quot;requesting removal of connection from &quot;</span>) + removeName);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            <span class="keywordtype">bool</span> result = <a class="code" href="classyarp_1_1os_1_1NetworkBase.html#ae6c936c292661788e3a04fe0abb6f159">NetworkBase::disconnect</a>(removeName,</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                                                  <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af12556e5940fd1edaa84efc8cd12ced3">getName</a>(),</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                                                  <span class="keyword">true</span>);</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            <span class="keywordflow">if</span> (!result) {</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                <a class="code" href="classyarp_1_1os_1_1NetworkBase.html#adc0c0f33c46124d85665dc4664a26501">NetworkBase::disconnectInput</a>(<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af12556e5940fd1edaa84efc8cd12ced3">getName</a>(),</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                                             removeName,</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                                             <span class="keyword">true</span>);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            }</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            prevName = removeName;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        }</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    }</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160; </div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="comment">// Start disconnecting outputs.  We don&#39;t negotiate with the</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="comment">// other side, we just break them down.</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    done = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keywordflow">while</span> (!done) {</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        done = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <a class="code" href="classyarp_1_1os_1_1Route.html">Route</a> removeRoute;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> unit : m_units) {</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            <span class="keywordflow">if</span> ((unit != <span class="keyword">nullptr</span>) &amp;&amp; unit-&gt;isOutput() &amp;&amp; !unit-&gt;isFinished()) {</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                removeRoute = unit-&gt;getRoute();</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                <span class="keywordflow">if</span> (removeRoute.<a class="code" href="classyarp_1_1os_1_1Route.html#a9beaa65ef1683ab12367720e2e98d0f8">getFromName</a>() == <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af12556e5940fd1edaa84efc8cd12ced3">getName</a>()) {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                    done = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                }</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            }</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        }</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <span class="keywordflow">if</span> (!done) {</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            removeUnit(removeRoute, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        }</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    }</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160; </div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keywordtype">bool</span> stopRunning = m_running;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160; </div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="comment">// If the server thread is still running, we need to bring it down.</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordflow">if</span> (stopRunning) {</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        <span class="comment">// Let the server thread know we no longer need its services.</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        m_closing = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160; </div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        <span class="comment">// Wake up the server thread the only way we can, by sending</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <span class="comment">// a message to it.  Then join it, it is done.</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        <span class="keywordflow">if</span> (!m_manual) {</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            <a class="code" href="classyarp_1_1os_1_1OutputProtocol.html">OutputProtocol</a>* op = m_face-&gt;<a class="code" href="classyarp_1_1os_1_1Face.html#af3027b57c678bcea6ea5e48d079ef24b">write</a>(m_address);</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;            <span class="keywordflow">if</span> (op != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                op-&gt;<a class="code" href="classyarp_1_1os_1_1OutputProtocol.html#a9b62009573d9b109ffa037d0b4bdaa39">close</a>();</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                <span class="keyword">delete</span> op;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;            }</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;            <a class="code" href="classyarp_1_1os_1_1impl_1_1ThreadImpl.html#a0d2ec9347ab0d4ab0ccaf4a7e98578b4">join</a>();</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        }</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160; </div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        <span class="comment">// We should be finished now.</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(m_finished);</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160; </div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <span class="comment">// Clean up our connection list. We couldn&#39;t do this earlier,</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <span class="comment">// because the server thread was running.</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        closeUnits();</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160; </div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        <span class="comment">// Reset some state flags.</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        m_finished = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        m_closing = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        m_running = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    }</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160; </div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="comment">// There should be no other threads at this point and we</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="comment">// can stop listening on the network.</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="keywordflow">if</span> (m_listening) {</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(m_face != <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        m_face-&gt;<a class="code" href="classyarp_1_1os_1_1Face.html#a857748b70287bd86bc3cad9d9cd18518">close</a>();</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="keyword">delete</span> m_face;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        m_face = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        m_listening = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    }</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160; </div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="comment">// Check if the client is waiting for input.  If so, wake them up</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="comment">// with the bad news.  An empty message signifies a request to</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="comment">// check the port state.</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="keywordflow">if</span> (m_reader != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <a class="code" href="Logger_8h.html#a3ac8e9b980e14d08fca14f4bef545c96">YARP_DEBUG</a>(m_log, <span class="stringliteral">&quot;sending end-of-port message to listener&quot;</span>);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        <a class="code" href="classyarp_1_1os_1_1impl_1_1StreamConnectionReader.html">StreamConnectionReader</a> sbr;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        m_reader-&gt;<a class="code" href="classyarp_1_1os_1_1PortReader.html#a10c08e5812f43e208fae5843137afa1d">read</a>(sbr);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        m_reader = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    }</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160; </div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="comment">// We may need to unregister the port with the name server.</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="keywordflow">if</span> (stopRunning) {</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        std::string name = <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af12556e5940fd1edaa84efc8cd12ced3">getName</a>();</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        <span class="keywordflow">if</span> (name != std::string(<span class="stringliteral">&quot;&quot;</span>)) {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;            <span class="keywordflow">if</span> (m_controlRegistration) {</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                <a class="code" href="classyarp_1_1os_1_1NetworkBase.html#a3eb2f0ce13a22b3bb6b3be776625383e">NetworkBase::unregisterName</a>(name);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;            }</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        }</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    }</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160; </div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="comment">// We are done with the finishing process.</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    m_finishing = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160; </div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="comment">// We are fresh as a daisy.</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(!m_listening);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(!m_running);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(!m_starting);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(!m_closing);</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(!m_finished);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(!m_finishing);</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(m_face == <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;}</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160; </div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160; </div>
<div class="line"><a name="l00569"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#ab5f1104798e52f1a17b6abaae21e83fd">  569</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#ab5f1104798e52f1a17b6abaae21e83fd">PortCore::getEventCount</a>()</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;{</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="comment">// How many times has the server thread spun off a connection.</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="keywordtype">int</span> ct = m_events;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <span class="keywordflow">return</span> ct;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;}</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160; </div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160; </div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="keywordtype">void</span> PortCore::closeUnits()</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;{</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="comment">// Empty the PortCore#units list. This is only possible when</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="comment">// the server thread is finished.</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(m_finished);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160; </div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="comment">// In the &quot;finished&quot; phase, nobody else touches the units,</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="comment">// so we can go ahead and shut them down and delete them.</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; i : m_units) {</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html">PortCoreUnit</a>* unit = i;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        <span class="keywordflow">if</span> (unit != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;            <a class="code" href="Logger_8h.html#a3ac8e9b980e14d08fca14f4bef545c96">YARP_DEBUG</a>(m_log, <span class="stringliteral">&quot;closing a unit&quot;</span>);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1ThreadImpl.html#a16410b2092f52f1fc0904e8bf119b0c4">close</a>();</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            <a class="code" href="Logger_8h.html#a3ac8e9b980e14d08fca14f4bef545c96">YARP_DEBUG</a>(m_log, <span class="stringliteral">&quot;joining a unit&quot;</span>);</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1ThreadImpl.html#a0d2ec9347ab0d4ab0ccaf4a7e98578b4">join</a>();</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;            <span class="keyword">delete</span> unit;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;            <a class="code" href="Logger_8h.html#a3ac8e9b980e14d08fca14f4bef545c96">YARP_DEBUG</a>(m_log, <span class="stringliteral">&quot;deleting a unit&quot;</span>);</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            i = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        }</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    }</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160; </div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="comment">// Get rid of all our nulls.  Done!</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    m_units.clear();</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;}</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160; </div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="keywordtype">void</span> PortCore::reapUnits()</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;{</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="comment">// Connections that should be shut down get tagged as &quot;doomed&quot;</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="comment">// but aren&#39;t otherwise touched until it is safe to do so.</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="keywordflow">if</span> (!m_finished) {</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> unit : m_units) {</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;            <span class="keywordflow">if</span> ((unit != <span class="keyword">nullptr</span>) &amp;&amp; unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#acc22098d7fb154322d05c91bbae7bd17">isDoomed</a>() &amp;&amp; !unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a9982124d80de6eb62ca73f723efc7b2b">isFinished</a>()) {</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                std::string s = unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a490e1d750a1440ca5575e16126de97dd">getRoute</a>().<a class="code" href="classyarp_1_1os_1_1Route.html#a7f00bcd4758b0316cb8dd9d471748aef">toString</a>();</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                <a class="code" href="Logger_8h.html#a3ac8e9b980e14d08fca14f4bef545c96">YARP_DEBUG</a>(m_log, std::string(<span class="stringliteral">&quot;Informing connection &quot;</span>) + s + <span class="stringliteral">&quot; that it is doomed&quot;</span>);</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1ThreadImpl.html#a16410b2092f52f1fc0904e8bf119b0c4">close</a>();</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                <a class="code" href="Logger_8h.html#a3ac8e9b980e14d08fca14f4bef545c96">YARP_DEBUG</a>(m_log, std::string(<span class="stringliteral">&quot;Closed connection &quot;</span>) + s);</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1ThreadImpl.html#a0d2ec9347ab0d4ab0ccaf4a7e98578b4">join</a>();</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                <a class="code" href="Logger_8h.html#a3ac8e9b980e14d08fca14f4bef545c96">YARP_DEBUG</a>(m_log, std::string(<span class="stringliteral">&quot;Joined thread of connection &quot;</span>) + s);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;            }</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        }</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    }</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    cleanUnits();</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;}</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160; </div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;<span class="keywordtype">void</span> PortCore::cleanUnits(<span class="keywordtype">bool</span> blocking)</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;{</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="comment">// We will remove any connections that have finished operating from</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="comment">// the PortCore#units list.</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160; </div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="comment">// Depending on urgency, either wait for a safe time to do this</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="comment">// or skip if unsafe.</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="keywordflow">if</span> (blocking) {</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        blocking = m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85def09f6175a731185def2c66470bb2">check</a>();</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        <span class="keywordflow">if</span> (!blocking) {</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        }</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    }</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160; </div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="comment">// We will update our connection counts as a by-product.</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <span class="keywordtype">int</span> updatedInputCount = 0;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="keywordtype">int</span> updatedOutputCount = 0;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keywordtype">int</span> updatedDataOutputCount = 0;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <a class="code" href="Logger_8h.html#a3ac8e9b980e14d08fca14f4bef545c96">YARP_DEBUG</a>(m_log, <span class="stringliteral">&quot;/ routine check of connections to this port begins&quot;</span>);</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="keywordflow">if</span> (!m_finished) {</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160; </div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        <span class="comment">// First, we delete and null out any defunct entries in the list.</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; i : m_units) {</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;            <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html">PortCoreUnit</a>* unit = i;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            <span class="keywordflow">if</span> (unit != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                <a class="code" href="Logger_8h.html#a3ac8e9b980e14d08fca14f4bef545c96">YARP_DEBUG</a>(m_log, std::string(<span class="stringliteral">&quot;| checking connection &quot;</span>) + unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a490e1d750a1440ca5575e16126de97dd">getRoute</a>().<a class="code" href="classyarp_1_1os_1_1Route.html#a7f00bcd4758b0316cb8dd9d471748aef">toString</a>() + <span class="stringliteral">&quot; &quot;</span> + unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a9f13121f8e63022472d45747fb1c77b8">getMode</a>());</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;                <span class="keywordflow">if</span> (unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a9982124d80de6eb62ca73f723efc7b2b">isFinished</a>()) {</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                    std::string con = unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a490e1d750a1440ca5575e16126de97dd">getRoute</a>().<a class="code" href="classyarp_1_1os_1_1Route.html#a7f00bcd4758b0316cb8dd9d471748aef">toString</a>();</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                    <a class="code" href="Logger_8h.html#a3ac8e9b980e14d08fca14f4bef545c96">YARP_DEBUG</a>(m_log, std::string(<span class="stringliteral">&quot;|   removing connection &quot;</span>) + con);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                    unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1ThreadImpl.html#a16410b2092f52f1fc0904e8bf119b0c4">close</a>();</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                    unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1ThreadImpl.html#a0d2ec9347ab0d4ab0ccaf4a7e98578b4">join</a>();</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                    <span class="keyword">delete</span> unit;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                    i = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                    <a class="code" href="Logger_8h.html#a3ac8e9b980e14d08fca14f4bef545c96">YARP_DEBUG</a>(m_log, std::string(<span class="stringliteral">&quot;|   removed connection &quot;</span>) + con);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                    <span class="comment">// No work to do except updating connection counts.</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                    <span class="keywordflow">if</span> (!unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#acc22098d7fb154322d05c91bbae7bd17">isDoomed</a>()) {</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                        <span class="keywordflow">if</span> (unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#aa3af6a7ac6bed766fe03c8a6f365f932">isOutput</a>()) {</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                            updatedOutputCount++;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                            <span class="keywordflow">if</span> (unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a9f13121f8e63022472d45747fb1c77b8">getMode</a>().empty()) {</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                                updatedDataOutputCount++;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                            }</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                        }</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                        <span class="keywordflow">if</span> (unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#ad961045f7195014a158cacf2648d6d13">isInput</a>()) {</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                            <span class="keywordflow">if</span> (unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a490e1d750a1440ca5575e16126de97dd">getRoute</a>().<a class="code" href="classyarp_1_1os_1_1Route.html#a9beaa65ef1683ab12367720e2e98d0f8">getFromName</a>() != <span class="stringliteral">&quot;admin&quot;</span>) {</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                                updatedInputCount++;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                            }</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                        }</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                    }</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                }</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            }</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        }</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160; </div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        <span class="comment">// Now we do some awkward shuffling (list class may be from ACE</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        <span class="comment">// or STL, if ACE it is quite limited).  We move the nulls to</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        <span class="comment">// the end of the list ...</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> rem = 0;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i2 = 0; i2 &lt; m_units.size(); i2++) {</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;            <span class="keywordflow">if</span> (m_units[i2] != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                <span class="keywordflow">if</span> (rem &lt; i2) {</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                    m_units[rem] = m_units[i2];</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                    m_units[i2] = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                }</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                rem++;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;            }</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        }</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160; </div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        <span class="comment">// ... Now we get rid of the null entries</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i3 = 0; i3 &lt; m_units.size() - rem; i3++) {</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;            m_units.pop_back();</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        }</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    }</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160; </div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="comment">// Finalize the connection counts.</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    m_dataOutputCount = updatedDataOutputCount;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    m_packetMutex.lock();</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    m_inputCount = updatedInputCount;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    m_outputCount = updatedOutputCount;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    m_packetMutex.unlock();</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <a class="code" href="Logger_8h.html#a3ac8e9b980e14d08fca14f4bef545c96">YARP_DEBUG</a>(m_log, <span class="stringliteral">&quot;\\ routine check of connections to this port ends&quot;</span>);</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;}</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160; </div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160; </div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;<span class="keywordtype">void</span> PortCore::addInput(<a class="code" href="classyarp_1_1os_1_1InputProtocol.html">InputProtocol</a>* ip)</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;{</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="comment">// This method is only called by the server thread in its running phase.</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="comment">// It wraps up a network connection as a unit and adds it to</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <span class="comment">// PortCore#units.  The unit will have its own thread associated</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="comment">// with it.</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160; </div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(ip != <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html">PortCoreUnit</a>* unit = <span class="keyword">new</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreInputUnit.html">PortCoreInputUnit</a>(*<span class="keyword">this</span>,</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                                               getNextIndex(),</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                                               ip,</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                                               <span class="keyword">false</span>);</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(unit != <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1ThreadImpl.html#acd9f29af26655907d2a6b9149b298b10">start</a>();</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    m_units.push_back(unit);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <a class="code" href="PortCore_8cpp.html#a25609f3929096fd640a572b69e51cf14">YMSG</a>((<span class="stringliteral">&quot;there are now %d units\n&quot;</span>, (<span class="keywordtype">int</span>)m_units.size()));</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;}</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160; </div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160; </div>
<div class="line"><a name="l00734"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a89adc55f7c50490bb46f589396ea9962">  734</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#afc60ce475843305ac2afffcfae29c27b">PortCore::addOutput</a>(<a class="code" href="classyarp_1_1os_1_1OutputProtocol.html">OutputProtocol</a>* op)</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;{</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="comment">// This method is called from threads associated with input</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="comment">// connections.</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="comment">// It wraps up a network connection as a unit and adds it to</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <span class="comment">// PortCore#units.  The unit will start with its own thread</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <span class="comment">// associated with it, but that thread will be very short-lived</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <span class="comment">// if the port is not configured to do background writes.</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160; </div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(op != <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="keywordflow">if</span> (!m_finished) {</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html">PortCoreUnit</a>* unit = <span class="keyword">new</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreOutputUnit.html">PortCoreOutputUnit</a>(*<span class="keyword">this</span>, getNextIndex(), op);</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(unit != <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1ThreadImpl.html#acd9f29af26655907d2a6b9149b298b10">start</a>();</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        m_units.push_back(unit);</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    }</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;}</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160; </div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160; </div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="keywordtype">bool</span> PortCore::isUnit(<span class="keyword">const</span> <a class="code" href="classyarp_1_1os_1_1Route.html">Route</a>&amp; route, <span class="keywordtype">int</span> index)</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;{</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="comment">// Check if a connection with a specified route (and optional ID) is present</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keywordtype">bool</span> needReap = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <span class="keywordflow">if</span> (!m_finished) {</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> unit : m_units) {</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;            <span class="keywordflow">if</span> (unit != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                <a class="code" href="classyarp_1_1os_1_1Route.html">Route</a> alt = unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a490e1d750a1440ca5575e16126de97dd">getRoute</a>();</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                std::string wild = <span class="stringliteral">&quot;*&quot;</span>;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                <span class="keywordtype">bool</span> ok = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                <span class="keywordflow">if</span> (index &gt;= 0) {</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                    ok = ok &amp;&amp; (unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#ae8524cbc3dce2d86f9f2e805af04c9ea">getIndex</a>() == index);</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                }</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                <span class="keywordflow">if</span> (ok) {</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                    <span class="keywordflow">if</span> (route.<a class="code" href="classyarp_1_1os_1_1Route.html#a9beaa65ef1683ab12367720e2e98d0f8">getFromName</a>() != wild) {</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;                        ok = ok &amp;&amp; (route.<a class="code" href="classyarp_1_1os_1_1Route.html#a9beaa65ef1683ab12367720e2e98d0f8">getFromName</a>() == alt.<a class="code" href="classyarp_1_1os_1_1Route.html#a9beaa65ef1683ab12367720e2e98d0f8">getFromName</a>());</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                    }</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                    <span class="keywordflow">if</span> (route.<a class="code" href="classyarp_1_1os_1_1Route.html#a2156322c29d68a6ef5d22e8bd43d5193">getToName</a>() != wild) {</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                        ok = ok &amp;&amp; (route.<a class="code" href="classyarp_1_1os_1_1Route.html#a2156322c29d68a6ef5d22e8bd43d5193">getToName</a>() == alt.<a class="code" href="classyarp_1_1os_1_1Route.html#a2156322c29d68a6ef5d22e8bd43d5193">getToName</a>());</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                    }</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                    <span class="keywordflow">if</span> (route.<a class="code" href="classyarp_1_1os_1_1Route.html#a6a1d40ac1577aa9443338bbf3de7c081">getCarrierName</a>() != wild) {</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                        ok = ok &amp;&amp; (route.<a class="code" href="classyarp_1_1os_1_1Route.html#a6a1d40ac1577aa9443338bbf3de7c081">getCarrierName</a>() == alt.<a class="code" href="classyarp_1_1os_1_1Route.html#a6a1d40ac1577aa9443338bbf3de7c081">getCarrierName</a>());</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                    }</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                }</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                <span class="keywordflow">if</span> (ok) {</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                    needReap = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                }</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            }</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        }</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    }</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <span class="keywordflow">return</span> needReap;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;}</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160; </div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160; </div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="keywordtype">bool</span> PortCore::removeUnit(<span class="keyword">const</span> <a class="code" href="classyarp_1_1os_1_1Route.html">Route</a>&amp; route, <span class="keywordtype">bool</span> synch, <span class="keywordtype">bool</span>* except)</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;{</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="comment">// This is a request to remove a connection.  It could arise from any</span></div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <span class="comment">// input thread.</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160; </div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="keywordflow">if</span> (except != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        <a class="code" href="Logger_8h.html#a3ac8e9b980e14d08fca14f4bef545c96">YARP_DEBUG</a>(m_log, std::string(<span class="stringliteral">&quot;asked to remove connection in the way of &quot;</span>) + route.<a class="code" href="classyarp_1_1os_1_1Route.html#a7f00bcd4758b0316cb8dd9d471748aef">toString</a>());</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        *except = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        <a class="code" href="Logger_8h.html#a3ac8e9b980e14d08fca14f4bef545c96">YARP_DEBUG</a>(m_log, std::string(<span class="stringliteral">&quot;asked to remove connection &quot;</span>) + route.<a class="code" href="classyarp_1_1os_1_1Route.html#a7f00bcd4758b0316cb8dd9d471748aef">toString</a>());</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    }</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160; </div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <span class="comment">// Scan for units that match the given route, and collect their IDs.</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <span class="comment">// Mark them as &quot;doomed&quot;.</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    std::vector&lt;int&gt; removals;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <span class="keywordtype">bool</span> needReap = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="keywordflow">if</span> (!m_finished) {</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> unit : m_units) {</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;            <span class="keywordflow">if</span> (unit != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                <a class="code" href="classyarp_1_1os_1_1Route.html">Route</a> alt = unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a490e1d750a1440ca5575e16126de97dd">getRoute</a>();</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                std::string wild = <span class="stringliteral">&quot;*&quot;</span>;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                <span class="keywordtype">bool</span> ok = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                <span class="keywordflow">if</span> (route.<a class="code" href="classyarp_1_1os_1_1Route.html#a9beaa65ef1683ab12367720e2e98d0f8">getFromName</a>() != wild) {</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                    ok = ok &amp;&amp; (route.<a class="code" href="classyarp_1_1os_1_1Route.html#a9beaa65ef1683ab12367720e2e98d0f8">getFromName</a>() == alt.<a class="code" href="classyarp_1_1os_1_1Route.html#a9beaa65ef1683ab12367720e2e98d0f8">getFromName</a>());</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                }</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                <span class="keywordflow">if</span> (route.<a class="code" href="classyarp_1_1os_1_1Route.html#a2156322c29d68a6ef5d22e8bd43d5193">getToName</a>() != wild) {</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                    ok = ok &amp;&amp; (route.<a class="code" href="classyarp_1_1os_1_1Route.html#a2156322c29d68a6ef5d22e8bd43d5193">getToName</a>() == alt.<a class="code" href="classyarp_1_1os_1_1Route.html#a2156322c29d68a6ef5d22e8bd43d5193">getToName</a>());</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                }</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                <span class="keywordflow">if</span> (route.<a class="code" href="classyarp_1_1os_1_1Route.html#a6a1d40ac1577aa9443338bbf3de7c081">getCarrierName</a>() != wild) {</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                    <span class="keywordflow">if</span> (except == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                        ok = ok &amp;&amp; (route.<a class="code" href="classyarp_1_1os_1_1Route.html#a6a1d40ac1577aa9443338bbf3de7c081">getCarrierName</a>() == alt.<a class="code" href="classyarp_1_1os_1_1Route.html#a6a1d40ac1577aa9443338bbf3de7c081">getCarrierName</a>());</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                        <span class="keywordflow">if</span> (route.<a class="code" href="classyarp_1_1os_1_1Route.html#a6a1d40ac1577aa9443338bbf3de7c081">getCarrierName</a>() == alt.<a class="code" href="classyarp_1_1os_1_1Route.html#a6a1d40ac1577aa9443338bbf3de7c081">getCarrierName</a>()) {</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                            *except = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                            ok = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                        }</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                    }</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                }</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160; </div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                <span class="keywordflow">if</span> (ok) {</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                    <a class="code" href="Logger_8h.html#a3ac8e9b980e14d08fca14f4bef545c96">YARP_DEBUG</a>(m_log,</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                               std::string(<span class="stringliteral">&quot;removing connection &quot;</span>) + alt.<a class="code" href="classyarp_1_1os_1_1Route.html#a7f00bcd4758b0316cb8dd9d471748aef">toString</a>());</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                    removals.push_back(unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#ae8524cbc3dce2d86f9f2e805af04c9ea">getIndex</a>());</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                    unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#ac084584834ff6258e9ca0e68dcdfcfc0">setDoomed</a>();</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                    needReap = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                }</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;            }</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        }</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    }</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160; </div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <span class="comment">// If we find one or more matches, we need to do some work.</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="comment">// We&#39;ve marked those matches as &quot;doomed&quot; so they&#39;ll get cleared</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="comment">// up eventually, but we can speed this up by waking up the</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="comment">// server thread.</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="keywordflow">if</span> (needReap) {</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        <a class="code" href="Logger_8h.html#a3ac8e9b980e14d08fca14f4bef545c96">YARP_DEBUG</a>(m_log, <span class="stringliteral">&quot;one or more connections need prodding to die&quot;</span>);</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160; </div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        <span class="keywordflow">if</span> (m_manual) {</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;            <span class="comment">// No server thread, no problems.</span></div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;            reapUnits();</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;            <span class="comment">// Send a blank message to make up server thread.</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;            <a class="code" href="classyarp_1_1os_1_1OutputProtocol.html">OutputProtocol</a>* op = m_face-&gt;<a class="code" href="classyarp_1_1os_1_1Face.html#af3027b57c678bcea6ea5e48d079ef24b">write</a>(m_address);</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;            <span class="keywordflow">if</span> (op != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                op-&gt;<a class="code" href="classyarp_1_1os_1_1OutputProtocol.html#a9b62009573d9b109ffa037d0b4bdaa39">close</a>();</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                <span class="keyword">delete</span> op;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;            }</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;            <a class="code" href="Logger_8h.html#a3ac8e9b980e14d08fca14f4bef545c96">YARP_DEBUG</a>(m_log, <span class="stringliteral">&quot;sent message to prod connection death&quot;</span>);</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160; </div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;            <span class="keywordflow">if</span> (synch) {</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;                <span class="comment">// Wait for connections to be cleaned up.</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;                <a class="code" href="Logger_8h.html#a3ac8e9b980e14d08fca14f4bef545c96">YARP_DEBUG</a>(m_log, <span class="stringliteral">&quot;synchronizing with connection death&quot;</span>);</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;                <span class="keywordtype">bool</span> cont = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;                    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> removal : removals) {</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                        cont = isUnit(route, removal);</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;                        <span class="keywordflow">if</span> (cont) {</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                        }</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;                    }</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                    <span class="keywordflow">if</span> (cont) {</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                        m_connectionListeners++;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;                    }</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;                    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                    <span class="keywordflow">if</span> (cont) {</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                        m_connectionChangeSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;                    }</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                } <span class="keywordflow">while</span> (cont);</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;            }</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        }</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    }</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="keywordflow">return</span> needReap;</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;}</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160; </div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160; </div>
<div class="line"><a name="l00888"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#afc60ce475843305ac2afffcfae29c27b">  888</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#afc60ce475843305ac2afffcfae29c27b">PortCore::addOutput</a>(<span class="keyword">const</span> std::string&amp; dest,</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                         <span class="keywordtype">void</span>* <span class="keywordtype">id</span>,</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                         <a class="code" href="classyarp_1_1os_1_1OutputStream.html">OutputStream</a>* os,</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                         <span class="keywordtype">bool</span> onlyIfNeeded)</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;{</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <a class="code" href="yarp-v3_82-build_2src_2libYARP__conf_2include_2yarp_2conf_2api_8h.html#a115a3e86265819f41c93ff12c2538d1f">YARP_UNUSED</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <a class="code" href="Logger_8h.html#a3ac8e9b980e14d08fca14f4bef545c96">YARP_DEBUG</a>(m_log, std::string(<span class="stringliteral">&quot;asked to add output to &quot;</span>) + dest);</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160; </div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="comment">// Buffer to store text describing outcome (successful connection,</span></div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <span class="comment">// or a failure).</span></div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <a class="code" href="classyarp_1_1os_1_1impl_1_1BufferedConnectionWriter.html">BufferedConnectionWriter</a> bw(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160; </div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <span class="comment">// Look up the address we&#39;ll be connectioning to.</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <a class="code" href="classyarp_1_1os_1_1Contact.html">Contact</a> parts = <a class="code" href="classyarp_1_1os_1_1Name.html">Name</a>(dest).<a class="code" href="classyarp_1_1os_1_1Name.html#a4207ea27e5a4f57214a6d4fde6acc217">toAddress</a>();</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <a class="code" href="classyarp_1_1os_1_1Contact.html">Contact</a> contact = <a class="code" href="classyarp_1_1os_1_1NetworkBase.html#a82de251f30671feefee263da7b784677">NetworkBase::queryName</a>(parts.<a class="code" href="classyarp_1_1os_1_1Contact.html#a6192fc01afbda5337e8a06438881c753">getRegName</a>());</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <a class="code" href="classyarp_1_1os_1_1Contact.html">Contact</a> address = contact;</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160; </div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <span class="comment">// If we can&#39;t find it, say so and abort.</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <span class="keywordflow">if</span> (!address.<a class="code" href="classyarp_1_1os_1_1Contact.html#a44450481ce5c8dd99f3a75eb9c8f310f">isValid</a>()) {</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        bw.<a class="code" href="classyarp_1_1os_1_1impl_1_1BufferedConnectionWriter.html#af99bdf6433f314be07a1d922632df05b">appendLine</a>(std::string(<span class="stringliteral">&quot;Do not know how to connect to &quot;</span>) + dest);</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;        <span class="keywordflow">if</span> (os != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;            bw.<a class="code" href="classyarp_1_1os_1_1impl_1_1BufferedConnectionWriter.html#a7e3cd9dfeac049f09c5f8abfd23a674c">write</a>(*os);</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;        }</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    }</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160; </div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <span class="comment">// We clean all existing connections to the desired destination,</span></div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <span class="comment">// optionally stopping if we find one with the right carrier.</span></div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <span class="keywordflow">if</span> (onlyIfNeeded) {</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        <span class="comment">// Remove any existing connections between source and destination</span></div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;        <span class="comment">// with a different carrier.  If we find a connection already</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        <span class="comment">// present with the correct carrier, then we are done.</span></div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        <span class="keywordtype">bool</span> except = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        removeUnit(<a class="code" href="classyarp_1_1os_1_1Route.html">Route</a>(<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af12556e5940fd1edaa84efc8cd12ced3">getName</a>(), address.<a class="code" href="classyarp_1_1os_1_1Contact.html#a6192fc01afbda5337e8a06438881c753">getRegName</a>(), address.<a class="code" href="classyarp_1_1os_1_1Contact.html#af2a116251afbc6e825c6cbe497812126">getCarrier</a>()), <span class="keyword">true</span>, &amp;except);</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        <span class="keywordflow">if</span> (except) {</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;            <span class="comment">// Connection already present.</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;            <a class="code" href="Logger_8h.html#a3ac8e9b980e14d08fca14f4bef545c96">YARP_DEBUG</a>(m_log, std::string(<span class="stringliteral">&quot;output already present to &quot;</span>) + dest);</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;            bw.<a class="code" href="classyarp_1_1os_1_1impl_1_1BufferedConnectionWriter.html#af99bdf6433f314be07a1d922632df05b">appendLine</a>(std::string(<span class="stringliteral">&quot;Desired connection already present from &quot;</span>) + <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af12556e5940fd1edaa84efc8cd12ced3">getName</a>() + <span class="stringliteral">&quot; to &quot;</span> + dest);</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;            <span class="keywordflow">if</span> (os != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;                bw.<a class="code" href="classyarp_1_1os_1_1impl_1_1BufferedConnectionWriter.html#a7e3cd9dfeac049f09c5f8abfd23a674c">write</a>(*os);</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;            }</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        }</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        <span class="comment">// Remove any existing connections between source and destination.</span></div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        removeUnit(<a class="code" href="classyarp_1_1os_1_1Route.html">Route</a>(<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af12556e5940fd1edaa84efc8cd12ced3">getName</a>(), address.<a class="code" href="classyarp_1_1os_1_1Contact.html#a6192fc01afbda5337e8a06438881c753">getRegName</a>(), <span class="stringliteral">&quot;*&quot;</span>), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    }</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160; </div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="comment">// Set up a named route for this connection.</span></div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    std::string aname = address.<a class="code" href="classyarp_1_1os_1_1Contact.html#a6192fc01afbda5337e8a06438881c753">getRegName</a>();</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <span class="keywordflow">if</span> (aname.empty()) {</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        aname = address.<a class="code" href="classyarp_1_1os_1_1Contact.html#ab3fceb3bf92cbc7b8eb9d91bda5c807e">toURI</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    }</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <a class="code" href="classyarp_1_1os_1_1Route.html">Route</a> r(<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af12556e5940fd1edaa84efc8cd12ced3">getName</a>(),</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;            aname,</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;            ((!parts.<a class="code" href="classyarp_1_1os_1_1Contact.html#af2a116251afbc6e825c6cbe497812126">getCarrier</a>().empty()) ? parts.<a class="code" href="classyarp_1_1os_1_1Contact.html#af2a116251afbc6e825c6cbe497812126">getCarrier</a>() : address.<a class="code" href="classyarp_1_1os_1_1Contact.html#af2a116251afbc6e825c6cbe497812126">getCarrier</a>()));</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    r.<a class="code" href="classyarp_1_1os_1_1Route.html#acf7773482581140b47ae4b9c2f1d28ca">setToContact</a>(contact);</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160; </div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    <span class="comment">// Check for any restrictions on the port.  Perhaps it can only</span></div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    <span class="comment">// read, or write.</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <span class="keywordtype">bool</span> allowed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    std::string err;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    std::string append;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <span class="keywordtype">int</span> f = <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#aa6b78f57cdd0a7dda072105f981aaa29">getFlags</a>();</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    <span class="keywordtype">bool</span> allow_output = (f &amp; <a class="code" href="PortCore_8h.html#a71b6c0484a6f448aba810ee8b2cf6769">PORTCORE_IS_OUTPUT</a>) != 0;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="RosLookup_8cpp.html#a7597f8372983aa32acc94363edd9411c">rpc</a> = (f &amp; <a class="code" href="PortCore_8h.html#a44a3f5552a2be55025fa6016fb250944">PORTCORE_IS_RPC</a>) != 0;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <a class="code" href="classyarp_1_1os_1_1Name.html">Name</a> name(r.<a class="code" href="classyarp_1_1os_1_1Route.html#a6a1d40ac1577aa9443338bbf3de7c081">getCarrierName</a>() + std::string(<span class="stringliteral">&quot;://test&quot;</span>));</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    std::string mode = name.<a class="code" href="classyarp_1_1os_1_1Name.html#ad2eb8a0ade261728318e33c80dc5bf4c">getCarrierModifier</a>(<span class="stringliteral">&quot;log&quot;</span>);</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <span class="keywordtype">bool</span> is_log = (!mode.empty());</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="keywordflow">if</span> (is_log) {</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        <span class="keywordflow">if</span> (mode != <span class="stringliteral">&quot;in&quot;</span>) {</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;            err = <span class="stringliteral">&quot;Logger configured as log.&quot;</span> + mode + <span class="stringliteral">&quot;, but only log.in is supported&quot;</span>;</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;            allowed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;            append = <span class="stringliteral">&quot;; &quot;</span> + r.<a class="code" href="classyarp_1_1os_1_1Route.html#a9beaa65ef1683ab12367720e2e98d0f8">getFromName</a>() + <span class="stringliteral">&quot; will forward messages and replies (if any) to &quot;</span> + r.<a class="code" href="classyarp_1_1os_1_1Route.html#a2156322c29d68a6ef5d22e8bd43d5193">getToName</a>();</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        }</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    }</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <span class="keywordflow">if</span> (!allow_output) {</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;        <span class="keywordflow">if</span> (!is_log) {</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;            <span class="keywordtype">bool</span> push = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;            <a class="code" href="classyarp_1_1os_1_1Carrier.html">Carrier</a>* c = <a class="code" href="classyarp_1_1os_1_1Carriers.html#a626075d9fa990aeb6de639f645961448">Carriers::getCarrierTemplate</a>(r.<a class="code" href="classyarp_1_1os_1_1Route.html#a6a1d40ac1577aa9443338bbf3de7c081">getCarrierName</a>());</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;            <span class="keywordflow">if</span> (c != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;                push = c-&gt;<a class="code" href="classyarp_1_1os_1_1Carrier.html#a189e192187f96f6c6775745181351876">isPush</a>();</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;            }</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;            <span class="keywordflow">if</span> (push) {</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;                err = <span class="stringliteral">&quot;Outputs not allowed&quot;</span>;</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;                allowed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;            }</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        }</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="RosLookup_8cpp.html#a7597f8372983aa32acc94363edd9411c">rpc</a>) {</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        <span class="keywordflow">if</span> (m_dataOutputCount &gt;= 1 &amp;&amp; !is_log) {</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;            err = <span class="stringliteral">&quot;RPC output already connected&quot;</span>;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;            allowed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;        }</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    }</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160; </div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <span class="comment">// If we found a relevant restriction, abort.</span></div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    <span class="keywordflow">if</span> (!allowed) {</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;        bw.<a class="code" href="classyarp_1_1os_1_1impl_1_1BufferedConnectionWriter.html#af99bdf6433f314be07a1d922632df05b">appendLine</a>(err);</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        <span class="keywordflow">if</span> (os != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;            bw.<a class="code" href="classyarp_1_1os_1_1impl_1_1BufferedConnectionWriter.html#a7e3cd9dfeac049f09c5f8abfd23a674c">write</a>(*os);</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        }</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    }</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160; </div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    <span class="comment">// Ok! We can go ahead and make a connection.</span></div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    <a class="code" href="classyarp_1_1os_1_1OutputProtocol.html">OutputProtocol</a>* op = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    <span class="keywordflow">if</span> (m_timeout &gt; 0) {</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;        address.<a class="code" href="classyarp_1_1os_1_1Contact.html#ae6bd0ee309c266b4b15ff6278706dd86">setTimeout</a>(m_timeout);</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    }</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    op = <a class="code" href="classyarp_1_1os_1_1Carriers.html#ab2ea374bd361e86f390c03ecd4575725">Carriers::connect</a>(address);</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <span class="keywordflow">if</span> (op != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        op-&gt;<a class="code" href="classyarp_1_1os_1_1OutputProtocol.html#a5f68a670e7b06de33ab13f93303c92d9">attachPort</a>(m_contactable);</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        <span class="keywordflow">if</span> (m_timeout &gt; 0) {</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;            op-&gt;<a class="code" href="classyarp_1_1os_1_1OutputProtocol.html#ace222f2295441c4e573955e39707ca84">setTimeout</a>(m_timeout);</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;        }</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160; </div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        <span class="keywordtype">bool</span> ok = op-&gt;<a class="code" href="classyarp_1_1os_1_1OutputProtocol.html#a3c7586c6857bab0ba5b513984679d968">open</a>(r);</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        <span class="keywordflow">if</span> (!ok) {</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;            <a class="code" href="Logger_8h.html#a3ac8e9b980e14d08fca14f4bef545c96">YARP_DEBUG</a>(m_log, <span class="stringliteral">&quot;open route error&quot;</span>);</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;            <span class="keyword">delete</span> op;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;            op = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;        }</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    }</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160; </div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <span class="comment">// No connection, abort.</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="keywordflow">if</span> (op == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        bw.<a class="code" href="classyarp_1_1os_1_1impl_1_1BufferedConnectionWriter.html#af99bdf6433f314be07a1d922632df05b">appendLine</a>(std::string(<span class="stringliteral">&quot;Cannot connect to &quot;</span>) + dest);</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;        <span class="keywordflow">if</span> (os != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;            bw.<a class="code" href="classyarp_1_1os_1_1impl_1_1BufferedConnectionWriter.html#a7e3cd9dfeac049f09c5f8abfd23a674c">write</a>(*os);</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        }</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    }</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160; </div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    <span class="comment">// Ok, we have a connection, now add it to PortCore#units</span></div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <span class="keywordflow">if</span> (op-&gt;<a class="code" href="classyarp_1_1os_1_1OutputProtocol.html#a3162d0c12914b3b657e27431982f27c4">getConnection</a>().<a class="code" href="classyarp_1_1os_1_1Connection.html#a99abb5ba6cc9664048dfb5a857cf5101">isPush</a>()) {</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;        <span class="comment">// This is the normal case</span></div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;        <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#afc60ce475843305ac2afffcfae29c27b">addOutput</a>(op);</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        <span class="comment">// This is the case for connections that are initiated</span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        <span class="comment">// in the opposite direction to native YARP connections.</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;        <span class="comment">// Native YARP has push connections, initiated by the</span></div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        <span class="comment">// sender.  HTTP and ROS have pull connections, initiated</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;        <span class="comment">// by the receiver.</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;        <span class="comment">// We invert the route, flip the protocol direction, and add.</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;        r.<a class="code" href="classyarp_1_1os_1_1Route.html#aa39b308d81bde6dc5ec4e63ff24141cd">swapNames</a>();</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        op-&gt;<a class="code" href="classyarp_1_1os_1_1OutputProtocol.html#ab98fd4f2a9a0772e6590adc551732642">rename</a>(r);</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        <a class="code" href="classyarp_1_1os_1_1InputProtocol.html">InputProtocol</a>* ip = &amp;(op-&gt;<a class="code" href="classyarp_1_1os_1_1OutputProtocol.html#a73c79b7707fb0be6770b6ee21e2f6de6">getInput</a>());</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;        m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        <span class="keywordflow">if</span> (!m_finished) {</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;            <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html">PortCoreUnit</a>* unit = <span class="keyword">new</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreInputUnit.html">PortCoreInputUnit</a>(*<span class="keyword">this</span>,</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;                                                       getNextIndex(),</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;                                                       ip,</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;                                                       <span class="keyword">true</span>);</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;            <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(unit != <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;            unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1ThreadImpl.html#acd9f29af26655907d2a6b9149b298b10">start</a>();</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;            m_units.push_back(unit);</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;        }</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    }</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160; </div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <span class="comment">// Communicated the good news.</span></div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    bw.<a class="code" href="classyarp_1_1os_1_1impl_1_1BufferedConnectionWriter.html#af99bdf6433f314be07a1d922632df05b">appendLine</a>(std::string(<span class="stringliteral">&quot;Added connection from &quot;</span>) + <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af12556e5940fd1edaa84efc8cd12ced3">getName</a>() + <span class="stringliteral">&quot; to &quot;</span> + dest + append);</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    <span class="keywordflow">if</span> (os != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;        bw.<a class="code" href="classyarp_1_1os_1_1impl_1_1BufferedConnectionWriter.html#a7e3cd9dfeac049f09c5f8abfd23a674c">write</a>(*os);</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    }</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    cleanUnits();</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;}</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160; </div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160; </div>
<div class="line"><a name="l01059"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a719067384be0a38d599407291b864dd0"> 1059</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a719067384be0a38d599407291b864dd0">PortCore::removeOutput</a>(<span class="keyword">const</span> std::string&amp; dest, <span class="keywordtype">void</span>* <span class="keywordtype">id</span>, <a class="code" href="classyarp_1_1os_1_1OutputStream.html">OutputStream</a>* os)</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;{</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    <a class="code" href="yarp-v3_82-build_2src_2libYARP__conf_2include_2yarp_2conf_2api_8h.html#a115a3e86265819f41c93ff12c2538d1f">YARP_UNUSED</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    <span class="comment">// All the real work done by removeUnit().</span></div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    <a class="code" href="classyarp_1_1os_1_1impl_1_1BufferedConnectionWriter.html">BufferedConnectionWriter</a> bw(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    <span class="keywordflow">if</span> (removeUnit(<a class="code" href="classyarp_1_1os_1_1Route.html">Route</a>(<span class="stringliteral">&quot;*&quot;</span>, dest, <span class="stringliteral">&quot;*&quot;</span>), <span class="keyword">true</span>)) {</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;        bw.<a class="code" href="classyarp_1_1os_1_1impl_1_1BufferedConnectionWriter.html#af99bdf6433f314be07a1d922632df05b">appendLine</a>(std::string(<span class="stringliteral">&quot;Removed connection from &quot;</span>) + <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af12556e5940fd1edaa84efc8cd12ced3">getName</a>() + <span class="stringliteral">&quot; to &quot;</span> + dest);</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;        bw.<a class="code" href="classyarp_1_1os_1_1impl_1_1BufferedConnectionWriter.html#af99bdf6433f314be07a1d922632df05b">appendLine</a>(std::string(<span class="stringliteral">&quot;Could not find an outgoing connection to &quot;</span>) + dest);</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    }</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    <span class="keywordflow">if</span> (os != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        bw.<a class="code" href="classyarp_1_1os_1_1impl_1_1BufferedConnectionWriter.html#a7e3cd9dfeac049f09c5f8abfd23a674c">write</a>(*os);</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    }</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    cleanUnits();</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;}</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160; </div>
<div class="line"><a name="l01075"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#ad0853f1170a90b5f29e6ce70a794d439"> 1075</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#ad0853f1170a90b5f29e6ce70a794d439">PortCore::removeInput</a>(<span class="keyword">const</span> std::string&amp; src, <span class="keywordtype">void</span>* <span class="keywordtype">id</span>, <a class="code" href="classyarp_1_1os_1_1OutputStream.html">OutputStream</a>* os)</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;{</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <a class="code" href="yarp-v3_82-build_2src_2libYARP__conf_2include_2yarp_2conf_2api_8h.html#a115a3e86265819f41c93ff12c2538d1f">YARP_UNUSED</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <span class="comment">// All the real work done by removeUnit().</span></div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <a class="code" href="classyarp_1_1os_1_1impl_1_1BufferedConnectionWriter.html">BufferedConnectionWriter</a> bw(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <span class="keywordflow">if</span> (removeUnit(<a class="code" href="classyarp_1_1os_1_1Route.html">Route</a>(src, <span class="stringliteral">&quot;*&quot;</span>, <span class="stringliteral">&quot;*&quot;</span>), <span class="keyword">true</span>)) {</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        bw.<a class="code" href="classyarp_1_1os_1_1impl_1_1BufferedConnectionWriter.html#af99bdf6433f314be07a1d922632df05b">appendLine</a>(std::string(<span class="stringliteral">&quot;Removing connection from &quot;</span>) + src + <span class="stringliteral">&quot; to &quot;</span> + <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af12556e5940fd1edaa84efc8cd12ced3">getName</a>());</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;        bw.<a class="code" href="classyarp_1_1os_1_1impl_1_1BufferedConnectionWriter.html#af99bdf6433f314be07a1d922632df05b">appendLine</a>(std::string(<span class="stringliteral">&quot;Could not find an incoming connection from &quot;</span>) + src);</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    }</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <span class="keywordflow">if</span> (os != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;        bw.<a class="code" href="classyarp_1_1os_1_1impl_1_1BufferedConnectionWriter.html#a7e3cd9dfeac049f09c5f8abfd23a674c">write</a>(*os);</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    }</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    cleanUnits();</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;}</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160; </div>
<div class="line"><a name="l01091"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#ac05380dfa81e13ad132a5c98c44b7ca7"> 1091</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#ac05380dfa81e13ad132a5c98c44b7ca7">PortCore::describe</a>(<span class="keywordtype">void</span>* <span class="keywordtype">id</span>, <a class="code" href="classyarp_1_1os_1_1OutputStream.html">OutputStream</a>* os)</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;{</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <a class="code" href="yarp-v3_82-build_2src_2libYARP__conf_2include_2yarp_2conf_2api_8h.html#a115a3e86265819f41c93ff12c2538d1f">YARP_UNUSED</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    cleanUnits();</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160; </div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="comment">// Buffer to store a human-readable description of the port&#39;s</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <span class="comment">// state.</span></div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <a class="code" href="classyarp_1_1os_1_1impl_1_1BufferedConnectionWriter.html">BufferedConnectionWriter</a> bw(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160; </div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160; </div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="comment">// Report name and address.</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    bw.<a class="code" href="classyarp_1_1os_1_1impl_1_1BufferedConnectionWriter.html#af99bdf6433f314be07a1d922632df05b">appendLine</a>(std::string(<span class="stringliteral">&quot;This is &quot;</span>) + m_address.<a class="code" href="classyarp_1_1os_1_1Contact.html#a6192fc01afbda5337e8a06438881c753">getRegName</a>() + <span class="stringliteral">&quot; at &quot;</span> + m_address.<a class="code" href="classyarp_1_1os_1_1Contact.html#ab3fceb3bf92cbc7b8eb9d91bda5c807e">toURI</a>());</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160; </div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    <span class="comment">// Report outgoing connections.</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    <span class="keywordtype">int</span> oct = 0;</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> unit : m_units) {</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;        <span class="keywordflow">if</span> ((unit != <span class="keyword">nullptr</span>) &amp;&amp; unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#aa3af6a7ac6bed766fe03c8a6f365f932">isOutput</a>() &amp;&amp; !unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a9982124d80de6eb62ca73f723efc7b2b">isFinished</a>()) {</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;            <a class="code" href="classyarp_1_1os_1_1Route.html">Route</a> route = unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a490e1d750a1440ca5575e16126de97dd">getRoute</a>();</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;            std::string msg = <span class="stringliteral">&quot;There is an output connection from &quot;</span> + route.<a class="code" href="classyarp_1_1os_1_1Route.html#a9beaa65ef1683ab12367720e2e98d0f8">getFromName</a>() + <span class="stringliteral">&quot; to &quot;</span> + route.<a class="code" href="classyarp_1_1os_1_1Route.html#a2156322c29d68a6ef5d22e8bd43d5193">getToName</a>() + <span class="stringliteral">&quot; using &quot;</span> + route.<a class="code" href="classyarp_1_1os_1_1Route.html#a6a1d40ac1577aa9443338bbf3de7c081">getCarrierName</a>();</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;            bw.<a class="code" href="classyarp_1_1os_1_1impl_1_1BufferedConnectionWriter.html#af99bdf6433f314be07a1d922632df05b">appendLine</a>(msg);</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;            oct++;</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;        }</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    }</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    <span class="keywordflow">if</span> (oct &lt; 1) {</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;        bw.<a class="code" href="classyarp_1_1os_1_1impl_1_1BufferedConnectionWriter.html#af99bdf6433f314be07a1d922632df05b">appendLine</a>(<span class="stringliteral">&quot;There are no outgoing connections&quot;</span>);</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    }</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160; </div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <span class="comment">// Report incoming connections.</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    <span class="keywordtype">int</span> ict = 0;</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> unit : m_units) {</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;        <span class="keywordflow">if</span> ((unit != <span class="keyword">nullptr</span>) &amp;&amp; unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#ad961045f7195014a158cacf2648d6d13">isInput</a>() &amp;&amp; !unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a9982124d80de6eb62ca73f723efc7b2b">isFinished</a>()) {</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;            <a class="code" href="classyarp_1_1os_1_1Route.html">Route</a> route = unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a490e1d750a1440ca5575e16126de97dd">getRoute</a>();</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;            <span class="keywordflow">if</span> (!route.<a class="code" href="classyarp_1_1os_1_1Route.html#a6a1d40ac1577aa9443338bbf3de7c081">getCarrierName</a>().empty()) {</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;                std::string msg = <span class="stringliteral">&quot;There is an input connection from &quot;</span> + route.<a class="code" href="classyarp_1_1os_1_1Route.html#a9beaa65ef1683ab12367720e2e98d0f8">getFromName</a>() + <span class="stringliteral">&quot; to &quot;</span> + route.<a class="code" href="classyarp_1_1os_1_1Route.html#a2156322c29d68a6ef5d22e8bd43d5193">getToName</a>() + <span class="stringliteral">&quot; using &quot;</span> + route.<a class="code" href="classyarp_1_1os_1_1Route.html#a6a1d40ac1577aa9443338bbf3de7c081">getCarrierName</a>();</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;                bw.<a class="code" href="classyarp_1_1os_1_1impl_1_1BufferedConnectionWriter.html#af99bdf6433f314be07a1d922632df05b">appendLine</a>(msg);</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;                ict++;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;            }</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        }</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    }</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <span class="keywordflow">if</span> (ict &lt; 1) {</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;        bw.<a class="code" href="classyarp_1_1os_1_1impl_1_1BufferedConnectionWriter.html#af99bdf6433f314be07a1d922632df05b">appendLine</a>(<span class="stringliteral">&quot;There are no incoming connections&quot;</span>);</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    }</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160; </div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160; </div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    <span class="comment">// Send description across network, or print it.</span></div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    <span class="keywordflow">if</span> (os != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;        bw.<a class="code" href="classyarp_1_1os_1_1impl_1_1BufferedConnectionWriter.html#a7e3cd9dfeac049f09c5f8abfd23a674c">write</a>(*os);</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;        <a class="code" href="classyarp_1_1os_1_1StringOutputStream.html">StringOutputStream</a> sos;</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        bw.<a class="code" href="classyarp_1_1os_1_1impl_1_1BufferedConnectionWriter.html#a7e3cd9dfeac049f09c5f8abfd23a674c">write</a>(sos);</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;        printf(<span class="stringliteral">&quot;%s\n&quot;</span>, sos.<a class="code" href="classyarp_1_1os_1_1StringOutputStream.html#a3b749456e52372b573251d82d4fa9258">toString</a>().c_str());</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    }</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;}</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160; </div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160; </div>
<div class="line"><a name="l01148"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a88c9cc1d7beed3ce7ca4912e8b4ae19a"> 1148</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#ac05380dfa81e13ad132a5c98c44b7ca7">PortCore::describe</a>(<a class="code" href="classyarp_1_1os_1_1PortReport.html">PortReport</a>&amp; reporter)</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;{</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    cleanUnits();</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160; </div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160; </div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <span class="comment">// Report name and address of port.</span></div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    <a class="code" href="classyarp_1_1os_1_1PortInfo.html">PortInfo</a> baseInfo;</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    baseInfo.<a class="code" href="classyarp_1_1os_1_1PortInfo.html#a74e15e1a7067148a6868d4f5574bd2ed">tag</a> = <a class="code" href="classyarp_1_1os_1_1PortInfo.html#ab319f658e96bb8fc69064c1bb8ef4f89ab3458eee6c1b82da594d4925b44f74e5">yarp::os::PortInfo::PORTINFO_MISC</a>;</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    std::string portName = m_address.<a class="code" href="classyarp_1_1os_1_1Contact.html#a6192fc01afbda5337e8a06438881c753">getRegName</a>();</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    baseInfo.<a class="code" href="classyarp_1_1os_1_1PortInfo.html#a3a7681cf07b560ecf6c2a792387fb89f">message</a> = std::string(<span class="stringliteral">&quot;This is &quot;</span>) + portName + <span class="stringliteral">&quot; at &quot;</span> + m_address.<a class="code" href="classyarp_1_1os_1_1Contact.html#ab3fceb3bf92cbc7b8eb9d91bda5c807e">toURI</a>();</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    reporter.<a class="code" href="classyarp_1_1os_1_1PortReport.html#aeed43b6402e00db3b5f7fb947fca5487">report</a>(baseInfo);</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160; </div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <span class="comment">// Report outgoing connections.</span></div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    <span class="keywordtype">int</span> oct = 0;</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> unit : m_units) {</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        <span class="keywordflow">if</span> ((unit != <span class="keyword">nullptr</span>) &amp;&amp; unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#aa3af6a7ac6bed766fe03c8a6f365f932">isOutput</a>() &amp;&amp; !unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a9982124d80de6eb62ca73f723efc7b2b">isFinished</a>()) {</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;            <a class="code" href="classyarp_1_1os_1_1Route.html">Route</a> route = unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a490e1d750a1440ca5575e16126de97dd">getRoute</a>();</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;            std::string msg = <span class="stringliteral">&quot;There is an output connection from &quot;</span> + route.<a class="code" href="classyarp_1_1os_1_1Route.html#a9beaa65ef1683ab12367720e2e98d0f8">getFromName</a>() + <span class="stringliteral">&quot; to &quot;</span> + route.<a class="code" href="classyarp_1_1os_1_1Route.html#a2156322c29d68a6ef5d22e8bd43d5193">getToName</a>() + <span class="stringliteral">&quot; using &quot;</span> + route.<a class="code" href="classyarp_1_1os_1_1Route.html#a6a1d40ac1577aa9443338bbf3de7c081">getCarrierName</a>();</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;            <a class="code" href="classyarp_1_1os_1_1PortInfo.html">PortInfo</a> info;</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;            info.<a class="code" href="classyarp_1_1os_1_1PortInfo.html#a3a7681cf07b560ecf6c2a792387fb89f">message</a> = msg;</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;            info.<a class="code" href="classyarp_1_1os_1_1PortInfo.html#a74e15e1a7067148a6868d4f5574bd2ed">tag</a> = <a class="code" href="classyarp_1_1os_1_1PortInfo.html#ab319f658e96bb8fc69064c1bb8ef4f89a6ef7ee6a99c122a9586eafc3dc3e29ad">yarp::os::PortInfo::PORTINFO_CONNECTION</a>;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;            info.<a class="code" href="classyarp_1_1os_1_1PortInfo.html#a387960ef14bdfb1ff323563b51a6b973">incoming</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;            info.<a class="code" href="classyarp_1_1os_1_1PortInfo.html#a5b2eaba96cf4a8bd32a4678defd9d486">portName</a> = portName;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;            info.<a class="code" href="classyarp_1_1os_1_1PortInfo.html#aa369f78c5b98c151401b9754b107eae0">sourceName</a> = route.<a class="code" href="classyarp_1_1os_1_1Route.html#a9beaa65ef1683ab12367720e2e98d0f8">getFromName</a>();</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;            info.<a class="code" href="classyarp_1_1os_1_1PortInfo.html#a064495d8b35c1cd2bf4e489a4498b041">targetName</a> = route.<a class="code" href="classyarp_1_1os_1_1Route.html#a2156322c29d68a6ef5d22e8bd43d5193">getToName</a>();</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;            info.<a class="code" href="classyarp_1_1os_1_1PortInfo.html#a14a98c85134a795b133543a6a14a571f">carrierName</a> = route.<a class="code" href="classyarp_1_1os_1_1Route.html#a6a1d40ac1577aa9443338bbf3de7c081">getCarrierName</a>();</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;            reporter.<a class="code" href="classyarp_1_1os_1_1PortReport.html#aeed43b6402e00db3b5f7fb947fca5487">report</a>(info);</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;            oct++;</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;        }</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    }</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    <span class="keywordflow">if</span> (oct &lt; 1) {</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;        <a class="code" href="classyarp_1_1os_1_1PortInfo.html">PortInfo</a> info;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;        info.<a class="code" href="classyarp_1_1os_1_1PortInfo.html#a74e15e1a7067148a6868d4f5574bd2ed">tag</a> = <a class="code" href="classyarp_1_1os_1_1PortInfo.html#ab319f658e96bb8fc69064c1bb8ef4f89ab3458eee6c1b82da594d4925b44f74e5">yarp::os::PortInfo::PORTINFO_MISC</a>;</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;        info.<a class="code" href="classyarp_1_1os_1_1PortInfo.html#a3a7681cf07b560ecf6c2a792387fb89f">message</a> = <span class="stringliteral">&quot;There are no outgoing connections&quot;</span>;</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;        reporter.<a class="code" href="classyarp_1_1os_1_1PortReport.html#aeed43b6402e00db3b5f7fb947fca5487">report</a>(info);</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    }</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160; </div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    <span class="comment">// Report incoming connections.</span></div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    <span class="keywordtype">int</span> ict = 0;</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> unit : m_units) {</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;        <span class="keywordflow">if</span> ((unit != <span class="keyword">nullptr</span>) &amp;&amp; unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#ad961045f7195014a158cacf2648d6d13">isInput</a>() &amp;&amp; !unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a9982124d80de6eb62ca73f723efc7b2b">isFinished</a>()) {</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;            <a class="code" href="classyarp_1_1os_1_1Route.html">Route</a> route = unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a490e1d750a1440ca5575e16126de97dd">getRoute</a>();</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;            std::string msg = <span class="stringliteral">&quot;There is an input connection from &quot;</span> + route.<a class="code" href="classyarp_1_1os_1_1Route.html#a9beaa65ef1683ab12367720e2e98d0f8">getFromName</a>() + <span class="stringliteral">&quot; to &quot;</span> + route.<a class="code" href="classyarp_1_1os_1_1Route.html#a2156322c29d68a6ef5d22e8bd43d5193">getToName</a>() + <span class="stringliteral">&quot; using &quot;</span> + route.<a class="code" href="classyarp_1_1os_1_1Route.html#a6a1d40ac1577aa9443338bbf3de7c081">getCarrierName</a>();</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;            <a class="code" href="classyarp_1_1os_1_1PortInfo.html">PortInfo</a> info;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;            info.<a class="code" href="classyarp_1_1os_1_1PortInfo.html#a3a7681cf07b560ecf6c2a792387fb89f">message</a> = msg;</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;            info.<a class="code" href="classyarp_1_1os_1_1PortInfo.html#a74e15e1a7067148a6868d4f5574bd2ed">tag</a> = <a class="code" href="classyarp_1_1os_1_1PortInfo.html#ab319f658e96bb8fc69064c1bb8ef4f89a6ef7ee6a99c122a9586eafc3dc3e29ad">yarp::os::PortInfo::PORTINFO_CONNECTION</a>;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;            info.<a class="code" href="classyarp_1_1os_1_1PortInfo.html#a387960ef14bdfb1ff323563b51a6b973">incoming</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;            info.<a class="code" href="classyarp_1_1os_1_1PortInfo.html#a5b2eaba96cf4a8bd32a4678defd9d486">portName</a> = portName;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;            info.<a class="code" href="classyarp_1_1os_1_1PortInfo.html#aa369f78c5b98c151401b9754b107eae0">sourceName</a> = route.<a class="code" href="classyarp_1_1os_1_1Route.html#a9beaa65ef1683ab12367720e2e98d0f8">getFromName</a>();</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;            info.<a class="code" href="classyarp_1_1os_1_1PortInfo.html#a064495d8b35c1cd2bf4e489a4498b041">targetName</a> = route.<a class="code" href="classyarp_1_1os_1_1Route.html#a2156322c29d68a6ef5d22e8bd43d5193">getToName</a>();</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;            info.<a class="code" href="classyarp_1_1os_1_1PortInfo.html#a14a98c85134a795b133543a6a14a571f">carrierName</a> = route.<a class="code" href="classyarp_1_1os_1_1Route.html#a6a1d40ac1577aa9443338bbf3de7c081">getCarrierName</a>();</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;            reporter.<a class="code" href="classyarp_1_1os_1_1PortReport.html#aeed43b6402e00db3b5f7fb947fca5487">report</a>(info);</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;            ict++;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        }</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    }</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <span class="keywordflow">if</span> (ict &lt; 1) {</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;        <a class="code" href="classyarp_1_1os_1_1PortInfo.html">PortInfo</a> info;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;        info.<a class="code" href="classyarp_1_1os_1_1PortInfo.html#a74e15e1a7067148a6868d4f5574bd2ed">tag</a> = <a class="code" href="classyarp_1_1os_1_1PortInfo.html#ab319f658e96bb8fc69064c1bb8ef4f89ab3458eee6c1b82da594d4925b44f74e5">yarp::os::PortInfo::PORTINFO_MISC</a>;</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;        info.<a class="code" href="classyarp_1_1os_1_1PortInfo.html#a3a7681cf07b560ecf6c2a792387fb89f">message</a> = <span class="stringliteral">&quot;There are no incoming connections&quot;</span>;</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;        reporter.<a class="code" href="classyarp_1_1os_1_1PortReport.html#aeed43b6402e00db3b5f7fb947fca5487">report</a>(info);</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    }</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160; </div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;}</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160; </div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160; </div>
<div class="line"><a name="l01215"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a1f9baef482bd6249790a439c7eb3329f"> 1215</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a1f9baef482bd6249790a439c7eb3329f">PortCore::setReportCallback</a>(<a class="code" href="classyarp_1_1os_1_1PortReport.html">yarp::os::PortReport</a>* reporter)</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;{</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <span class="keywordflow">if</span> (reporter != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;        m_eventReporter = reporter;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    }</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;}</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160; </div>
<div class="line"><a name="l01224"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af1374cb46185fb1098cffe5707a6d1d2"> 1224</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af1374cb46185fb1098cffe5707a6d1d2">PortCore::resetReportCallback</a>()</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;{</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    m_eventReporter = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;}</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160; </div>
<div class="line"><a name="l01231"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a6d023a11054f9147d3ffa6c0a5a8c7ac"> 1231</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a6d023a11054f9147d3ffa6c0a5a8c7ac">PortCore::report</a>(<span class="keyword">const</span> <a class="code" href="classyarp_1_1os_1_1PortInfo.html">PortInfo</a>&amp; info)</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;{</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    <span class="comment">// We are in the context of one of the input or output threads,</span></div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    <span class="comment">// so our contact with the PortCore must be absolutely minimal.</span></div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    <span class="comment">// It is safe to pick up the address of the reporter if this is</span></div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <span class="comment">// kept constant over the lifetime of the input/output threads.</span></div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160; </div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    <span class="keywordflow">if</span> (m_eventReporter != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;        m_eventReporter-&gt;<a class="code" href="classyarp_1_1os_1_1PortReport.html#aeed43b6402e00db3b5f7fb947fca5487">report</a>(info);</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    }</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;}</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160; </div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160; </div>
<div class="line"><a name="l01245"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a1e1d0fc512f36e866c6588c82af81a60"> 1245</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a1e1d0fc512f36e866c6588c82af81a60">PortCore::readBlock</a>(<a class="code" href="classyarp_1_1os_1_1ConnectionReader.html">ConnectionReader</a>&amp; reader, <span class="keywordtype">void</span>* <span class="keywordtype">id</span>, <a class="code" href="classyarp_1_1os_1_1OutputStream.html">OutputStream</a>* os)</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;{</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    <a class="code" href="yarp-v3_82-build_2src_2libYARP__conf_2include_2yarp_2conf_2api_8h.html#a115a3e86265819f41c93ff12c2538d1f">YARP_UNUSED</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    <a class="code" href="yarp-v3_82-build_2src_2libYARP__conf_2include_2yarp_2conf_2api_8h.html#a115a3e86265819f41c93ff12c2538d1f">YARP_UNUSED</a>(os);</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    <span class="keywordtype">bool</span> result = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160; </div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    <span class="comment">// We are in the context of one of the input threads,</span></div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    <span class="comment">// so our contact with the PortCore must be absolutely minimal.</span></div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    <span class="comment">// It is safe to pick up the address of the reader since this is</span></div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    <span class="comment">// constant over the lifetime of the input threads.</span></div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160; </div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    <span class="keywordflow">if</span> (m_reader != <span class="keyword">nullptr</span> &amp;&amp; !m_interrupted) {</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;        m_interruptible = <span class="keyword">false</span>; <span class="comment">// No mutexing; user of interrupt() has to be careful.</span></div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160; </div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;        <span class="keywordtype">bool</span> haveOutputs = (m_outputCount != 0); <span class="comment">// No mutexing, but failure modes are benign.</span></div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160; </div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;        <span class="keywordflow">if</span> (m_logNeeded &amp;&amp; haveOutputs) {</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;            <span class="comment">// Normally, yarp doesn&#39;t pay attention to the content of</span></div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;            <span class="comment">// messages received by the client.  Likewise, the content</span></div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;            <span class="comment">// of replies are not monitored.  However it may sometimes</span></div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;            <span class="comment">// be useful to log this traffic.</span></div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160; </div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;            <a class="code" href="classyarp_1_1os_1_1impl_1_1ConnectionRecorder.html">ConnectionRecorder</a> recorder;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;            recorder.<a class="code" href="classyarp_1_1os_1_1impl_1_1ConnectionRecorder.html#a7dd6f2ce771518e333facbea10799ecf">init</a>(&amp;reader);</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;            <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a1500b1ab36452e9c0c518eff8cace19f">lockCallback</a>();</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;            result = m_reader-&gt;<a class="code" href="classyarp_1_1os_1_1PortReader.html#a10c08e5812f43e208fae5843137afa1d">read</a>(recorder);</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;            <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a8c5da1bc7588e29307679938df89b18e">unlockCallback</a>();</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;            recorder.<a class="code" href="classyarp_1_1os_1_1impl_1_1ConnectionRecorder.html#a8319f5ef504aac0d578cfa2bc92b07d9">fini</a>();</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;            <span class="comment">// send off a log of this transaction to whoever wants it</span></div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;            <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a6e4bfe27b71390385c3a04f7aa474edf">sendHelper</a>(recorder, <a class="code" href="PortCore_8h.html#a3277af412f7827ba9d8ce5159ea483d2">PORTCORE_SEND_LOG</a>);</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;            <span class="comment">// YARP is not needed as a middleman</span></div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;            <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a1500b1ab36452e9c0c518eff8cace19f">lockCallback</a>();</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;            result = m_reader-&gt;<a class="code" href="classyarp_1_1os_1_1PortReader.html#a10c08e5812f43e208fae5843137afa1d">read</a>(reader);</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;            <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a8c5da1bc7588e29307679938df89b18e">unlockCallback</a>();</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;        }</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160; </div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;        m_interruptible = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;        <span class="comment">// Read and ignore message, there is no where to send it.</span></div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;        <a class="code" href="Logger_8h.html#a3ac8e9b980e14d08fca14f4bef545c96">YARP_DEBUG</a>(<a class="code" href="classyarp_1_1os_1_1impl_1_1Logger.html#a9b12ce53593be134b7d7dea62607d22d">Logger::get</a>(), <span class="stringliteral">&quot;data received in PortCore, no reader for it&quot;</span>);</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;        <a class="code" href="classyarp_1_1os_1_1Bottle.html">Bottle</a> b;</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;        result = b.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a5a8c78ecc16426da099d04312dcc47dc">read</a>(reader);</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    }</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;}</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160; </div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160; </div>
<div class="line"><a name="l01294"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#ae46e2721103a77f6a9ba1135b4b043ba"> 1294</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#ae46e2721103a77f6a9ba1135b4b043ba">PortCore::send</a>(<span class="keyword">const</span> <a class="code" href="classyarp_1_1os_1_1PortWriter.html">PortWriter</a>&amp; writer,</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;                    <a class="code" href="classyarp_1_1os_1_1PortReader.html">PortReader</a>* reader,</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;                    <span class="keyword">const</span> <a class="code" href="classyarp_1_1os_1_1PortWriter.html">PortWriter</a>* callback)</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;{</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    <span class="comment">// check if there is any modifier</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    <span class="comment">// we need to protect this part while the modifier</span></div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    <span class="comment">// plugin is loading or unloading!</span></div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#a42158649ee498f8794f08eca08f95d67">outputMutex</a>.lock();</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    <span class="keywordflow">if</span> (m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#a0fd024575eaf4f9c52c56aa5d269d6e9">outputModifier</a> != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;        <span class="keywordflow">if</span> (!m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#a0fd024575eaf4f9c52c56aa5d269d6e9">outputModifier</a>-&gt;<a class="code" href="classyarp_1_1os_1_1Carrier.html#a1d8db155b5c61c058fc0bfad2ba6ab51">acceptOutgoingData</a>(writer)) {</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;            m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#a42158649ee498f8794f08eca08f95d67">outputMutex</a>.unlock();</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;        }</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;        m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#a0fd024575eaf4f9c52c56aa5d269d6e9">outputModifier</a>-&gt;<a class="code" href="classyarp_1_1os_1_1Carrier.html#a5bad357bfd6cb3a33c706fd82c8fdba9">modifyOutgoingData</a>(writer);</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    }</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#a42158649ee498f8794f08eca08f95d67">outputMutex</a>.unlock();</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    <span class="keywordflow">if</span> (!m_logNeeded) {</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a6e4bfe27b71390385c3a04f7aa474edf">sendHelper</a>(writer, <a class="code" href="PortCore_8h.html#a84a6a4538a34e7b0b0124cbca2f6a3c8">PORTCORE_SEND_NORMAL</a>, reader, callback);</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    }</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    <span class="comment">// logging is desired, so we need to wrap up and log this send</span></div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    <span class="comment">// (and any reply it gets)  -- TODO not yet supported</span></div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a6e4bfe27b71390385c3a04f7aa474edf">sendHelper</a>(writer, <a class="code" href="PortCore_8h.html#a84a6a4538a34e7b0b0124cbca2f6a3c8">PORTCORE_SEND_NORMAL</a>, reader, callback);</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;}</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160; </div>
<div class="line"><a name="l01318"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a6e4bfe27b71390385c3a04f7aa474edf"> 1318</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a6e4bfe27b71390385c3a04f7aa474edf">PortCore::sendHelper</a>(<span class="keyword">const</span> <a class="code" href="classyarp_1_1os_1_1PortWriter.html">PortWriter</a>&amp; writer,</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;                          <span class="keywordtype">int</span> mode,</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;                          <a class="code" href="classyarp_1_1os_1_1PortReader.html">PortReader</a>* reader,</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;                          <span class="keyword">const</span> <a class="code" href="classyarp_1_1os_1_1PortWriter.html">PortWriter</a>* callback)</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;{</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    <span class="keywordflow">if</span> (m_interrupted || m_finishing) {</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    }</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160; </div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    <span class="keywordtype">bool</span> all_ok = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    <span class="keywordtype">bool</span> gotReply = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <span class="keywordtype">int</span> logCount = 0;</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    std::string envelopeString = m_envelope;</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160; </div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    <span class="comment">// Pass a message to all output units for sending on.  We could</span></div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    <span class="comment">// be doing more here to cache the serialization of the message</span></div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    <span class="comment">// and reuse it across output connections.  However, one key</span></div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    <span class="comment">// optimization is present: external blocks written by</span></div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    <span class="comment">// yarp::os::ConnectionWriter::appendExternalBlock are never</span></div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    <span class="comment">// copied.  So for example the core image array in a yarp::sig::Image</span></div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    <span class="comment">// is untouched by the port communications code.</span></div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160; </div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    <a class="code" href="PortCore_8cpp.html#a25609f3929096fd640a572b69e51cf14">YMSG</a>((<span class="stringliteral">&quot;------- send in real\n&quot;</span>));</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160; </div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    <span class="comment">// Give user the chance to know that this object is about to be</span></div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;    <span class="comment">// written.</span></div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    writer.<a class="code" href="classyarp_1_1os_1_1PortWriter.html#acdb4f57e2b289ba678fd83f8f5541963">onCommencement</a>();</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160; </div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <span class="comment">// All user-facing parts of this port will be blocked on this</span></div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    <span class="comment">// operation, so we&#39;ll want to be snappy. How long the</span></div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    <span class="comment">// operation lasts will depend on these flags:</span></div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    <span class="comment">//   * waitAfterSend</span></div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    <span class="comment">//   * waitBeforeSend</span></div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    <span class="comment">// set by setWaitAfterSend() and setWaitBeforeSend().</span></div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160; </div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    <span class="comment">// If the port is shutting down, abort.</span></div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    <span class="keywordflow">if</span> (m_finished) {</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;        m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    }</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160; </div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    <a class="code" href="PortCore_8cpp.html#a25609f3929096fd640a572b69e51cf14">YMSG</a>((<span class="stringliteral">&quot;------- send in\n&quot;</span>));</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <span class="comment">// Prepare a &quot;packet&quot; for tracking a single message which</span></div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    <span class="comment">// may travel by multiple outputs.</span></div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    m_packetMutex.lock();</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCorePacket.html">PortCorePacket</a>* packet = m_packets.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCorePackets.html#ae50b54056336dc2048b733007541c235">getFreePacket</a>();</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(packet != <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    packet-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCorePacket.html#a1365e5a78d5dfcc488d70046c0e521ed">setContent</a>(&amp;writer, <span class="keyword">false</span>, callback);</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    m_packetMutex.unlock();</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160; </div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    <span class="comment">// Scan connections, placing message everyhere we can.</span></div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> unit : m_units) {</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;        <span class="keywordflow">if</span> ((unit != <span class="keyword">nullptr</span>) &amp;&amp; unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#aa3af6a7ac6bed766fe03c8a6f365f932">isOutput</a>() &amp;&amp; !unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a9982124d80de6eb62ca73f723efc7b2b">isFinished</a>()) {</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;            <span class="keywordtype">bool</span> log = (!unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a9f13121f8e63022472d45747fb1c77b8">getMode</a>().empty());</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;            <span class="keywordflow">if</span> (log) {</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;                <span class="comment">// Some connections are for logging only.</span></div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;                logCount++;</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;            }</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;            <span class="keywordtype">bool</span> ok = (mode == <a class="code" href="PortCore_8h.html#a84a6a4538a34e7b0b0124cbca2f6a3c8">PORTCORE_SEND_NORMAL</a>) ? (!log) : (log);</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;            <span class="keywordflow">if</span> (!ok) {</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;            }</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;            <span class="keywordtype">bool</span> waiter = m_waitAfterSend || (mode == <a class="code" href="PortCore_8h.html#a3277af412f7827ba9d8ce5159ea483d2">PORTCORE_SEND_LOG</a>);</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;            <a class="code" href="PortCore_8cpp.html#a25609f3929096fd640a572b69e51cf14">YMSG</a>((<span class="stringliteral">&quot;------- -- inc\n&quot;</span>));</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;            m_packetMutex.lock();</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;            packet-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCorePacket.html#a3086fa9d77e8508c522b03e413916e21">inc</a>(); <span class="comment">// One more connection carrying message.</span></div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;            m_packetMutex.unlock();</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;            <a class="code" href="PortCore_8cpp.html#a25609f3929096fd640a572b69e51cf14">YMSG</a>((<span class="stringliteral">&quot;------- -- presend\n&quot;</span>));</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;            <span class="keywordtype">bool</span> gotReplyOne = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;            <span class="comment">// Send the message off on this connection.</span></div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;            <span class="keywordtype">void</span>* out = unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a83075610e9e149c305d405cee3ee28d0">send</a>(writer,</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;                                   reader,</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;                                   (callback != <span class="keyword">nullptr</span>) ? callback : (&amp;writer),</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;                                   (<span class="keywordtype">void</span>*)packet,</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;                                   envelopeString,</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;                                   waiter,</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;                                   m_waitBeforeSend,</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;                                   &amp;gotReplyOne);</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;            gotReply = gotReply || gotReplyOne;</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;            <a class="code" href="PortCore_8cpp.html#a25609f3929096fd640a572b69e51cf14">YMSG</a>((<span class="stringliteral">&quot;------- -- send\n&quot;</span>));</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;            <span class="keywordflow">if</span> (out != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;                <span class="comment">// We got back a report of a message already sent.</span></div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;                m_packetMutex.lock();</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;                ((<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCorePacket.html">PortCorePacket</a>*)out)-&gt;dec(); <span class="comment">// Message on one fewer connections.</span></div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;                m_packets.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCorePackets.html#a8c06f4a7f581a50f0c97ccf3c3e2d6ee">checkPacket</a>((<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCorePacket.html">PortCorePacket</a>*)out);</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;                m_packetMutex.unlock();</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;            }</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;            <span class="keywordflow">if</span> (waiter) {</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;                <span class="keywordflow">if</span> (unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a9982124d80de6eb62ca73f723efc7b2b">isFinished</a>()) {</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;                    all_ok = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;                }</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;            }</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;            <a class="code" href="PortCore_8cpp.html#a25609f3929096fd640a572b69e51cf14">YMSG</a>((<span class="stringliteral">&quot;------- -- dec\n&quot;</span>));</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;        }</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;    }</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    <a class="code" href="PortCore_8cpp.html#a25609f3929096fd640a572b69e51cf14">YMSG</a>((<span class="stringliteral">&quot;------- pack check\n&quot;</span>));</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    m_packetMutex.lock();</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160; </div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    <span class="comment">// We no longer concern ourselves with the message.</span></div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    <span class="comment">// It may or may not be traveling on some connections.</span></div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    <span class="comment">// But that is not our problem anymore.</span></div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    packet-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCorePacket.html#ac62d94965a9f43e109d4d174b0453862">dec</a>();</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160; </div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    m_packets.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCorePackets.html#a8c06f4a7f581a50f0c97ccf3c3e2d6ee">checkPacket</a>(packet);</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    m_packetMutex.unlock();</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    <a class="code" href="PortCore_8cpp.html#a25609f3929096fd640a572b69e51cf14">YMSG</a>((<span class="stringliteral">&quot;------- packed\n&quot;</span>));</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    <a class="code" href="PortCore_8cpp.html#a25609f3929096fd640a572b69e51cf14">YMSG</a>((<span class="stringliteral">&quot;------- send out\n&quot;</span>));</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    <span class="keywordflow">if</span> (mode == <a class="code" href="PortCore_8h.html#a3277af412f7827ba9d8ce5159ea483d2">PORTCORE_SEND_LOG</a>) {</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;        <span class="keywordflow">if</span> (logCount == 0) {</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;            m_logNeeded = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;        }</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    }</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    <a class="code" href="PortCore_8cpp.html#a25609f3929096fd640a572b69e51cf14">YMSG</a>((<span class="stringliteral">&quot;------- send out real\n&quot;</span>));</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160; </div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    <span class="keywordflow">if</span> (m_waitAfterSend &amp;&amp; reader != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;        all_ok = all_ok &amp;&amp; gotReply;</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    }</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160; </div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    <span class="keywordflow">return</span> all_ok;</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;}</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160; </div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160; </div>
<div class="line"><a name="l01442"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#ac4c0cffc29af608969842cee090f0b3e"> 1442</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#ac4c0cffc29af608969842cee090f0b3e">PortCore::isWriting</a>()</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;{</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    <span class="keywordtype">bool</span> writing = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160; </div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160; </div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    <span class="comment">// Check if any port is currently writing.  TODO optimize</span></div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    <span class="comment">// this query by counting down with notifyCompletion().</span></div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    <span class="keywordflow">if</span> (!m_finished) {</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> unit : m_units) {</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;            <span class="keywordflow">if</span> ((unit != <span class="keyword">nullptr</span>) &amp;&amp; !unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a9982124d80de6eb62ca73f723efc7b2b">isFinished</a>() &amp;&amp; unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a98f8bc8ddd7e47d1607af43381c4d95d">isBusy</a>()) {</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;                writing = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;            }</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;        }</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;    }</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160; </div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160; </div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;    <span class="keywordflow">return</span> writing;</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;}</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160; </div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160; </div>
<div class="line"><a name="l01464"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a94063eddd63a6bc8bbabc7a5317951c2"> 1464</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a94063eddd63a6bc8bbabc7a5317951c2">PortCore::getInputCount</a>()</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;{</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    cleanUnits(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    m_packetMutex.lock();</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    <span class="keywordtype">int</span> result = m_inputCount;</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    m_packetMutex.unlock();</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;}</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160; </div>
<div class="line"><a name="l01473"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a129afa49740b04c444a743bddf38ee81"> 1473</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a129afa49740b04c444a743bddf38ee81">PortCore::getOutputCount</a>()</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;{</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    cleanUnits(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    m_packetMutex.lock();</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    <span class="keywordtype">int</span> result = m_outputCount;</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    m_packetMutex.unlock();</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;}</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160; </div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160; </div>
<div class="line"><a name="l01483"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a04c4dcad6cb5ab9b51e745bdfa5b3c39"> 1483</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a04c4dcad6cb5ab9b51e745bdfa5b3c39">PortCore::notifyCompletion</a>(<span class="keywordtype">void</span>* tracker)</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;{</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    <a class="code" href="PortCore_8cpp.html#a25609f3929096fd640a572b69e51cf14">YMSG</a>((<span class="stringliteral">&quot;starting notifyCompletion\n&quot;</span>));</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    m_packetMutex.lock();</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;    <span class="keywordflow">if</span> (tracker != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;        ((<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCorePacket.html">PortCorePacket</a>*)tracker)-&gt;dec();</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;        m_packets.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCorePackets.html#a8c06f4a7f581a50f0c97ccf3c3e2d6ee">checkPacket</a>((<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCorePacket.html">PortCorePacket</a>*)tracker);</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;    }</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    m_packetMutex.unlock();</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    <a class="code" href="PortCore_8cpp.html#a25609f3929096fd640a572b69e51cf14">YMSG</a>((<span class="stringliteral">&quot;stopping notifyCompletion\n&quot;</span>));</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;}</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160; </div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160; </div>
<div class="line"><a name="l01496"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a03b84f88fba6d9f303120ea55b1faa89"> 1496</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a5842f5cd130a654943984d93c248f2af">PortCore::setEnvelope</a>(<a class="code" href="classyarp_1_1os_1_1PortWriter.html">PortWriter</a>&amp; envelope)</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;{</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    m_envelopeWriter.<a class="code" href="classyarp_1_1os_1_1impl_1_1BufferedConnectionWriter.html#ad6dd689e3f2bc084c9d3bbc6efc10e14">restart</a>();</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;    <span class="keywordtype">bool</span> ok = envelope.<a class="code" href="classyarp_1_1os_1_1PortWriter.html#a4f2436840eac46540a23f5a0c5e8043d">write</a>(m_envelopeWriter);</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    <span class="keywordflow">if</span> (ok) {</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;        <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a5842f5cd130a654943984d93c248f2af">setEnvelope</a>(m_envelopeWriter.<a class="code" href="classyarp_1_1os_1_1impl_1_1BufferedConnectionWriter.html#a20161eb2b98d08aca292823b670bcb7a">toString</a>());</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    }</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    <span class="keywordflow">return</span> ok;</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;}</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160; </div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160; </div>
<div class="line"><a name="l01507"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a5842f5cd130a654943984d93c248f2af"> 1507</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a5842f5cd130a654943984d93c248f2af">PortCore::setEnvelope</a>(<span class="keyword">const</span> std::string&amp; envelope)</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;{</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    m_envelope = envelope;</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; m_envelope.length(); i++) {</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;        <span class="comment">// It looks like envelopes are constrained to be printable ASCII?</span></div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;        <span class="comment">// I&#39;m not sure why this would be.  TODO check.</span></div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;        <span class="keywordflow">if</span> (m_envelope[i] &lt; 32) {</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;            m_envelope = m_envelope.substr(0, i);</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;        }</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    }</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    <a class="code" href="Logger_8h.html#a3ac8e9b980e14d08fca14f4bef545c96">YARP_DEBUG</a>(m_log, std::string(<span class="stringliteral">&quot;set envelope to &quot;</span>) + m_envelope);</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;}</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160; </div>
<div class="line"><a name="l01521"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a0e89f50671d5fc9ca3d51e06cc7342a4"> 1521</a></span>&#160;std::string <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a0e89f50671d5fc9ca3d51e06cc7342a4">PortCore::getEnvelope</a>()</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;{</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    <span class="keywordflow">return</span> m_envelope;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;}</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160; </div>
<div class="line"><a name="l01526"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a3ed06634c60197919e0b2498a01c75a9"> 1526</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a0e89f50671d5fc9ca3d51e06cc7342a4">PortCore::getEnvelope</a>(<a class="code" href="classyarp_1_1os_1_1PortReader.html">PortReader</a>&amp; envelope)</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;{</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;    <a class="code" href="classyarp_1_1os_1_1StringInputStream.html">StringInputStream</a> sis;</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    sis.<a class="code" href="classyarp_1_1os_1_1StringInputStream.html#a38723eda7afc431eaf8cbcea26343a4e">add</a>(m_envelope);</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    sis.<a class="code" href="classyarp_1_1os_1_1StringInputStream.html#a38723eda7afc431eaf8cbcea26343a4e">add</a>(<span class="stringliteral">&quot;\r\n&quot;</span>);</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    <a class="code" href="classyarp_1_1os_1_1impl_1_1StreamConnectionReader.html">StreamConnectionReader</a> sbr;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    <a class="code" href="classyarp_1_1os_1_1Route.html">Route</a> route;</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    sbr.<a class="code" href="classyarp_1_1os_1_1impl_1_1StreamConnectionReader.html#ab80ef26e720613c296781237753ec5f7">reset</a>(sis, <span class="keyword">nullptr</span>, route, 0, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    <span class="keywordflow">return</span> envelope.<a class="code" href="classyarp_1_1os_1_1PortReader.html#a10c08e5812f43e208fae5843137afa1d">read</a>(sbr);</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;}</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160; </div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;<span class="comment">// Shorthand to create a nested (tag, val) pair to add to a message.</span></div>
<div class="line"><a name="l01538"></a><span class="lineno"><a class="line" href="PortCore_8cpp.html#a25283556cbdb3c44849d7534f077330c"> 1538</a></span>&#160;<span class="preprocessor">#define STANZA(name, tag, val) \</span></div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;<span class="preprocessor">    Bottle name;               \</span></div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;<span class="preprocessor">    (name).addString(tag);     \</span></div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;<span class="preprocessor">    (name).addString(val);</span></div>
<div class="line"><a name="l01542"></a><span class="lineno"><a class="line" href="PortCore_8cpp.html#af326f77fc7c34f17363338aa6e37f39e"> 1542</a></span>&#160;<span class="preprocessor">#define STANZA_INT(name, tag, val) \</span></div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;<span class="preprocessor">    Bottle name;                   \</span></div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;<span class="preprocessor">    (name).addString(tag);         \</span></div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;<span class="preprocessor">    (name).addInt32(val);</span></div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160; </div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;<span class="comment">// Make an RPC connection to talk to a ROS API, send a message, get reply.</span></div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;<span class="comment">// NOTE: ROS support can now be moved out of here, once all documentation</span></div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;<span class="comment">// of older ways to interoperate with it are purged and people stop</span></div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;<span class="comment">// doing it.</span></div>
<div class="line"><a name="l01551"></a><span class="lineno"><a class="line" href="PortCore_8cpp.html#ad80c4188c8a31f3e3154da4144979856"> 1551</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="PortCore_8cpp.html#ad80c4188c8a31f3e3154da4144979856">__pc_rpc</a>(<span class="keyword">const</span> <a class="code" href="classyarp_1_1os_1_1Contact.html">Contact</a>&amp; c,</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;                     <span class="keyword">const</span> <span class="keywordtype">char</span>* carrier,</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;                     <a class="code" href="classyarp_1_1os_1_1Bottle.html">Bottle</a>&amp; writer,</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;                     <a class="code" href="classyarp_1_1os_1_1Bottle.html">Bottle</a>&amp; reader,</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;                     <span class="keywordtype">bool</span> <a class="code" href="yarpros_8cpp.html#ab3f078684998b83967d507d0f453f454">verbose</a>)</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;{</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    <a class="code" href="classyarp_1_1os_1_1ContactStyle.html">ContactStyle</a> style;</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    style.<a class="code" href="classyarp_1_1os_1_1ContactStyle.html#a3fca115887cd00a15ad1dbc464151f89">quiet</a> = !<a class="code" href="yarpros_8cpp.html#ab3f078684998b83967d507d0f453f454">verbose</a>;</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;    style.<a class="code" href="classyarp_1_1os_1_1ContactStyle.html#a14272501ff21663bdd5c4a8950795f9d">timeout</a> = 4;</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    style.<a class="code" href="classyarp_1_1os_1_1ContactStyle.html#a4a1da6152a18a8e1fa0f1c7ebd848af9">carrier</a> = carrier;</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    <span class="keywordtype">bool</span> ok = <a class="code" href="classyarp_1_1os_1_1NetworkBase.html#aeb7b1a750f2eb991202e3fef2ff7062d">Network::write</a>(c, writer, reader, style);</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;    <span class="keywordflow">return</span> ok;</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;}</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160; </div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;<span class="comment">// ACE is sometimes confused by localhost aliases, in a ROS-incompatible</span></div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;<span class="comment">// way.  This method does a quick sanity check if we are using ROS.</span></div>
<div class="line"><a name="l01567"></a><span class="lineno"><a class="line" href="PortCore_8cpp.html#a00e2a36adbade62027912e7edfb50337"> 1567</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="PortCore_8cpp.html#a00e2a36adbade62027912e7edfb50337">__tcp_check</a>(<span class="keyword">const</span> <a class="code" href="classyarp_1_1os_1_1Contact.html">Contact</a>&amp; c)</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;{</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;<span class="preprocessor">#ifdef YARP_HAS_ACE</span></div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;    ACE_INET_Addr addr;</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;    <span class="keywordtype">int</span> result = addr.set(c.<a class="code" href="classyarp_1_1os_1_1Contact.html#ab4312ee491059450c68ab85bb713b44f">getPort</a>(), c.<a class="code" href="classyarp_1_1os_1_1Contact.html#af2fa156ae18485d859ef8c859f43eca1">getHost</a>().c_str());</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;    <span class="keywordflow">if</span> (result != 0) {</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;ACE choked on %s:%d\n&quot;</span>, c.<a class="code" href="classyarp_1_1os_1_1Contact.html#af2fa156ae18485d859ef8c859f43eca1">getHost</a>().c_str(), c.<a class="code" href="classyarp_1_1os_1_1Contact.html#ab4312ee491059450c68ab85bb713b44f">getPort</a>());</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;    }</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;    result = addr.set(c.<a class="code" href="classyarp_1_1os_1_1Contact.html#ab4312ee491059450c68ab85bb713b44f">getPort</a>(), <span class="stringliteral">&quot;127.0.0.1&quot;</span>);</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    <span class="keywordflow">if</span> (result != 0) {</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;ACE choked on 127.0.0.1:%d\n&quot;</span>, c.<a class="code" href="classyarp_1_1os_1_1Contact.html#ab4312ee491059450c68ab85bb713b44f">getPort</a>());</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;    }</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;    result = addr.set(c.<a class="code" href="classyarp_1_1os_1_1Contact.html#ab4312ee491059450c68ab85bb713b44f">getPort</a>(), <span class="stringliteral">&quot;127.0.1.1&quot;</span>);</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    <span class="keywordflow">if</span> (result != 0) {</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;ACE choked on 127.0.1.1:%d\n&quot;</span>, c.<a class="code" href="classyarp_1_1os_1_1Contact.html#ab4312ee491059450c68ab85bb713b44f">getPort</a>());</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;    }</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;}</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160; </div>
<div class="line"><a name="l01587"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#afbe70c561b8bd08f1c3f0ec8c17c5aad"> 1587</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#afbe70c561b8bd08f1c3f0ec8c17c5aad">PortCore::adminBlock</a>(<a class="code" href="classyarp_1_1os_1_1ConnectionReader.html">ConnectionReader</a>&amp; reader,</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;                          <span class="keywordtype">void</span>* <span class="keywordtype">id</span>,</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;                          <a class="code" href="classyarp_1_1os_1_1OutputStream.html">OutputStream</a>* os)</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;{</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;    <a class="code" href="yarp-v3_82-build_2src_2libYARP__conf_2include_2yarp_2conf_2api_8h.html#a115a3e86265819f41c93ff12c2538d1f">YARP_UNUSED</a>(os);</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    <a class="code" href="classyarp_1_1os_1_1Bottle.html">Bottle</a> cmd;</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    <a class="code" href="classyarp_1_1os_1_1Bottle.html">Bottle</a> result;</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160; </div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    <span class="comment">// We&#39;ve received a message to the port that is marked as administrative.</span></div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    <span class="comment">// That means that instead of passing it along as data to the user of the</span></div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    <span class="comment">// port, the port itself is responsible for reading and responding to</span></div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    <span class="comment">// it.  So let&#39;s read the message and see what we&#39;re supposed to do.</span></div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;    cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a5a8c78ecc16426da099d04312dcc47dc">read</a>(reader);</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160; </div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;    <a class="code" href="Logger_8h.html#abb160acbec1260a2dd8f329179a6bb9f">YARP_SPRINTF2</a>(m_log, debug, <span class="stringliteral">&quot;Port %s received command %s&quot;</span>, <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af12556e5940fd1edaa84efc8cd12ced3">getName</a>().c_str(), cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad8cb921bd7e22d6fcafc3a61db65e75c">toString</a>().c_str());</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160; </div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    <a class="code" href="classyarp_1_1os_1_1StringOutputStream.html">StringOutputStream</a> cache;</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160; </div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;    <span class="keywordtype">int</span> vocab = cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(0).<a class="code" href="classyarp_1_1os_1_1Value.html#acc3689cb01436b13ff457212a489a6d0">asVocab</a>();</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160; </div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;    <span class="comment">// We support ROS client API these days.  Here we recode some long ROS</span></div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;    <span class="comment">// command names, just for convenience.</span></div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    <span class="keywordflow">if</span> (cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(0).<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>() == <span class="stringliteral">&quot;publisherUpdate&quot;</span>) {</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;        vocab = <a class="code" href="namespaceyarp_1_1os.html#abac0a9b026b5e30de0df2f0e7544f6b0">yarp::os::createVocab</a>(<span class="charliteral">&#39;r&#39;</span>, <span class="charliteral">&#39;p&#39;</span>, <span class="charliteral">&#39;u&#39;</span>, <span class="charliteral">&#39;p&#39;</span>);</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    }</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    <span class="keywordflow">if</span> (cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(0).<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>() == <span class="stringliteral">&quot;requestTopic&quot;</span>) {</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;        vocab = <a class="code" href="namespaceyarp_1_1os.html#abac0a9b026b5e30de0df2f0e7544f6b0">yarp::os::createVocab</a>(<span class="charliteral">&#39;r&#39;</span>, <span class="charliteral">&#39;t&#39;</span>, <span class="charliteral">&#39;o&#39;</span>, <span class="charliteral">&#39;p&#39;</span>);</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;    }</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;    <span class="keywordflow">if</span> (cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(0).<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>() == <span class="stringliteral">&quot;getPid&quot;</span>) {</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;        vocab = <a class="code" href="namespaceyarp_1_1os.html#abac0a9b026b5e30de0df2f0e7544f6b0">yarp::os::createVocab</a>(<span class="charliteral">&#39;p&#39;</span>, <span class="charliteral">&#39;i&#39;</span>, <span class="charliteral">&#39;d&#39;</span>);</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;    }</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;    <span class="keywordflow">if</span> (cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(0).<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>() == <span class="stringliteral">&quot;getBusInfo&quot;</span>) {</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;        vocab = <a class="code" href="namespaceyarp_1_1os.html#abac0a9b026b5e30de0df2f0e7544f6b0">yarp::os::createVocab</a>(<span class="charliteral">&#39;b&#39;</span>, <span class="charliteral">&#39;u&#39;</span>, <span class="charliteral">&#39;s&#39;</span>);</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    }</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160; </div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    std::string infoMsg;</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;    <span class="keywordflow">switch</span> (vocab) {</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceyarp_1_1os.html#abac0a9b026b5e30de0df2f0e7544f6b0">yarp::os::createVocab</a>(<span class="charliteral">&#39;h&#39;</span>, <span class="charliteral">&#39;e&#39;</span>, <span class="charliteral">&#39;l&#39;</span>, <span class="charliteral">&#39;p&#39;</span>):</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;        <span class="comment">// We give a list of the most useful administrative commands.</span></div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6841d4c88db1245ad08dbefdb58353aa">addVocab</a>(<a class="code" href="namespaceyarp_1_1os.html#abac0a9b026b5e30de0df2f0e7544f6b0">yarp::os::createVocab</a>(<span class="charliteral">&#39;m&#39;</span>, <span class="charliteral">&#39;a&#39;</span>, <span class="charliteral">&#39;n&#39;</span>, <span class="charliteral">&#39;y&#39;</span>));</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;[help]                  # give this help&quot;</span>);</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;[ver]                   # report protocol version information&quot;</span>);</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;[add] $portname         # add an output connection&quot;</span>);</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;[add] $portname $car    # add an output with a given protocol&quot;</span>);</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;[del] $portname         # remove an input or output connection&quot;</span>);</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;[list] [in]             # list input connections&quot;</span>);</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;[list] [out]            # list output connections&quot;</span>);</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;[list] [in]  $portname  # give details for input&quot;</span>);</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;[list] [out] $portname  # give details for output&quot;</span>);</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;[prop] [get]            # get all user-defined port properties&quot;</span>);</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;[prop] [get] $prop      # get a user-defined port property (prop, val)&quot;</span>);</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;[prop] [set] $prop $val # set a user-defined port property (prop, val)&quot;</span>);</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;[prop] [get] $portname  # get Qos properties of a connection to/from a port&quot;</span>);</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;[prop] [set] $portname  # set Qos properties of a connection to/from a port&quot;</span>);</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;[prop] [get] $cur_port  # get information about current process (e.g., scheduling priority, pid)&quot;</span>);</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;[prop] [set] $cur_port  # set properties of the current process (e.g., scheduling priority, pid)&quot;</span>);</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;[atch] [out] $prop      # attach a portmonitor plug-in to the port&#39;s output&quot;</span>);</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;[atch] [in]  $prop      # attach a portmonitor plug-in to the port&#39;s input&quot;</span>);</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;[dtch] [out]            # detach portmonitor plug-in from the port&#39;s output&quot;</span>);</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;[dtch] [in]             # detach portmonitor plug-in from the port&#39;s input&quot;</span>);</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;        <span class="comment">//result.addString(&quot;[atch] $portname $prop  # attach a portmonitor plug-in to the connection to/from $portname&quot;);</span></div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;        <span class="comment">//result.addString(&quot;[dtch] $portname        # detach any portmonitor plug-in from the connection to/from $portname&quot;);</span></div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceyarp_1_1os.html#abac0a9b026b5e30de0df2f0e7544f6b0">yarp::os::createVocab</a>(<span class="charliteral">&#39;v&#39;</span>, <span class="charliteral">&#39;e&#39;</span>, <span class="charliteral">&#39;r&#39;</span>):</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;        <span class="comment">// Gives a version number for the administrative commands.</span></div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;        <span class="comment">// It is distinct from YARP library versioning.</span></div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6841d4c88db1245ad08dbefdb58353aa">addVocab</a>(<a class="code" href="namespaceyarp_1_1os_1_1Vocab.html#a5fea2e97a90e8498859ae92feb94ecee">Vocab::encode</a>(<span class="stringliteral">&quot;ver&quot;</span>));</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ac5ff63ea20f6c877e5c4541121f98482">addInt32</a>(1);</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ac5ff63ea20f6c877e5c4541121f98482">addInt32</a>(2);</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ac5ff63ea20f6c877e5c4541121f98482">addInt32</a>(3);</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceyarp_1_1os.html#abac0a9b026b5e30de0df2f0e7544f6b0">yarp::os::createVocab</a>(<span class="charliteral">&#39;a&#39;</span>, <span class="charliteral">&#39;d&#39;</span>, <span class="charliteral">&#39;d&#39;</span>): {</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;        <span class="comment">// Add an output to the port.</span></div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;        std::string output = cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(1).<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>();</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;        std::string carrier = cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(2).<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>();</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;        <span class="keywordflow">if</span> (!carrier.empty()) {</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;            output = carrier + <span class="stringliteral">&quot;:/&quot;</span> + output;</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;        }</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;        <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#afc60ce475843305ac2afffcfae29c27b">addOutput</a>(output, <span class="keywordtype">id</span>, &amp;cache, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;        std::string r = cache.<a class="code" href="classyarp_1_1os_1_1StringOutputStream.html#a3b749456e52372b573251d82d4fa9258">toString</a>();</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;        <span class="keywordtype">int</span> v = (r[0] == <span class="charliteral">&#39;A&#39;</span>) ? 0 : -1;</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ac5ff63ea20f6c877e5c4541121f98482">addInt32</a>(v);</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(r);</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    } <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceyarp_1_1os.html#abac0a9b026b5e30de0df2f0e7544f6b0">yarp::os::createVocab</a>(<span class="charliteral">&#39;a&#39;</span>, <span class="charliteral">&#39;t&#39;</span>, <span class="charliteral">&#39;c&#39;</span>, <span class="charliteral">&#39;h&#39;</span>): {</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;        <span class="keywordflow">switch</span> (cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(1).<a class="code" href="classyarp_1_1os_1_1Value.html#acc3689cb01436b13ff457212a489a6d0">asVocab</a>()) {</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceyarp_1_1os.html#abac0a9b026b5e30de0df2f0e7544f6b0">yarp::os::createVocab</a>(<span class="charliteral">&#39;o&#39;</span>, <span class="charliteral">&#39;u&#39;</span>, <span class="charliteral">&#39;t&#39;</span>): {</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;            std::string propString = cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(2).<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>();</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;            <a class="code" href="classyarp_1_1os_1_1Property.html">Property</a> prop(propString.c_str());</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;            std::string errMsg;</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;            <span class="keywordflow">if</span> (!attachPortMonitor(prop, <span class="keyword">true</span>, errMsg)) {</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;                result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ab4c9755e05f65d8c89d9b406bb3da64d">clear</a>();</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;                result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6841d4c88db1245ad08dbefdb58353aa">addVocab</a>(<a class="code" href="namespaceyarp_1_1os_1_1Vocab.html#a5fea2e97a90e8498859ae92feb94ecee">Vocab::encode</a>(<span class="stringliteral">&quot;fail&quot;</span>));</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;                result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(errMsg);</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;                result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ab4c9755e05f65d8c89d9b406bb3da64d">clear</a>();</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;                result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6841d4c88db1245ad08dbefdb58353aa">addVocab</a>(<a class="code" href="namespaceyarp_1_1os_1_1Vocab.html#a5fea2e97a90e8498859ae92feb94ecee">Vocab::encode</a>(<span class="stringliteral">&quot;ok&quot;</span>));</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;            }</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;        } <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceyarp_1_1os.html#abac0a9b026b5e30de0df2f0e7544f6b0">yarp::os::createVocab</a>(<span class="charliteral">&#39;i&#39;</span>, <span class="charliteral">&#39;n&#39;</span>): {</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;            std::string propString = cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(2).<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>();</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;            <a class="code" href="classyarp_1_1os_1_1Property.html">Property</a> prop(propString.c_str());</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;            std::string errMsg;</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;            <span class="keywordflow">if</span> (!attachPortMonitor(prop, <span class="keyword">false</span>, errMsg)) {</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;                result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ab4c9755e05f65d8c89d9b406bb3da64d">clear</a>();</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;                result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6841d4c88db1245ad08dbefdb58353aa">addVocab</a>(<a class="code" href="namespaceyarp_1_1os_1_1Vocab.html#a5fea2e97a90e8498859ae92feb94ecee">Vocab::encode</a>(<span class="stringliteral">&quot;fail&quot;</span>));</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;                result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(errMsg);</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;                result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ab4c9755e05f65d8c89d9b406bb3da64d">clear</a>();</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;                result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6841d4c88db1245ad08dbefdb58353aa">addVocab</a>(<a class="code" href="namespaceyarp_1_1os_1_1Vocab.html#a5fea2e97a90e8498859ae92feb94ecee">Vocab::encode</a>(<span class="stringliteral">&quot;ok&quot;</span>));</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;            }</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;        } <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;            result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ab4c9755e05f65d8c89d9b406bb3da64d">clear</a>();</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;            result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6841d4c88db1245ad08dbefdb58353aa">addVocab</a>(<a class="code" href="namespaceyarp_1_1os_1_1Vocab.html#a5fea2e97a90e8498859ae92feb94ecee">Vocab::encode</a>(<span class="stringliteral">&quot;fail&quot;</span>));</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;            result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;attach command must be followd by [out] or [in]&quot;</span>);</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;        };</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;    } <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceyarp_1_1os.html#abac0a9b026b5e30de0df2f0e7544f6b0">yarp::os::createVocab</a>(<span class="charliteral">&#39;d&#39;</span>, <span class="charliteral">&#39;t&#39;</span>, <span class="charliteral">&#39;c&#39;</span>, <span class="charliteral">&#39;h&#39;</span>): {</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;        <span class="keywordflow">switch</span> (cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(1).<a class="code" href="classyarp_1_1os_1_1Value.html#acc3689cb01436b13ff457212a489a6d0">asVocab</a>()) {</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceyarp_1_1os.html#abac0a9b026b5e30de0df2f0e7544f6b0">yarp::os::createVocab</a>(<span class="charliteral">&#39;o&#39;</span>, <span class="charliteral">&#39;u&#39;</span>, <span class="charliteral">&#39;t&#39;</span>): {</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;            <span class="keywordflow">if</span> (dettachPortMonitor(<span class="keyword">true</span>)) {</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;                result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6841d4c88db1245ad08dbefdb58353aa">addVocab</a>(<a class="code" href="namespaceyarp_1_1os_1_1Vocab.html#a5fea2e97a90e8498859ae92feb94ecee">Vocab::encode</a>(<span class="stringliteral">&quot;ok&quot;</span>));</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;                result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6841d4c88db1245ad08dbefdb58353aa">addVocab</a>(<a class="code" href="namespaceyarp_1_1os_1_1Vocab.html#a5fea2e97a90e8498859ae92feb94ecee">Vocab::encode</a>(<span class="stringliteral">&quot;fail&quot;</span>));</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;            }</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;        } <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceyarp_1_1os.html#abac0a9b026b5e30de0df2f0e7544f6b0">yarp::os::createVocab</a>(<span class="charliteral">&#39;i&#39;</span>, <span class="charliteral">&#39;n&#39;</span>): {</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;            <span class="keywordflow">if</span> (dettachPortMonitor(<span class="keyword">false</span>)) {</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;                result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6841d4c88db1245ad08dbefdb58353aa">addVocab</a>(<a class="code" href="namespaceyarp_1_1os_1_1Vocab.html#a5fea2e97a90e8498859ae92feb94ecee">Vocab::encode</a>(<span class="stringliteral">&quot;ok&quot;</span>));</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;                result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6841d4c88db1245ad08dbefdb58353aa">addVocab</a>(<a class="code" href="namespaceyarp_1_1os_1_1Vocab.html#a5fea2e97a90e8498859ae92feb94ecee">Vocab::encode</a>(<span class="stringliteral">&quot;fail&quot;</span>));</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;            }</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;        } <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;            result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ab4c9755e05f65d8c89d9b406bb3da64d">clear</a>();</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;            result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6841d4c88db1245ad08dbefdb58353aa">addVocab</a>(<a class="code" href="namespaceyarp_1_1os_1_1Vocab.html#a5fea2e97a90e8498859ae92feb94ecee">Vocab::encode</a>(<span class="stringliteral">&quot;fail&quot;</span>));</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;            result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;detach command must be followd by [out] or [in]&quot;</span>);</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;        };</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    } <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceyarp_1_1os.html#abac0a9b026b5e30de0df2f0e7544f6b0">yarp::os::createVocab</a>(<span class="charliteral">&#39;d&#39;</span>, <span class="charliteral">&#39;e&#39;</span>, <span class="charliteral">&#39;l&#39;</span>): {</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;        <span class="comment">// Delete any inputs or outputs involving the named port.</span></div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;        <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a719067384be0a38d599407291b864dd0">removeOutput</a>(cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(1).<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>(), <span class="keywordtype">id</span>, &amp;cache);</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;        std::string r1 = cache.<a class="code" href="classyarp_1_1os_1_1StringOutputStream.html#a3b749456e52372b573251d82d4fa9258">toString</a>();</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;        cache.<a class="code" href="classyarp_1_1os_1_1StringOutputStream.html#a07f4f61a96213491ea2fa5e215104021">reset</a>();</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;        <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#ad0853f1170a90b5f29e6ce70a794d439">removeInput</a>(cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(1).<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>(), <span class="keywordtype">id</span>, &amp;cache);</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;        std::string r2 = cache.<a class="code" href="classyarp_1_1os_1_1StringOutputStream.html#a3b749456e52372b573251d82d4fa9258">toString</a>();</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;        <span class="keywordtype">int</span> v = (r1[0] == <span class="charliteral">&#39;R&#39;</span> || r2[0] == <span class="charliteral">&#39;R&#39;</span>) ? 0 : -1;</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ac5ff63ea20f6c877e5c4541121f98482">addInt32</a>(v);</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;        <span class="keywordflow">if</span> (r1[0] == <span class="charliteral">&#39;R&#39;</span> &amp;&amp; r2[0] != <span class="charliteral">&#39;R&#39;</span>) {</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;            result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(r1);</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (r1[0] != <span class="charliteral">&#39;R&#39;</span> &amp;&amp; r2[0] == <span class="charliteral">&#39;R&#39;</span>) {</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;            result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(r2);</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;            result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(r1 + r2);</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;        }</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    } <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceyarp_1_1os.html#abac0a9b026b5e30de0df2f0e7544f6b0">yarp::os::createVocab</a>(<span class="charliteral">&#39;l&#39;</span>, <span class="charliteral">&#39;i&#39;</span>, <span class="charliteral">&#39;s&#39;</span>, <span class="charliteral">&#39;t&#39;</span>):</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;        <span class="keywordflow">switch</span> (cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(1).<a class="code" href="classyarp_1_1os_1_1Value.html#acc3689cb01436b13ff457212a489a6d0">asVocab</a>()) {</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceyarp_1_1os.html#abac0a9b026b5e30de0df2f0e7544f6b0">yarp::os::createVocab</a>(<span class="charliteral">&#39;i&#39;</span>, <span class="charliteral">&#39;n&#39;</span>): {</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;            <span class="comment">// Return a list of all input connections.</span></div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;            std::string target = cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(2).<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>();</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;            m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">auto</span> unit : m_units) {</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;                <span class="keywordflow">if</span> ((unit != <span class="keyword">nullptr</span>) &amp;&amp; unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#ad961045f7195014a158cacf2648d6d13">isInput</a>() &amp;&amp; !unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a9982124d80de6eb62ca73f723efc7b2b">isFinished</a>()) {</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;                    <a class="code" href="classyarp_1_1os_1_1Route.html">Route</a> route = unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a490e1d750a1440ca5575e16126de97dd">getRoute</a>();</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;                    <span class="keywordflow">if</span> (target.empty()) {</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;                        <span class="keyword">const</span> std::string&amp; name = route.<a class="code" href="classyarp_1_1os_1_1Route.html#a9beaa65ef1683ab12367720e2e98d0f8">getFromName</a>();</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;                        <span class="keywordflow">if</span> (!name.empty()) {</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;                            result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(name);</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;                        }</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (route.<a class="code" href="classyarp_1_1os_1_1Route.html#a9beaa65ef1683ab12367720e2e98d0f8">getFromName</a>() == target) {</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;                        <a class="code" href="PortCore_8cpp.html#a25283556cbdb3c44849d7534f077330c">STANZA</a>(bfrom, <span class="stringliteral">&quot;from&quot;</span>, route.<a class="code" href="classyarp_1_1os_1_1Route.html#a9beaa65ef1683ab12367720e2e98d0f8">getFromName</a>());</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;                        <a class="code" href="PortCore_8cpp.html#a25283556cbdb3c44849d7534f077330c">STANZA</a>(bto, <span class="stringliteral">&quot;to&quot;</span>, route.<a class="code" href="classyarp_1_1os_1_1Route.html#a2156322c29d68a6ef5d22e8bd43d5193">getToName</a>());</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;                        <a class="code" href="PortCore_8cpp.html#a25283556cbdb3c44849d7534f077330c">STANZA</a>(bcarrier, <span class="stringliteral">&quot;carrier&quot;</span>, route.<a class="code" href="classyarp_1_1os_1_1Route.html#a6a1d40ac1577aa9443338bbf3de7c081">getCarrierName</a>());</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;                        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a448c494919771bd1f6294664911f4505">addList</a>() = bfrom;</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;                        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a448c494919771bd1f6294664911f4505">addList</a>() = bto;</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;                        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a448c494919771bd1f6294664911f4505">addList</a>() = bcarrier;</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;                        <a class="code" href="classyarp_1_1os_1_1Carrier.html">Carrier</a>* carrier = <a class="code" href="classyarp_1_1os_1_1Carriers.html#a92af949ab4c0690338164d1d7d372f37">Carriers::chooseCarrier</a>(route.<a class="code" href="classyarp_1_1os_1_1Route.html#a6a1d40ac1577aa9443338bbf3de7c081">getCarrierName</a>());</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;                        <span class="keywordflow">if</span> (carrier-&gt;<a class="code" href="classyarp_1_1os_1_1Carrier.html#a02556826dcfa249a2c7b76f370cdf024">isConnectionless</a>()) {</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;                            <a class="code" href="PortCore_8cpp.html#af326f77fc7c34f17363338aa6e37f39e">STANZA_INT</a>(bconnectionless, <span class="stringliteral">&quot;connectionless&quot;</span>, 1);</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;                            result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a448c494919771bd1f6294664911f4505">addList</a>() = bconnectionless;</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;                        }</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;                        <span class="keywordflow">if</span> (!carrier-&gt;<a class="code" href="classyarp_1_1os_1_1Carrier.html#a189e192187f96f6c6775745181351876">isPush</a>()) {</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;                            <a class="code" href="PortCore_8cpp.html#af326f77fc7c34f17363338aa6e37f39e">STANZA_INT</a>(breverse, <span class="stringliteral">&quot;push&quot;</span>, 0);</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;                            result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a448c494919771bd1f6294664911f4505">addList</a>() = breverse;</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;                        }</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;                        <span class="keyword">delete</span> carrier;</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;                    }</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;                }</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;            }</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;            m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;        } <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceyarp_1_1os.html#abac0a9b026b5e30de0df2f0e7544f6b0">yarp::os::createVocab</a>(<span class="charliteral">&#39;o&#39;</span>, <span class="charliteral">&#39;u&#39;</span>, <span class="charliteral">&#39;t&#39;</span>):</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;        {</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;            <span class="comment">// Return a list of all output connections.</span></div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;            std::string target = cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(2).<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>();</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;            m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">auto</span> unit : m_units) {</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;                <span class="keywordflow">if</span> ((unit != <span class="keyword">nullptr</span>) &amp;&amp; unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#aa3af6a7ac6bed766fe03c8a6f365f932">isOutput</a>() &amp;&amp; !unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a9982124d80de6eb62ca73f723efc7b2b">isFinished</a>()) {</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;                    <a class="code" href="classyarp_1_1os_1_1Route.html">Route</a> route = unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a490e1d750a1440ca5575e16126de97dd">getRoute</a>();</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;                    <span class="keywordflow">if</span> (target.empty()) {</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;                        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(route.<a class="code" href="classyarp_1_1os_1_1Route.html#a2156322c29d68a6ef5d22e8bd43d5193">getToName</a>());</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (route.<a class="code" href="classyarp_1_1os_1_1Route.html#a2156322c29d68a6ef5d22e8bd43d5193">getToName</a>() == target) {</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;                        <a class="code" href="PortCore_8cpp.html#a25283556cbdb3c44849d7534f077330c">STANZA</a>(bfrom, <span class="stringliteral">&quot;from&quot;</span>, route.<a class="code" href="classyarp_1_1os_1_1Route.html#a9beaa65ef1683ab12367720e2e98d0f8">getFromName</a>());</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;                        <a class="code" href="PortCore_8cpp.html#a25283556cbdb3c44849d7534f077330c">STANZA</a>(bto, <span class="stringliteral">&quot;to&quot;</span>, route.<a class="code" href="classyarp_1_1os_1_1Route.html#a2156322c29d68a6ef5d22e8bd43d5193">getToName</a>());</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;                        <a class="code" href="PortCore_8cpp.html#a25283556cbdb3c44849d7534f077330c">STANZA</a>(bcarrier, <span class="stringliteral">&quot;carrier&quot;</span>, route.<a class="code" href="classyarp_1_1os_1_1Route.html#a6a1d40ac1577aa9443338bbf3de7c081">getCarrierName</a>());</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;                        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a448c494919771bd1f6294664911f4505">addList</a>() = bfrom;</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;                        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a448c494919771bd1f6294664911f4505">addList</a>() = bto;</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;                        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a448c494919771bd1f6294664911f4505">addList</a>() = bcarrier;</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;                        <a class="code" href="classyarp_1_1os_1_1Carrier.html">Carrier</a>* carrier = <a class="code" href="classyarp_1_1os_1_1Carriers.html#a92af949ab4c0690338164d1d7d372f37">Carriers::chooseCarrier</a>(route.<a class="code" href="classyarp_1_1os_1_1Route.html#a6a1d40ac1577aa9443338bbf3de7c081">getCarrierName</a>());</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;                        <span class="keywordflow">if</span> (carrier-&gt;<a class="code" href="classyarp_1_1os_1_1Carrier.html#a02556826dcfa249a2c7b76f370cdf024">isConnectionless</a>()) {</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;                            <a class="code" href="PortCore_8cpp.html#af326f77fc7c34f17363338aa6e37f39e">STANZA_INT</a>(bconnectionless, <span class="stringliteral">&quot;connectionless&quot;</span>, 1);</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;                            result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a448c494919771bd1f6294664911f4505">addList</a>() = bconnectionless;</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;                        }</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;                        <span class="keywordflow">if</span> (!carrier-&gt;<a class="code" href="classyarp_1_1os_1_1Carrier.html#a189e192187f96f6c6775745181351876">isPush</a>()) {</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;                            <a class="code" href="PortCore_8cpp.html#af326f77fc7c34f17363338aa6e37f39e">STANZA_INT</a>(breverse, <span class="stringliteral">&quot;push&quot;</span>, 0);</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;                            result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a448c494919771bd1f6294664911f4505">addList</a>() = breverse;</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;                        }</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;                        <span class="keyword">delete</span> carrier;</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;                    }</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;                }</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;            }</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;            m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;        }</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;        }</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160; </div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceyarp_1_1os.html#abac0a9b026b5e30de0df2f0e7544f6b0">yarp::os::createVocab</a>(<span class="charliteral">&#39;s&#39;</span>, <span class="charliteral">&#39;e&#39;</span>, <span class="charliteral">&#39;t&#39;</span>):</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;        <span class="keywordflow">switch</span> (cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(1).<a class="code" href="classyarp_1_1os_1_1Value.html#acc3689cb01436b13ff457212a489a6d0">asVocab</a>()) {</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceyarp_1_1os.html#abac0a9b026b5e30de0df2f0e7544f6b0">yarp::os::createVocab</a>(<span class="charliteral">&#39;i&#39;</span>, <span class="charliteral">&#39;n&#39;</span>): {</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;            <span class="comment">// Set carrier parameters on a given input connection.</span></div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;            std::string target = cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(2).<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>();</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;            m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;            <span class="keywordflow">if</span> (target.empty()) {</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;                result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ac5ff63ea20f6c877e5c4541121f98482">addInt32</a>(-1);</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;                result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;target port is not specified.\r\n&quot;</span>);</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;                <span class="keywordflow">if</span> (target == <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af12556e5940fd1edaa84efc8cd12ced3">getName</a>()) {</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;                    <a class="code" href="classyarp_1_1os_1_1Property.html">yarp::os::Property</a> property;</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;                    <span class="keyword">property</span>.<a class="code" href="classyarp_1_1os_1_1Property.html#a0b938dbb6cf9e92a845cb18509865c62">fromString</a>(cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad8cb921bd7e22d6fcafc3a61db65e75c">toString</a>());</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;                    std::string errMsg;</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;                    <span class="keywordflow">if</span> (!setParamPortMonitor(property, <span class="keyword">false</span>, errMsg)) {</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;                        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ab4c9755e05f65d8c89d9b406bb3da64d">clear</a>();</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;                        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6841d4c88db1245ad08dbefdb58353aa">addVocab</a>(<a class="code" href="namespaceyarp_1_1os_1_1Vocab.html#a5fea2e97a90e8498859ae92feb94ecee">Vocab::encode</a>(<span class="stringliteral">&quot;fail&quot;</span>));</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;                        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(errMsg);</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;                        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ab4c9755e05f65d8c89d9b406bb3da64d">clear</a>();</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;                        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6841d4c88db1245ad08dbefdb58353aa">addVocab</a>(<a class="code" href="namespaceyarp_1_1os_1_1Vocab.html#a5fea2e97a90e8498859ae92feb94ecee">Vocab::encode</a>(<span class="stringliteral">&quot;ok&quot;</span>));</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;                    }</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;                    <span class="keywordflow">for</span> (<span class="keyword">auto</span> unit : m_units) {</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;                        <span class="keywordflow">if</span> ((unit != <span class="keyword">nullptr</span>) &amp;&amp; unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#ad961045f7195014a158cacf2648d6d13">isInput</a>() &amp;&amp; !unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a9982124d80de6eb62ca73f723efc7b2b">isFinished</a>()) {</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;                            <a class="code" href="classyarp_1_1os_1_1Route.html">Route</a> route = unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a490e1d750a1440ca5575e16126de97dd">getRoute</a>();</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;                            <span class="keywordflow">if</span> (route.<a class="code" href="classyarp_1_1os_1_1Route.html#a9beaa65ef1683ab12367720e2e98d0f8">getFromName</a>() == target) {</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;                                <a class="code" href="classyarp_1_1os_1_1Property.html">yarp::os::Property</a> property;</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;                                <span class="keyword">property</span>.<a class="code" href="classyarp_1_1os_1_1Property.html#a0b938dbb6cf9e92a845cb18509865c62">fromString</a>(cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad8cb921bd7e22d6fcafc3a61db65e75c">toString</a>());</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;                                unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#acaf2454294b8327abffee72700b31517">setCarrierParams</a>(property);</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;                                result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ac5ff63ea20f6c877e5c4541121f98482">addInt32</a>(0);</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;                                std::string msg = <span class="stringliteral">&quot;Configured connection from &quot;</span>;</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;                                msg += route.<a class="code" href="classyarp_1_1os_1_1Route.html#a9beaa65ef1683ab12367720e2e98d0f8">getFromName</a>();</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;                                msg += <span class="stringliteral">&quot;\r\n&quot;</span>;</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;                                result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(msg);</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;                                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;                            }</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;                        }</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;                    }</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;                }</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;                <span class="keywordflow">if</span> (result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a4d2e210ab875bff598973ab0a6919c31">size</a>() == 0) {</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;                    result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ac5ff63ea20f6c877e5c4541121f98482">addInt32</a>(-1);</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;                    std::string msg = <span class="stringliteral">&quot;Could not find an incoming connection from &quot;</span>;</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;                    msg += target;</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;                    msg += <span class="stringliteral">&quot;\r\n&quot;</span>;</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;                    result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(msg);</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;                }</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;            }</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;            m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;        } <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceyarp_1_1os.html#abac0a9b026b5e30de0df2f0e7544f6b0">yarp::os::createVocab</a>(<span class="charliteral">&#39;o&#39;</span>, <span class="charliteral">&#39;u&#39;</span>, <span class="charliteral">&#39;t&#39;</span>):</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;        {</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;            <span class="comment">// Set carrier parameters on a given output connection.</span></div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;            std::string target = cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(2).<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>();</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;            m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;            <span class="keywordflow">if</span> (target.empty()) {</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;                result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ac5ff63ea20f6c877e5c4541121f98482">addInt32</a>(-1);</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;                result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;target port is not specified.\r\n&quot;</span>);</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;                <span class="keywordflow">if</span> (target == <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af12556e5940fd1edaa84efc8cd12ced3">getName</a>()) {</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;                    <a class="code" href="classyarp_1_1os_1_1Property.html">yarp::os::Property</a> property;</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;                    <span class="keyword">property</span>.<a class="code" href="classyarp_1_1os_1_1Property.html#a0b938dbb6cf9e92a845cb18509865c62">fromString</a>(cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad8cb921bd7e22d6fcafc3a61db65e75c">toString</a>());</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;                    std::string errMsg;</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;                    <span class="keywordflow">if</span> (!setParamPortMonitor(property, <span class="keyword">true</span>, errMsg)) {</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;                        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ab4c9755e05f65d8c89d9b406bb3da64d">clear</a>();</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;                        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6841d4c88db1245ad08dbefdb58353aa">addVocab</a>(<a class="code" href="namespaceyarp_1_1os_1_1Vocab.html#a5fea2e97a90e8498859ae92feb94ecee">Vocab::encode</a>(<span class="stringliteral">&quot;fail&quot;</span>));</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;                        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(errMsg);</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;                        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ab4c9755e05f65d8c89d9b406bb3da64d">clear</a>();</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;                        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6841d4c88db1245ad08dbefdb58353aa">addVocab</a>(<a class="code" href="namespaceyarp_1_1os_1_1Vocab.html#a5fea2e97a90e8498859ae92feb94ecee">Vocab::encode</a>(<span class="stringliteral">&quot;ok&quot;</span>));</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;                    }</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;                    <span class="keywordflow">for</span> (<span class="keyword">auto</span> unit : m_units) {</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;                        <span class="keywordflow">if</span> ((unit != <span class="keyword">nullptr</span>) &amp;&amp; unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#aa3af6a7ac6bed766fe03c8a6f365f932">isOutput</a>() &amp;&amp; !unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a9982124d80de6eb62ca73f723efc7b2b">isFinished</a>()) {</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;                            <a class="code" href="classyarp_1_1os_1_1Route.html">Route</a> route = unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a490e1d750a1440ca5575e16126de97dd">getRoute</a>();</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;                            <span class="keywordflow">if</span> (route.<a class="code" href="classyarp_1_1os_1_1Route.html#a2156322c29d68a6ef5d22e8bd43d5193">getToName</a>() == target) {</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;                                <a class="code" href="classyarp_1_1os_1_1Property.html">yarp::os::Property</a> property;</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;                                <span class="keyword">property</span>.<a class="code" href="classyarp_1_1os_1_1Property.html#a0b938dbb6cf9e92a845cb18509865c62">fromString</a>(cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad8cb921bd7e22d6fcafc3a61db65e75c">toString</a>());</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;                                unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#acaf2454294b8327abffee72700b31517">setCarrierParams</a>(property);</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;                                result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ac5ff63ea20f6c877e5c4541121f98482">addInt32</a>(0);</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;                                std::string msg = <span class="stringliteral">&quot;Configured connection to &quot;</span>;</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;                                msg += route.<a class="code" href="classyarp_1_1os_1_1Route.html#a2156322c29d68a6ef5d22e8bd43d5193">getToName</a>();</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;                                msg += <span class="stringliteral">&quot;\r\n&quot;</span>;</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;                                result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(msg);</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;                                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;                            }</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;                        }</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;                    }</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;                }</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;                <span class="keywordflow">if</span> (result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a4d2e210ab875bff598973ab0a6919c31">size</a>() == 0) {</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;                    result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ac5ff63ea20f6c877e5c4541121f98482">addInt32</a>(-1);</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;                    std::string msg = <span class="stringliteral">&quot;Could not find an incoming connection to &quot;</span>;</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;                    msg += target;</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;                    msg += <span class="stringliteral">&quot;\r\n&quot;</span>;</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;                    result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(msg);</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;                }</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;            }</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;            m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;        }</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;        }</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160; </div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceyarp_1_1os.html#abac0a9b026b5e30de0df2f0e7544f6b0">yarp::os::createVocab</a>(<span class="charliteral">&#39;g&#39;</span>, <span class="charliteral">&#39;e&#39;</span>, <span class="charliteral">&#39;t&#39;</span>):</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;        <span class="keywordflow">switch</span> (cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(1).<a class="code" href="classyarp_1_1os_1_1Value.html#acc3689cb01436b13ff457212a489a6d0">asVocab</a>()) {</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceyarp_1_1os.html#abac0a9b026b5e30de0df2f0e7544f6b0">yarp::os::createVocab</a>(<span class="charliteral">&#39;i&#39;</span>, <span class="charliteral">&#39;n&#39;</span>): {</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;            <span class="comment">// Get carrier parameters for a given input connection.</span></div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;            std::string target = cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(2).<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>();</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;            m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;            <span class="keywordflow">if</span> (target.empty()) {</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;                result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ac5ff63ea20f6c877e5c4541121f98482">addInt32</a>(-1);</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;                result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;target port is not specified.\r\n&quot;</span>);</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (target == <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af12556e5940fd1edaa84efc8cd12ced3">getName</a>()) {</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;                <a class="code" href="classyarp_1_1os_1_1Property.html">yarp::os::Property</a> property;</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;                std::string errMsg;</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;                <span class="keywordflow">if</span> (!getParamPortMonitor(property, <span class="keyword">false</span>, errMsg)) {</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;                    result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ab4c9755e05f65d8c89d9b406bb3da64d">clear</a>();</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;                    result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6841d4c88db1245ad08dbefdb58353aa">addVocab</a>(<a class="code" href="namespaceyarp_1_1os_1_1Vocab.html#a5fea2e97a90e8498859ae92feb94ecee">Vocab::encode</a>(<span class="stringliteral">&quot;fail&quot;</span>));</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;                    result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(errMsg);</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;                    result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ab4c9755e05f65d8c89d9b406bb3da64d">clear</a>();</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;                    result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a4028cc7aa3594b406ed7415303fa07bd">addDict</a>() = property;</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;                }</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;                <span class="keywordflow">for</span> (<span class="keyword">auto</span> unit : m_units) {</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;                    <span class="keywordflow">if</span> ((unit != <span class="keyword">nullptr</span>) &amp;&amp; unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#ad961045f7195014a158cacf2648d6d13">isInput</a>() &amp;&amp; !unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a9982124d80de6eb62ca73f723efc7b2b">isFinished</a>()) {</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;                        <a class="code" href="classyarp_1_1os_1_1Route.html">Route</a> route = unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a490e1d750a1440ca5575e16126de97dd">getRoute</a>();</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;                        <span class="keywordflow">if</span> (route.<a class="code" href="classyarp_1_1os_1_1Route.html#a9beaa65ef1683ab12367720e2e98d0f8">getFromName</a>() == target) {</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;                            <a class="code" href="classyarp_1_1os_1_1Property.html">yarp::os::Property</a> property;</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;                            unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#aa65d32a007a786697f43981c93b9ab42">getCarrierParams</a>(property);</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;                            result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a4028cc7aa3594b406ed7415303fa07bd">addDict</a>() = property;</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;                        }</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;                    }</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;                }</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;                <span class="keywordflow">if</span> (result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a4d2e210ab875bff598973ab0a6919c31">size</a>() == 0) {</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;                    result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ac5ff63ea20f6c877e5c4541121f98482">addInt32</a>(-1);</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;                    std::string msg = <span class="stringliteral">&quot;Could not find an incoming connection from &quot;</span>;</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;                    msg += target;</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;                    msg += <span class="stringliteral">&quot;\r\n&quot;</span>;</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;                    result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(msg);</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;                }</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;            }</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;            m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;        } <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceyarp_1_1os.html#abac0a9b026b5e30de0df2f0e7544f6b0">yarp::os::createVocab</a>(<span class="charliteral">&#39;o&#39;</span>, <span class="charliteral">&#39;u&#39;</span>, <span class="charliteral">&#39;t&#39;</span>):</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;        {</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;            <span class="comment">// Get carrier parameters for a given output connection.</span></div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;            std::string target = cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(2).<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>();</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;            m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;            <span class="keywordflow">if</span> (target.empty()) {</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;                result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ac5ff63ea20f6c877e5c4541121f98482">addInt32</a>(-1);</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;                result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;target port is not specified.\r\n&quot;</span>);</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (target == <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af12556e5940fd1edaa84efc8cd12ced3">getName</a>()) {</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;                <a class="code" href="classyarp_1_1os_1_1Property.html">yarp::os::Property</a> property;</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;                std::string errMsg;</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;                <span class="keywordflow">if</span> (!getParamPortMonitor(property, <span class="keyword">true</span>, errMsg)) {</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;                    result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ab4c9755e05f65d8c89d9b406bb3da64d">clear</a>();</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;                    result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6841d4c88db1245ad08dbefdb58353aa">addVocab</a>(<a class="code" href="namespaceyarp_1_1os_1_1Vocab.html#a5fea2e97a90e8498859ae92feb94ecee">Vocab::encode</a>(<span class="stringliteral">&quot;fail&quot;</span>));</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;                    result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(errMsg);</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;                    result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ab4c9755e05f65d8c89d9b406bb3da64d">clear</a>();</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;                    result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a4028cc7aa3594b406ed7415303fa07bd">addDict</a>() = property;</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;                }</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;                <span class="keywordflow">for</span> (<span class="keyword">auto</span> unit : m_units) {</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;                    <span class="keywordflow">if</span> ((unit != <span class="keyword">nullptr</span>) &amp;&amp; unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#aa3af6a7ac6bed766fe03c8a6f365f932">isOutput</a>() &amp;&amp; !unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a9982124d80de6eb62ca73f723efc7b2b">isFinished</a>()) {</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;                        <a class="code" href="classyarp_1_1os_1_1Route.html">Route</a> route = unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a490e1d750a1440ca5575e16126de97dd">getRoute</a>();</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;                        <span class="keywordflow">if</span> (route.<a class="code" href="classyarp_1_1os_1_1Route.html#a2156322c29d68a6ef5d22e8bd43d5193">getToName</a>() == target) {</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;                            <a class="code" href="classyarp_1_1os_1_1Property.html">yarp::os::Property</a> property;</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;                            <span class="keyword">property</span>.<a class="code" href="classyarp_1_1os_1_1Property.html#a0b938dbb6cf9e92a845cb18509865c62">fromString</a>(cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad8cb921bd7e22d6fcafc3a61db65e75c">toString</a>());</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;                            unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#aa65d32a007a786697f43981c93b9ab42">getCarrierParams</a>(property);</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;                            result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a4028cc7aa3594b406ed7415303fa07bd">addDict</a>() = property;</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;                        }</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;                    }</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;                }</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;                <span class="keywordflow">if</span> (result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a4d2e210ab875bff598973ab0a6919c31">size</a>() == 0) {</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;                    result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ac5ff63ea20f6c877e5c4541121f98482">addInt32</a>(-1);</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;                    std::string msg = <span class="stringliteral">&quot;Could not find an incoming connection to &quot;</span>;</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;                    msg += target;</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;                    msg += <span class="stringliteral">&quot;\r\n&quot;</span>;</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;                    result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(msg);</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;                }</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;            }</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;            m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;        }</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;        }</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160; </div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceyarp_1_1os.html#abac0a9b026b5e30de0df2f0e7544f6b0">yarp::os::createVocab</a>(<span class="charliteral">&#39;r&#39;</span>, <span class="charliteral">&#39;p&#39;</span>, <span class="charliteral">&#39;u&#39;</span>, <span class="charliteral">&#39;p&#39;</span>): {</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;        <span class="comment">// When running against a ROS name server, we need to</span></div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;        <span class="comment">// support ROS-style callbacks for connecting publishers</span></div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;        <span class="comment">// with subscribers.  Note: this should not be necessary</span></div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;        <span class="comment">// anymore, now that a dedicated yarp::os::Node class</span></div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;        <span class="comment">// has been implemented, but is still needed for older</span></div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;        <span class="comment">// ways of interfacing with ROS without using dedicated</span></div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;        <span class="comment">// node ports.</span></div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;        <a class="code" href="Logger_8h.html#a82eb3af23b3d5a19b654e08f18e0d043">YARP_SPRINTF1</a>(m_log, debug, <span class="stringliteral">&quot;publisherUpdate! --&gt; %s&quot;</span>, cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad8cb921bd7e22d6fcafc3a61db65e75c">toString</a>().c_str());</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;        std::string topic = <a class="code" href="classyarp_1_1os_1_1RosNameSpace.html#ab61de51c6bf73742c848bbac8ff7a718">RosNameSpace::fromRosName</a>(cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(2).<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>());</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;        <a class="code" href="classyarp_1_1os_1_1Bottle.html">Bottle</a>* pubs = cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(3).<a class="code" href="classyarp_1_1os_1_1Value.html#a5a029b824ce967d21ce2ed92508ac9cf">asList</a>();</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;        <span class="keywordflow">if</span> (pubs != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;            <a class="code" href="classyarp_1_1os_1_1Property.html">Property</a> listed;</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; pubs-&gt;<a class="code" href="classyarp_1_1os_1_1Bottle.html#a4d2e210ab875bff598973ab0a6919c31">size</a>(); i++) {</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;                std::string pub = pubs-&gt;<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(i).<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>();</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;                listed.<a class="code" href="classyarp_1_1os_1_1Property.html#a2c90f76cba15b8cc9d1c88cf55b253a1">put</a>(pub, 1);</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;            }</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;            <a class="code" href="classyarp_1_1os_1_1Property.html">Property</a> present;</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;            m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">auto</span> unit : m_units) {</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;                <span class="keywordflow">if</span> ((unit != <span class="keyword">nullptr</span>) &amp;&amp; unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#ad05bf19f5f5b76dda3e608af2ae5aa9b">isPupped</a>()) {</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;                    std::string me = unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a1d73b276d1d868027178f805065d8808">getPupString</a>();</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;                    present.<a class="code" href="classyarp_1_1os_1_1Property.html#a2c90f76cba15b8cc9d1c88cf55b253a1">put</a>(me, 1);</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;                    <span class="keywordflow">if</span> (!listed.<a class="code" href="classyarp_1_1os_1_1Property.html#a4cacd648b54c5a331f0ff5265d3b5680">check</a>(me)) {</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;                        unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#ac084584834ff6258e9ca0e68dcdfcfc0">setDoomed</a>();</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;                    }</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;                }</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;            }</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;            m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; pubs-&gt;<a class="code" href="classyarp_1_1os_1_1Bottle.html#a4d2e210ab875bff598973ab0a6919c31">size</a>(); i++) {</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;                std::string pub = pubs-&gt;<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(i).<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>();</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;                <span class="keywordflow">if</span> (!present.<a class="code" href="classyarp_1_1os_1_1Property.html#a4cacd648b54c5a331f0ff5265d3b5680">check</a>(pub)) {</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;                    <a class="code" href="Logger_8h.html#a82eb3af23b3d5a19b654e08f18e0d043">YARP_SPRINTF1</a>(m_log, debug, <span class="stringliteral">&quot;ROS ADD %s&quot;</span>, pub.c_str());</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;                    <a class="code" href="classyarp_1_1os_1_1Bottle.html">Bottle</a> req;</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;                    <a class="code" href="classyarp_1_1os_1_1Bottle.html">Bottle</a> reply;</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;                    req.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;requestTopic&quot;</span>);</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;                    <a class="code" href="classyarp_1_1os_1_1NestedContact.html">NestedContact</a> nc(<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af12556e5940fd1edaa84efc8cd12ced3">getName</a>());</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;                    req.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(nc.<a class="code" href="classyarp_1_1os_1_1NestedContact.html#a26d5580cc2331008ce3183a5d011b800">getNodeName</a>());</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;                    req.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(topic);</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;                    <a class="code" href="classyarp_1_1os_1_1Bottle.html">Bottle</a>&amp; lst = req.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a448c494919771bd1f6294664911f4505">addList</a>();</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;                    <a class="code" href="classyarp_1_1os_1_1Bottle.html">Bottle</a>&amp; sublst = lst.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a448c494919771bd1f6294664911f4505">addList</a>();</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;                    sublst.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;TCPROS&quot;</span>);</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;                    <a class="code" href="Logger_8h.html#abb160acbec1260a2dd8f329179a6bb9f">YARP_SPRINTF2</a>(m_log, debug, <span class="stringliteral">&quot;Sending [%s] to %s&quot;</span>, req.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad8cb921bd7e22d6fcafc3a61db65e75c">toString</a>().c_str(), pub.c_str());</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;                    <a class="code" href="classyarp_1_1os_1_1Contact.html">Contact</a> c = <a class="code" href="classyarp_1_1os_1_1Contact.html#a99719343b6a9a00bcee821c9f1a1ec00">Contact::fromString</a>(pub);</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;                    <span class="keywordflow">if</span> (!<a class="code" href="PortCore_8cpp.html#ad80c4188c8a31f3e3154da4144979856">__pc_rpc</a>(c, <span class="stringliteral">&quot;xmlrpc&quot;</span>, req, reply, <span class="keyword">false</span>)) {</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;                        fprintf(stderr, <span class="stringliteral">&quot;Cannot connect to ROS subscriber %s\n&quot;</span>, pub.c_str());</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;                        <span class="comment">// show diagnosics</span></div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;                        <a class="code" href="PortCore_8cpp.html#ad80c4188c8a31f3e3154da4144979856">__pc_rpc</a>(c, <span class="stringliteral">&quot;xmlrpc&quot;</span>, req, reply, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;                        <a class="code" href="PortCore_8cpp.html#a00e2a36adbade62027912e7edfb50337">__tcp_check</a>(c);</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;                        <a class="code" href="classyarp_1_1os_1_1Bottle.html">Bottle</a>* pref = reply.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(2).<a class="code" href="classyarp_1_1os_1_1Value.html#a5a029b824ce967d21ce2ed92508ac9cf">asList</a>();</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;                        std::string hostname;</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;                        std::string carrier;</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;                        <span class="keywordtype">int</span> portnum = 0;</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;                        <span class="keywordflow">if</span> (reply.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(0).<a class="code" href="classyarp_1_1os_1_1Value.html#a4775a45e57c40460b0202c74f1a9bc4e">asInt32</a>() != 1) {</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;                            fprintf(stderr, <span class="stringliteral">&quot;Failure looking up topic %s: %s\n&quot;</span>, topic.c_str(), reply.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad8cb921bd7e22d6fcafc3a61db65e75c">toString</a>().c_str());</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pref == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;                            fprintf(stderr, <span class="stringliteral">&quot;Failure looking up topic %s: expected list of protocols\n&quot;</span>, topic.c_str());</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pref-&gt;<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(0).<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>() != <span class="stringliteral">&quot;TCPROS&quot;</span>) {</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;                            fprintf(stderr, <span class="stringliteral">&quot;Failure looking up topic %s: unsupported protocol %s\n&quot;</span>, topic.c_str(), pref-&gt;<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(0).<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>().c_str());</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;                            <a class="code" href="classyarp_1_1os_1_1Value.html">Value</a> hostname2 = pref-&gt;<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(1);</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;                            <a class="code" href="classyarp_1_1os_1_1Value.html">Value</a> portnum2 = pref-&gt;<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(2);</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;                            hostname = hostname2.<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>();</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;                            portnum = portnum2.<a class="code" href="classyarp_1_1os_1_1Value.html#a4775a45e57c40460b0202c74f1a9bc4e">asInt32</a>();</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;                            carrier = <span class="stringliteral">&quot;tcpros+role.pub+topic.&quot;</span>;</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;                            carrier += topic;</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;                            <a class="code" href="Logger_8h.html#a6d6544465d45c45fccf5b3da3969e65f">YARP_SPRINTF3</a>(m_log, debug, <span class="stringliteral">&quot;topic %s available at %s:%d&quot;</span>, topic.c_str(), hostname.c_str(), portnum);</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;                        }</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;                        <span class="keywordflow">if</span> (portnum != 0) {</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;                            <a class="code" href="classyarp_1_1os_1_1Contact.html">Contact</a> addr(hostname, portnum);</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;                            <a class="code" href="classyarp_1_1os_1_1OutputProtocol.html">OutputProtocol</a>* op = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;                            <a class="code" href="classyarp_1_1os_1_1Route.html">Route</a> r = <a class="code" href="classyarp_1_1os_1_1Route.html">Route</a>(<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af12556e5940fd1edaa84efc8cd12ced3">getName</a>(), pub, carrier);</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;                            op = <a class="code" href="classyarp_1_1os_1_1Carriers.html#ab2ea374bd361e86f390c03ecd4575725">Carriers::connect</a>(addr);</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;                            <span class="keywordflow">if</span> (op == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;                                fprintf(stderr, <span class="stringliteral">&quot;NO CONNECTION\n&quot;</span>);</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;                                std::exit(1);</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;                            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;                                op-&gt;<a class="code" href="classyarp_1_1os_1_1OutputProtocol.html#a5f68a670e7b06de33ab13f93303c92d9">attachPort</a>(m_contactable);</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;                                op-&gt;<a class="code" href="classyarp_1_1os_1_1OutputProtocol.html#a3c7586c6857bab0ba5b513984679d968">open</a>(r);</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;                            }</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;                            <a class="code" href="classyarp_1_1os_1_1Route.html">Route</a> route = op-&gt;<a class="code" href="classyarp_1_1os_1_1OutputProtocol.html#a0a5395348176cc3faf34e423823b1301">getRoute</a>();</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;                            route.<a class="code" href="classyarp_1_1os_1_1Route.html#aa39b308d81bde6dc5ec4e63ff24141cd">swapNames</a>();</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;                            op-&gt;<a class="code" href="classyarp_1_1os_1_1OutputProtocol.html#ab98fd4f2a9a0772e6590adc551732642">rename</a>(route);</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;                            <a class="code" href="classyarp_1_1os_1_1InputProtocol.html">InputProtocol</a>* ip = &amp;(op-&gt;<a class="code" href="classyarp_1_1os_1_1OutputProtocol.html#a73c79b7707fb0be6770b6ee21e2f6de6">getInput</a>());</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;                            m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;                            <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html">PortCoreUnit</a>* unit = <span class="keyword">new</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreInputUnit.html">PortCoreInputUnit</a>(*<span class="keyword">this</span>,</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;                                                                       getNextIndex(),</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;                                                                       ip,</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;                                                                       <span class="keyword">true</span>);</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;                            <a class="code" href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a>(unit != <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;                            unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a4dde7a515bc4b498057cf8c8980a3626">setPupped</a>(pub);</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;                            unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1ThreadImpl.html#acd9f29af26655907d2a6b9149b298b10">start</a>();</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;                            m_units.push_back(unit);</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;                            m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;                        }</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;                    }</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;                }</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;            }</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;        }</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ac5ff63ea20f6c877e5c4541121f98482">addInt32</a>(1);</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;ok&quot;</span>);</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;        reader.<a class="code" href="classyarp_1_1os_1_1ConnectionReader.html#a4199958bb6dce14bf2dffd0a68062945">requestDrop</a>(); <span class="comment">// ROS needs us to close down.</span></div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;    } <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceyarp_1_1os.html#abac0a9b026b5e30de0df2f0e7544f6b0">yarp::os::createVocab</a>(<span class="charliteral">&#39;r&#39;</span>, <span class="charliteral">&#39;t&#39;</span>, <span class="charliteral">&#39;o&#39;</span>, <span class="charliteral">&#39;p&#39;</span>): {</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;        <span class="comment">// ROS-style query for topics.</span></div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;        <a class="code" href="Logger_8h.html#a82eb3af23b3d5a19b654e08f18e0d043">YARP_SPRINTF1</a>(m_log, debug, <span class="stringliteral">&quot;requestTopic! --&gt; %s&quot;</span>, cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad8cb921bd7e22d6fcafc3a61db65e75c">toString</a>().c_str());</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ac5ff63ea20f6c877e5c4541121f98482">addInt32</a>(1);</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;        <a class="code" href="classyarp_1_1os_1_1NestedContact.html">NestedContact</a> nc(<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af12556e5940fd1edaa84efc8cd12ced3">getName</a>());</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(nc.<a class="code" href="classyarp_1_1os_1_1NestedContact.html#a26d5580cc2331008ce3183a5d011b800">getNodeName</a>());</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;        <a class="code" href="classyarp_1_1os_1_1Bottle.html">Bottle</a>&amp; lst = result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a448c494919771bd1f6294664911f4505">addList</a>();</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;        <a class="code" href="classyarp_1_1os_1_1Contact.html">Contact</a> addr = <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#ab88461a190178bda4bb9538b583e330c">getAddress</a>();</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;        lst.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;TCPROS&quot;</span>);</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;        lst.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(addr.<a class="code" href="classyarp_1_1os_1_1Contact.html#af2fa156ae18485d859ef8c859f43eca1">getHost</a>());</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;        lst.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ac5ff63ea20f6c877e5c4541121f98482">addInt32</a>(addr.<a class="code" href="classyarp_1_1os_1_1Contact.html#ab4312ee491059450c68ab85bb713b44f">getPort</a>());</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;        reader.<a class="code" href="classyarp_1_1os_1_1ConnectionReader.html#a4199958bb6dce14bf2dffd0a68062945">requestDrop</a>(); <span class="comment">// ROS likes to close down.</span></div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;    } <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceyarp_1_1os.html#abac0a9b026b5e30de0df2f0e7544f6b0">yarp::os::createVocab</a>(<span class="charliteral">&#39;p&#39;</span>, <span class="charliteral">&#39;i&#39;</span>, <span class="charliteral">&#39;d&#39;</span>): {</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;        <span class="comment">// ROS-style query for PID.</span></div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ac5ff63ea20f6c877e5c4541121f98482">addInt32</a>(1);</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ac5ff63ea20f6c877e5c4541121f98482">addInt32</a>(<a class="code" href="namespaceyarp_1_1os.html#a9edfa946e72b69d03f8fe28ab452cdb9">yarp::os::impl::getpid</a>());</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;        reader.<a class="code" href="classyarp_1_1os_1_1ConnectionReader.html#a4199958bb6dce14bf2dffd0a68062945">requestDrop</a>(); <span class="comment">// ROS likes to close down.</span></div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;    } <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceyarp_1_1os.html#abac0a9b026b5e30de0df2f0e7544f6b0">yarp::os::createVocab</a>(<span class="charliteral">&#39;b&#39;</span>, <span class="charliteral">&#39;u&#39;</span>, <span class="charliteral">&#39;s&#39;</span>): {</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;        <span class="comment">// ROS-style query for bus information - we support this</span></div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;        <span class="comment">// in yarp::os::Node but not otherwise.</span></div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ac5ff63ea20f6c877e5c4541121f98482">addInt32</a>(1);</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a448c494919771bd1f6294664911f4505">addList</a>().<a class="code" href="classyarp_1_1os_1_1Bottle.html#a448c494919771bd1f6294664911f4505">addList</a>();</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;        reader.<a class="code" href="classyarp_1_1os_1_1ConnectionReader.html#a4199958bb6dce14bf2dffd0a68062945">requestDrop</a>(); <span class="comment">// ROS likes to close down.</span></div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;    } <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceyarp_1_1os.html#abac0a9b026b5e30de0df2f0e7544f6b0">yarp::os::createVocab</a>(<span class="charliteral">&#39;p&#39;</span>, <span class="charliteral">&#39;r&#39;</span>, <span class="charliteral">&#39;o&#39;</span>, <span class="charliteral">&#39;p&#39;</span>): {</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;        <span class="comment">// Set/get arbitrary properties on a port.</span></div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;        <span class="keywordflow">switch</span> (cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(1).<a class="code" href="classyarp_1_1os_1_1Value.html#acc3689cb01436b13ff457212a489a6d0">asVocab</a>()) {</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceyarp_1_1os.html#abac0a9b026b5e30de0df2f0e7544f6b0">yarp::os::createVocab</a>(<span class="charliteral">&#39;g&#39;</span>, <span class="charliteral">&#39;e&#39;</span>, <span class="charliteral">&#39;t&#39;</span>): {</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;            <a class="code" href="classyarp_1_1os_1_1Property.html">Property</a>* p = <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a4cd81d44cdfcf52f2a55105c5453159c">acquireProperties</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;            <span class="keywordflow">if</span> (p != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;                <span class="keywordflow">if</span> (!cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(2).<a class="code" href="classyarp_1_1os_1_1Value.html#ac232fce34f45ca6b07d6b89d08bb2dab">isNull</a>()) {</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;                    <span class="comment">// request: &quot;prop get /portname&quot;</span></div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;                    std::string portName = cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(2).<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>();</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;                    <span class="keywordtype">bool</span> bFound = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;                    <span class="keywordflow">if</span> ((!portName.empty()) &amp;&amp; (portName[0] == <span class="charliteral">&#39;/&#39;</span>)) {</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;                        <span class="comment">// check for their own name</span></div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;                        <span class="keywordflow">if</span> (portName == <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af12556e5940fd1edaa84efc8cd12ced3">getName</a>()) {</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;                            bFound = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;                            result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ab4c9755e05f65d8c89d9b406bb3da64d">clear</a>();</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;                            <a class="code" href="classyarp_1_1os_1_1Bottle.html">Bottle</a>&amp; sched = result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a448c494919771bd1f6294664911f4505">addList</a>();</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;                            sched.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;sched&quot;</span>);</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;                            <a class="code" href="classyarp_1_1os_1_1Property.html">Property</a>&amp; sched_prop = sched.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a4028cc7aa3594b406ed7415303fa07bd">addDict</a>();</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;                            sched_prop.<a class="code" href="classyarp_1_1os_1_1Property.html#a2c90f76cba15b8cc9d1c88cf55b253a1">put</a>(<span class="stringliteral">&quot;tid&quot;</span>, (<span class="keywordtype">int</span>)this-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1ThreadImpl.html#a75c2fc011bc24ce749e03d0795c4e14b">getTid</a>());</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;                            sched_prop.<a class="code" href="classyarp_1_1os_1_1Property.html#a2c90f76cba15b8cc9d1c88cf55b253a1">put</a>(<span class="stringliteral">&quot;priority&quot;</span>, this-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1ThreadImpl.html#a860b3adee344a1955769aea36cbe6e54">getPriority</a>());</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;                            sched_prop.<a class="code" href="classyarp_1_1os_1_1Property.html#a2c90f76cba15b8cc9d1c88cf55b253a1">put</a>(<span class="stringliteral">&quot;policy&quot;</span>, this-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1ThreadImpl.html#adfb842815fd700b6c80782352d72e6c0">getPolicy</a>());</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160; </div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;                            <a class="code" href="structyarp_1_1os_1_1SystemInfo_1_1ProcessInfo.html">SystemInfo::ProcessInfo</a> info = <a class="code" href="classyarp_1_1os_1_1SystemInfo.html#a3a35365778e4ea75ae8567c17786350c">SystemInfo::getProcessInfo</a>();</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;                            <a class="code" href="classyarp_1_1os_1_1Bottle.html">Bottle</a>&amp; proc = result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a448c494919771bd1f6294664911f4505">addList</a>();</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;                            proc.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;process&quot;</span>);</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;                            <a class="code" href="classyarp_1_1os_1_1Property.html">Property</a>&amp; proc_prop = proc.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a4028cc7aa3594b406ed7415303fa07bd">addDict</a>();</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;                            proc_prop.<a class="code" href="classyarp_1_1os_1_1Property.html#a2c90f76cba15b8cc9d1c88cf55b253a1">put</a>(<span class="stringliteral">&quot;pid&quot;</span>, info.<a class="code" href="structyarp_1_1os_1_1SystemInfo_1_1ProcessInfo.html#acc6855cf8d3fa303f8d522e29c668729">pid</a>);</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;                            proc_prop.<a class="code" href="classyarp_1_1os_1_1Property.html#a2c90f76cba15b8cc9d1c88cf55b253a1">put</a>(<span class="stringliteral">&quot;name&quot;</span>, (info.<a class="code" href="structyarp_1_1os_1_1SystemInfo_1_1ProcessInfo.html#acc6855cf8d3fa303f8d522e29c668729">pid</a> != -1) ? info.<a class="code" href="structyarp_1_1os_1_1SystemInfo_1_1ProcessInfo.html#a3404ec671d41da2e9326a4f5e9d1dcc5">name</a> : <span class="stringliteral">&quot;unknown&quot;</span>);</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;                            proc_prop.<a class="code" href="classyarp_1_1os_1_1Property.html#a2c90f76cba15b8cc9d1c88cf55b253a1">put</a>(<span class="stringliteral">&quot;arguments&quot;</span>, (info.<a class="code" href="structyarp_1_1os_1_1SystemInfo_1_1ProcessInfo.html#acc6855cf8d3fa303f8d522e29c668729">pid</a> != -1) ? info.<a class="code" href="structyarp_1_1os_1_1SystemInfo_1_1ProcessInfo.html#a7a25526032e1b722cbd25ea431912f56">arguments</a> : <span class="stringliteral">&quot;unknown&quot;</span>);</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;                            proc_prop.<a class="code" href="classyarp_1_1os_1_1Property.html#a2c90f76cba15b8cc9d1c88cf55b253a1">put</a>(<span class="stringliteral">&quot;priority&quot;</span>, info.<a class="code" href="structyarp_1_1os_1_1SystemInfo_1_1ProcessInfo.html#a55c22f1fc0b455e8dda5e2add332123e">schedPriority</a>);</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;                            proc_prop.<a class="code" href="classyarp_1_1os_1_1Property.html#a2c90f76cba15b8cc9d1c88cf55b253a1">put</a>(<span class="stringliteral">&quot;policy&quot;</span>, info.<a class="code" href="structyarp_1_1os_1_1SystemInfo_1_1ProcessInfo.html#a613ca4ce3b5504dbd3874b563b0836e6">schedPolicy</a>);</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160; </div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;                            <a class="code" href="structyarp_1_1os_1_1SystemInfo_1_1PlatformInfo.html">SystemInfo::PlatformInfo</a> pinfo = <a class="code" href="classyarp_1_1os_1_1SystemInfo.html#a594c60cfb7b0ad82b70d49d9d78e8f84">SystemInfo::getPlatformInfo</a>();</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;                            <a class="code" href="classyarp_1_1os_1_1Bottle.html">Bottle</a>&amp; platform = result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a448c494919771bd1f6294664911f4505">addList</a>();</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;                            platform.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;platform&quot;</span>);</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;                            <a class="code" href="classyarp_1_1os_1_1Property.html">Property</a>&amp; platform_prop = platform.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a4028cc7aa3594b406ed7415303fa07bd">addDict</a>();</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;                            platform_prop.<a class="code" href="classyarp_1_1os_1_1Property.html#a2c90f76cba15b8cc9d1c88cf55b253a1">put</a>(<span class="stringliteral">&quot;os&quot;</span>, pinfo.<a class="code" href="structyarp_1_1os_1_1SystemInfo_1_1PlatformInfo.html#afa7bb5f6fe01102b4539f718e5b31bbb">name</a>);</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;                            platform_prop.<a class="code" href="classyarp_1_1os_1_1Property.html#a2c90f76cba15b8cc9d1c88cf55b253a1">put</a>(<span class="stringliteral">&quot;hostname&quot;</span>, m_address.<a class="code" href="classyarp_1_1os_1_1Contact.html#af2fa156ae18485d859ef8c859f43eca1">getHost</a>());</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160; </div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;                            <span class="keywordtype">int</span> f = <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#aa6b78f57cdd0a7dda072105f981aaa29">getFlags</a>();</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;                            <span class="keywordtype">bool</span> is_input = (f &amp; <a class="code" href="PortCore_8h.html#a049806458dc33ed8ff7c2834cb8d538d">PORTCORE_IS_INPUT</a>) != 0;</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;                            <span class="keywordtype">bool</span> is_output = (f &amp; <a class="code" href="PortCore_8h.html#a71b6c0484a6f448aba810ee8b2cf6769">PORTCORE_IS_OUTPUT</a>) != 0;</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;                            <span class="keywordtype">bool</span> is_rpc = (f &amp; <a class="code" href="PortCore_8h.html#a44a3f5552a2be55025fa6016fb250944">PORTCORE_IS_RPC</a>) != 0;</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;                            <a class="code" href="classyarp_1_1os_1_1Bottle.html">Bottle</a>&amp; port = result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a448c494919771bd1f6294664911f4505">addList</a>();</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;                            port.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;port&quot;</span>);</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;                            <a class="code" href="classyarp_1_1os_1_1Property.html">Property</a>&amp; port_prop = port.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a4028cc7aa3594b406ed7415303fa07bd">addDict</a>();</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;                            port_prop.<a class="code" href="classyarp_1_1os_1_1Property.html#a2c90f76cba15b8cc9d1c88cf55b253a1">put</a>(<span class="stringliteral">&quot;is_input&quot;</span>, is_input);</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;                            port_prop.<a class="code" href="classyarp_1_1os_1_1Property.html#a2c90f76cba15b8cc9d1c88cf55b253a1">put</a>(<span class="stringliteral">&quot;is_output&quot;</span>, is_output);</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;                            port_prop.<a class="code" href="classyarp_1_1os_1_1Property.html#a2c90f76cba15b8cc9d1c88cf55b253a1">put</a>(<span class="stringliteral">&quot;is_rpc&quot;</span>, is_rpc);</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;                            port_prop.<a class="code" href="classyarp_1_1os_1_1Property.html#a2c90f76cba15b8cc9d1c88cf55b253a1">put</a>(<span class="stringliteral">&quot;type&quot;</span>, <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#ac090880c0db58c6a331a962e458b9be9">getType</a>().<a class="code" href="classyarp_1_1os_1_1Type.html#aadee2fb6392706b1e05ee9798d52e0e4">getName</a>());</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;                            <span class="keywordflow">for</span> (<span class="keyword">auto</span> unit : m_units) {</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;                                <span class="keywordflow">if</span> ((unit != <span class="keyword">nullptr</span>) &amp;&amp; !unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a9982124d80de6eb62ca73f723efc7b2b">isFinished</a>()) {</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;                                    <a class="code" href="classyarp_1_1os_1_1Route.html">Route</a> route = unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a490e1d750a1440ca5575e16126de97dd">getRoute</a>();</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;                                    std::string coreName = (unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#aa3af6a7ac6bed766fe03c8a6f365f932">isOutput</a>()) ? route.<a class="code" href="classyarp_1_1os_1_1Route.html#a2156322c29d68a6ef5d22e8bd43d5193">getToName</a>() : route.<a class="code" href="classyarp_1_1os_1_1Route.html#a9beaa65ef1683ab12367720e2e98d0f8">getFromName</a>();</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;                                    <span class="keywordflow">if</span> (portName == coreName) {</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;                                        bFound = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;                                        <span class="keywordtype">int</span> priority = unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1ThreadImpl.html#a860b3adee344a1955769aea36cbe6e54">getPriority</a>();</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;                                        <span class="keywordtype">int</span> policy = unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1ThreadImpl.html#adfb842815fd700b6c80782352d72e6c0">getPolicy</a>();</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;                                        <span class="keywordtype">int</span> tos = getTypeOfService(unit);</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;                                        <span class="keywordtype">int</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1ThreadImpl.html#a49ecde10b33d001309e8cd3dde9021b2">tid</a> = (int)unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1ThreadImpl.html#a75c2fc011bc24ce749e03d0795c4e14b">getTid</a>();</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;                                        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ab4c9755e05f65d8c89d9b406bb3da64d">clear</a>();</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;                                        <a class="code" href="classyarp_1_1os_1_1Bottle.html">Bottle</a>&amp; sched = result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a448c494919771bd1f6294664911f4505">addList</a>();</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;                                        sched.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;sched&quot;</span>);</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;                                        <a class="code" href="classyarp_1_1os_1_1Property.html">Property</a>&amp; sched_prop = sched.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a4028cc7aa3594b406ed7415303fa07bd">addDict</a>();</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;                                        sched_prop.<a class="code" href="classyarp_1_1os_1_1Property.html#a2c90f76cba15b8cc9d1c88cf55b253a1">put</a>(<span class="stringliteral">&quot;tid&quot;</span>, <a class="code" href="classyarp_1_1os_1_1impl_1_1ThreadImpl.html#a49ecde10b33d001309e8cd3dde9021b2">tid</a>);</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;                                        sched_prop.<a class="code" href="classyarp_1_1os_1_1Property.html#a2c90f76cba15b8cc9d1c88cf55b253a1">put</a>(<span class="stringliteral">&quot;priority&quot;</span>, priority);</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;                                        sched_prop.<a class="code" href="classyarp_1_1os_1_1Property.html#a2c90f76cba15b8cc9d1c88cf55b253a1">put</a>(<span class="stringliteral">&quot;policy&quot;</span>, policy);</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;                                        <a class="code" href="classyarp_1_1os_1_1Bottle.html">Bottle</a>&amp; qos = result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a448c494919771bd1f6294664911f4505">addList</a>();</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;                                        qos.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;qos&quot;</span>);</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;                                        <a class="code" href="classyarp_1_1os_1_1Property.html">Property</a>&amp; qos_prop = qos.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a4028cc7aa3594b406ed7415303fa07bd">addDict</a>();</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;                                        qos_prop.<a class="code" href="classyarp_1_1os_1_1Property.html#a2c90f76cba15b8cc9d1c88cf55b253a1">put</a>(<span class="stringliteral">&quot;tos&quot;</span>, tos);</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;                                    }</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;                                } <span class="comment">// end isFinished()</span></div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;                            }     <span class="comment">// end for loop</span></div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;                        }         <span class="comment">// end portName == getname()</span></div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160; </div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;                        <span class="keywordflow">if</span> (!bFound) { <span class="comment">// cannot find any port matches the requested one</span></div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;                            result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ab4c9755e05f65d8c89d9b406bb3da64d">clear</a>();</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;                            result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6841d4c88db1245ad08dbefdb58353aa">addVocab</a>(<a class="code" href="namespaceyarp_1_1os_1_1Vocab.html#a5fea2e97a90e8498859ae92feb94ecee">Vocab::encode</a>(<span class="stringliteral">&quot;fail&quot;</span>));</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;                            std::string msg = <span class="stringliteral">&quot;cannot find any connection to/from &quot;</span>;</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;                            msg = msg + portName;</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;                            result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(msg);</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;                        }</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;                    } <span class="comment">// end of (portName[0] == &#39;/&#39;)</span></div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;                    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;                        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a150eebc6ad332acb0e9cfe8b4b9b6059">add</a>(p-&gt;<a class="code" href="classyarp_1_1os_1_1Property.html#a01b2c87730d92ac79189a139874b8f32">find</a>(cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(2).<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>()));</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;                    }</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;                    result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a388ffac14da35ebecd8f78b642c7221b">fromString</a>(p-&gt;<a class="code" href="classyarp_1_1os_1_1Property.html#a037386dffde2bcc681291568da2a9ae8">toString</a>());</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;                }</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;            }</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;            <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#aacd29c2486ddccf80d90412883d87902">releaseProperties</a>(p);</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;        } <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceyarp_1_1os.html#abac0a9b026b5e30de0df2f0e7544f6b0">yarp::os::createVocab</a>(<span class="charliteral">&#39;s&#39;</span>, <span class="charliteral">&#39;e&#39;</span>, <span class="charliteral">&#39;t&#39;</span>): {</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;            <a class="code" href="classyarp_1_1os_1_1Property.html">Property</a>* p = <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a4cd81d44cdfcf52f2a55105c5453159c">acquireProperties</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;            <span class="keywordtype">bool</span> bOk = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;            <span class="keywordflow">if</span> (p != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;                p-&gt;<a class="code" href="classyarp_1_1os_1_1Property.html#a2c90f76cba15b8cc9d1c88cf55b253a1">put</a>(cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(2).<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>(), cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(3));</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;                <span class="comment">// setting scheduling properties of all threads within the process</span></div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;                <span class="comment">// scope through the admin port</span></div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;                <span class="comment">// e.g. prop set /current_port (process ((priority 30) (policy 1)))</span></div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;                <a class="code" href="classyarp_1_1os_1_1Bottle.html">Bottle</a>&amp; process = cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a80fdfdfcfcaeeb1f9e9dfe27252748f2">findGroup</a>(<span class="stringliteral">&quot;process&quot;</span>);</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;                <span class="keywordflow">if</span> (!process.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad014b5d06b10e037c462abfcf34a9e45">isNull</a>()) {</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;                    std::string portName = cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(2).<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>();</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;                    <span class="keywordflow">if</span> ((!portName.empty()) &amp;&amp; (portName[0] == <span class="charliteral">&#39;/&#39;</span>)) {</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;                        <span class="comment">// check for their own name</span></div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;                        <span class="keywordflow">if</span> (portName == <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af12556e5940fd1edaa84efc8cd12ced3">getName</a>()) {</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;                            bOk = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;                            <a class="code" href="classyarp_1_1os_1_1Bottle.html">Bottle</a>* process_prop = process.<a class="code" href="classyarp_1_1os_1_1Bottle.html#aeed416df930c8e0f599e5fcbebb66324">find</a>(<span class="stringliteral">&quot;process&quot;</span>).<a class="code" href="classyarp_1_1os_1_1Value.html#a5a029b824ce967d21ce2ed92508ac9cf">asList</a>();</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;                            <span class="keywordflow">if</span> (process_prop != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;                                <span class="keywordtype">int</span> prio = -1;</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;                                <span class="keywordtype">int</span> policy = -1;</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;                                <span class="keywordflow">if</span> (process_prop-&gt;<a class="code" href="classyarp_1_1os_1_1Bottle.html#a9a98533da1dfef02172cfcae62439f00">check</a>(<span class="stringliteral">&quot;priority&quot;</span>)) {</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;                                    prio = process_prop-&gt;<a class="code" href="classyarp_1_1os_1_1Bottle.html#aeed416df930c8e0f599e5fcbebb66324">find</a>(<span class="stringliteral">&quot;priority&quot;</span>).<a class="code" href="classyarp_1_1os_1_1Value.html#a4775a45e57c40460b0202c74f1a9bc4e">asInt32</a>();</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;                                }</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;                                <span class="keywordflow">if</span> (process_prop-&gt;<a class="code" href="classyarp_1_1os_1_1Bottle.html#a9a98533da1dfef02172cfcae62439f00">check</a>(<span class="stringliteral">&quot;policy&quot;</span>)) {</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;                                    policy = process_prop-&gt;<a class="code" href="classyarp_1_1os_1_1Bottle.html#aeed416df930c8e0f599e5fcbebb66324">find</a>(<span class="stringliteral">&quot;policy&quot;</span>).<a class="code" href="classyarp_1_1os_1_1Value.html#a4775a45e57c40460b0202c74f1a9bc4e">asInt32</a>();</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;                                }</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;                                bOk = setProcessSchedulingParam(prio, policy);</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;                            }</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;                        }</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;                    }</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;                }</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;                <span class="comment">// check if we need to set the PortCoreUnit scheduling policy</span></div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;                <span class="comment">// e.g., &quot;prop set /portname (sched ((priority 30) (policy 1)))&quot;</span></div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;                <span class="comment">// The priority and policy values on Linux are:</span></div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;                <span class="comment">// SCHED_OTHER : policy=0, priority=[0 ..  0]</span></div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;                <span class="comment">// SCHED_FIFO  : policy=1, priority=[1 .. 99]</span></div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;                <span class="comment">// SCHED_RR    : policy=2, priority=[1 .. 99]</span></div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;                <a class="code" href="classyarp_1_1os_1_1Bottle.html">Bottle</a>&amp; sched = cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a80fdfdfcfcaeeb1f9e9dfe27252748f2">findGroup</a>(<span class="stringliteral">&quot;sched&quot;</span>);</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;                <span class="keywordflow">if</span> (!sched.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad014b5d06b10e037c462abfcf34a9e45">isNull</a>()) {</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;                    <span class="keywordflow">if</span> ((!cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(2).<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>().empty()) &amp;&amp; (cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(2).<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>()[0] == <span class="charliteral">&#39;/&#39;</span>)) {</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;                        bOk = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;                        <span class="keywordflow">for</span> (<span class="keyword">auto</span> unit : m_units) {</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;                            <span class="keywordflow">if</span> ((unit != <span class="keyword">nullptr</span>) &amp;&amp; !unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a9982124d80de6eb62ca73f723efc7b2b">isFinished</a>()) {</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;                                <a class="code" href="classyarp_1_1os_1_1Route.html">Route</a> route = unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a490e1d750a1440ca5575e16126de97dd">getRoute</a>();</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;                                std::string portName = (unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#aa3af6a7ac6bed766fe03c8a6f365f932">isOutput</a>()) ? route.<a class="code" href="classyarp_1_1os_1_1Route.html#a2156322c29d68a6ef5d22e8bd43d5193">getToName</a>() : route.<a class="code" href="classyarp_1_1os_1_1Route.html#a9beaa65ef1683ab12367720e2e98d0f8">getFromName</a>();</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160; </div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;                                <span class="keywordflow">if</span> (portName == cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(2).<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>()) {</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;                                    <a class="code" href="classyarp_1_1os_1_1Bottle.html">Bottle</a>* sched_prop = sched.<a class="code" href="classyarp_1_1os_1_1Bottle.html#aeed416df930c8e0f599e5fcbebb66324">find</a>(<span class="stringliteral">&quot;sched&quot;</span>).<a class="code" href="classyarp_1_1os_1_1Value.html#a5a029b824ce967d21ce2ed92508ac9cf">asList</a>();</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;                                    <span class="keywordflow">if</span> (sched_prop != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;                                        <span class="keywordtype">int</span> prio = -1;</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;                                        <span class="keywordtype">int</span> policy = -1;</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;                                        <span class="keywordflow">if</span> (sched_prop-&gt;<a class="code" href="classyarp_1_1os_1_1Bottle.html#a9a98533da1dfef02172cfcae62439f00">check</a>(<span class="stringliteral">&quot;priority&quot;</span>)) {</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;                                            prio = sched_prop-&gt;<a class="code" href="classyarp_1_1os_1_1Bottle.html#aeed416df930c8e0f599e5fcbebb66324">find</a>(<span class="stringliteral">&quot;priority&quot;</span>).<a class="code" href="classyarp_1_1os_1_1Value.html#a4775a45e57c40460b0202c74f1a9bc4e">asInt32</a>();</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;                                        }</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;                                        <span class="keywordflow">if</span> (sched_prop-&gt;<a class="code" href="classyarp_1_1os_1_1Bottle.html#a9a98533da1dfef02172cfcae62439f00">check</a>(<span class="stringliteral">&quot;policy&quot;</span>)) {</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;                                            policy = sched_prop-&gt;<a class="code" href="classyarp_1_1os_1_1Bottle.html#aeed416df930c8e0f599e5fcbebb66324">find</a>(<span class="stringliteral">&quot;policy&quot;</span>).<a class="code" href="classyarp_1_1os_1_1Value.html#a4775a45e57c40460b0202c74f1a9bc4e">asInt32</a>();</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;                                        }</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;                                        bOk = (unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1ThreadImpl.html#af29e147b752eae0e665957e29919646b">setPriority</a>(prio, policy) != -1);</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;                                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;                                        bOk = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;                                    }</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;                                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;                                }</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;                            }</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;                        }</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;                    }</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;                }</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160; </div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;                <span class="comment">// check if we need to set the packet QOS policy</span></div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;                <span class="comment">// e.g., &quot;prop set /portname (qos ((priority HIGH)))&quot;</span></div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;                <span class="comment">// e.g., &quot;prop set /portname (qos ((dscp AF12)))&quot;</span></div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;                <span class="comment">// e.g., &quot;prop set /portname (qos ((tos 12)))&quot;</span></div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;                <a class="code" href="classyarp_1_1os_1_1Bottle.html">Bottle</a>&amp; qos = cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a80fdfdfcfcaeeb1f9e9dfe27252748f2">findGroup</a>(<span class="stringliteral">&quot;qos&quot;</span>);</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;                <span class="keywordflow">if</span> (!qos.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad014b5d06b10e037c462abfcf34a9e45">isNull</a>()) {</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;                    <span class="keywordflow">if</span> ((!cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(2).<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>().empty()) &amp;&amp; (cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(2).<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>()[0] == <span class="charliteral">&#39;/&#39;</span>)) {</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;                        bOk = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;                        <span class="keywordflow">for</span> (<span class="keyword">auto</span> unit : m_units) {</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;                            <span class="keywordflow">if</span> ((unit != <span class="keyword">nullptr</span>) &amp;&amp; !unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a9982124d80de6eb62ca73f723efc7b2b">isFinished</a>()) {</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;                                <a class="code" href="classyarp_1_1os_1_1Route.html">Route</a> route = unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a490e1d750a1440ca5575e16126de97dd">getRoute</a>();</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;                                std::string portName = (unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#aa3af6a7ac6bed766fe03c8a6f365f932">isOutput</a>()) ? route.<a class="code" href="classyarp_1_1os_1_1Route.html#a2156322c29d68a6ef5d22e8bd43d5193">getToName</a>() : route.<a class="code" href="classyarp_1_1os_1_1Route.html#a9beaa65ef1683ab12367720e2e98d0f8">getFromName</a>();</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;                                <span class="keywordflow">if</span> (portName == cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(2).<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>()) {</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;                                    <a class="code" href="classyarp_1_1os_1_1Bottle.html">Bottle</a>* qos_prop = qos.<a class="code" href="classyarp_1_1os_1_1Bottle.html#aeed416df930c8e0f599e5fcbebb66324">find</a>(<span class="stringliteral">&quot;qos&quot;</span>).<a class="code" href="classyarp_1_1os_1_1Value.html#a5a029b824ce967d21ce2ed92508ac9cf">asList</a>();</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;                                    <span class="keywordflow">if</span> (qos_prop != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;                                        <span class="keywordflow">if</span> (qos_prop-&gt;<a class="code" href="classyarp_1_1os_1_1Bottle.html#a9a98533da1dfef02172cfcae62439f00">check</a>(<span class="stringliteral">&quot;priority&quot;</span>)) {</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;                                            <a class="code" href="namespaceyarp_1_1os.html#ab2676e32122f2ffd9eeb4301a2c06b4f">NetInt32</a> priority = qos_prop-&gt;<a class="code" href="classyarp_1_1os_1_1Bottle.html#aeed416df930c8e0f599e5fcbebb66324">find</a>(<span class="stringliteral">&quot;priority&quot;</span>).<a class="code" href="classyarp_1_1os_1_1Value.html#acc3689cb01436b13ff457212a489a6d0">asVocab</a>();</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;                                            <span class="comment">// set the packet DSCP value based on some predefined priority levels</span></div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;                                            <span class="comment">// the expected levels are: LOW, NORM, HIGH, CRIT</span></div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;                                            <span class="keywordtype">int</span> dscp;</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;                                            <span class="keywordflow">switch</span> (priority) {</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;                                            <span class="keywordflow">case</span> <a class="code" href="namespaceyarp_1_1os.html#abac0a9b026b5e30de0df2f0e7544f6b0">yarp::os::createVocab</a>(<span class="charliteral">&#39;L&#39;</span>, <span class="charliteral">&#39;O&#39;</span>, <span class="charliteral">&#39;W&#39;</span>):</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;                                                dscp = 10;</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;                                                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;                                            <span class="keywordflow">case</span> <a class="code" href="namespaceyarp_1_1os.html#abac0a9b026b5e30de0df2f0e7544f6b0">yarp::os::createVocab</a>(<span class="charliteral">&#39;N&#39;</span>, <span class="charliteral">&#39;O&#39;</span>, <span class="charliteral">&#39;R&#39;</span>, <span class="charliteral">&#39;M&#39;</span>):</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;                                                dscp = 0;</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;                                                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;                                            <span class="keywordflow">case</span> <a class="code" href="namespaceyarp_1_1os.html#abac0a9b026b5e30de0df2f0e7544f6b0">yarp::os::createVocab</a>(<span class="charliteral">&#39;H&#39;</span>, <span class="charliteral">&#39;I&#39;</span>, <span class="charliteral">&#39;G&#39;</span>, <span class="charliteral">&#39;H&#39;</span>):</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;                                                dscp = 36;</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;                                                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;                                            <span class="keywordflow">case</span> <a class="code" href="namespaceyarp_1_1os.html#abac0a9b026b5e30de0df2f0e7544f6b0">yarp::os::createVocab</a>(<span class="charliteral">&#39;C&#39;</span>, <span class="charliteral">&#39;R&#39;</span>, <span class="charliteral">&#39;I&#39;</span>, <span class="charliteral">&#39;T&#39;</span>):</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;                                                dscp = 44;</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;                                                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;                                            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;                                                dscp = -1;</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;                                            };</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;                                            <span class="keywordflow">if</span> (dscp &gt;= 0) {</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;                                                bOk = setTypeOfService(unit, dscp &lt;&lt; 2);</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;                                            }</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;                                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (qos_prop-&gt;<a class="code" href="classyarp_1_1os_1_1Bottle.html#a9a98533da1dfef02172cfcae62439f00">check</a>(<span class="stringliteral">&quot;dscp&quot;</span>)) {</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;                                            <a class="code" href="classyarp_1_1os_1_1QosStyle.html#a18c75b3e75daf971d0bba7213f8c4250">QosStyle::PacketPriorityDSCP</a> dscp_class = <a class="code" href="classyarp_1_1os_1_1QosStyle.html#a35280b0a0b61805a895468deffd70136">QosStyle::getDSCPByVocab</a>(qos_prop-&gt;<a class="code" href="classyarp_1_1os_1_1Bottle.html#aeed416df930c8e0f599e5fcbebb66324">find</a>(<span class="stringliteral">&quot;dscp&quot;</span>).<a class="code" href="classyarp_1_1os_1_1Value.html#acc3689cb01436b13ff457212a489a6d0">asVocab</a>());</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;                                            <span class="keywordtype">int</span> dscp = -1;</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;                                            <span class="keywordflow">if</span> (dscp_class == <a class="code" href="classyarp_1_1os_1_1QosStyle.html#a18c75b3e75daf971d0bba7213f8c4250a84b7f54987d741ca383a59b49b12909a">QosStyle::DSCP_Invalid</a>) {</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;                                                dscp = qos_prop-&gt;<a class="code" href="classyarp_1_1os_1_1Bottle.html#aeed416df930c8e0f599e5fcbebb66324">find</a>(<span class="stringliteral">&quot;dscp&quot;</span>).<a class="code" href="classyarp_1_1os_1_1Value.html#a4775a45e57c40460b0202c74f1a9bc4e">asInt32</a>();</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;                                            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;                                                dscp = (int)dscp_class;</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;                                            }</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;                                            <span class="keywordflow">if</span> ((dscp &gt;= 0) &amp;&amp; (dscp &lt; 64)) {</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;                                                bOk = setTypeOfService(unit, dscp &lt;&lt; 2);</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;                                            }</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;                                        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (qos_prop-&gt;<a class="code" href="classyarp_1_1os_1_1Bottle.html#a9a98533da1dfef02172cfcae62439f00">check</a>(<span class="stringliteral">&quot;tos&quot;</span>)) {</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;                                            <span class="keywordtype">int</span> tos = qos_prop-&gt;<a class="code" href="classyarp_1_1os_1_1Bottle.html#aeed416df930c8e0f599e5fcbebb66324">find</a>(<span class="stringliteral">&quot;tos&quot;</span>).<a class="code" href="classyarp_1_1os_1_1Value.html#a4775a45e57c40460b0202c74f1a9bc4e">asInt32</a>();</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;                                            <span class="comment">// set the TOS value (backward compatibility)</span></div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;                                            bOk = setTypeOfService(unit, tos);</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;                                        }</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;                                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;                                        bOk = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;                                    }</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;                                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;                                }</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;                            }</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;                        }</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;                    }</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;                }</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;            }</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;            <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#aacd29c2486ddccf80d90412883d87902">releaseProperties</a>(p);</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;            result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6841d4c88db1245ad08dbefdb58353aa">addVocab</a>((bOk) ? <a class="code" href="namespaceyarp_1_1os_1_1Vocab.html#a5fea2e97a90e8498859ae92feb94ecee">Vocab::encode</a>(<span class="stringliteral">&quot;ok&quot;</span>) : <a class="code" href="namespaceyarp_1_1os_1_1Vocab.html#a5fea2e97a90e8498859ae92feb94ecee">Vocab::encode</a>(<span class="stringliteral">&quot;fail&quot;</span>));</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;        } <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;            result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6841d4c88db1245ad08dbefdb58353aa">addVocab</a>(<a class="code" href="namespaceyarp_1_1os_1_1Vocab.html#a5fea2e97a90e8498859ae92feb94ecee">Vocab::encode</a>(<span class="stringliteral">&quot;fail&quot;</span>));</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;            result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;property action not known&quot;</span>);</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;        }</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;    } <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;    {</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;        <span class="keywordtype">bool</span> ok = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;        <span class="keywordflow">if</span> (m_adminReader != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;            <a class="code" href="classyarp_1_1os_1_1DummyConnector.html">DummyConnector</a> con;</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;            cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#abde461d4dc645557f14ee5bce90666b9">write</a>(con.<a class="code" href="classyarp_1_1os_1_1DummyConnector.html#a1a04b79960e5549ad75945aad8ecd5f9">getWriter</a>());</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;            <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a1500b1ab36452e9c0c518eff8cace19f">lockCallback</a>();</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;            ok = m_adminReader-&gt;<a class="code" href="classyarp_1_1os_1_1PortReader.html#a10c08e5812f43e208fae5843137afa1d">read</a>(con.<a class="code" href="classyarp_1_1os_1_1DummyConnector.html#a79f9556748be5db5dccfadf2d09196e2">getReader</a>());</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;            <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a8c5da1bc7588e29307679938df89b18e">unlockCallback</a>();</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;            <span class="keywordflow">if</span> (ok) {</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;                result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a5a8c78ecc16426da099d04312dcc47dc">read</a>(con.<a class="code" href="classyarp_1_1os_1_1DummyConnector.html#a79f9556748be5db5dccfadf2d09196e2">getReader</a>());</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;            }</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;        }</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;        <span class="keywordflow">if</span> (!ok) {</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;            result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6841d4c88db1245ad08dbefdb58353aa">addVocab</a>(<a class="code" href="namespaceyarp_1_1os_1_1Vocab.html#a5fea2e97a90e8498859ae92feb94ecee">Vocab::encode</a>(<span class="stringliteral">&quot;fail&quot;</span>));</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;            result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(<span class="stringliteral">&quot;send [help] for list of valid commands&quot;</span>);</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;        }</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;    } <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;    }</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160; </div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;    <a class="code" href="classyarp_1_1os_1_1ConnectionWriter.html">ConnectionWriter</a>* writer = reader.<a class="code" href="classyarp_1_1os_1_1ConnectionReader.html#afd226b728d427470ff6659a6df4d9e54">getWriter</a>();</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;    <span class="keywordflow">if</span> (writer != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;        result.<a class="code" href="classyarp_1_1os_1_1Bottle.html#abde461d4dc645557f14ee5bce90666b9">write</a>(*writer);</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;    }</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160; </div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;    std::string nonsense_delay = <a class="code" href="classyarp_1_1os_1_1NetworkBase.html#a2dc3ec26ecc102b663456d0b8ed6f110">NetworkBase::getEnvironment</a>(<span class="stringliteral">&quot;NONSENSE_ADMIN_DELAY&quot;</span>);</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;    <span class="keywordflow">if</span> (!nonsense_delay.empty()) {</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;        <a class="code" href="classyarp_1_1os_1_1SystemClock.html#af9eba2d0a597ba1a53e6be7a47941314">yarp::os::SystemClock::delaySystem</a>(atof(nonsense_delay.c_str()));</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;    }</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160; </div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;}</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160; </div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160; </div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;<span class="keywordtype">bool</span> PortCore::setTypeOfService(<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html">PortCoreUnit</a>* unit, <span class="keywordtype">int</span> tos)</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;{</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;    <span class="keywordflow">if</span> (unit == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;    }</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160; </div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;    <span class="keywordflow">if</span> (unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#aa3af6a7ac6bed766fe03c8a6f365f932">isOutput</a>()) {</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;        <span class="keyword">auto</span>* outUnit = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreOutputUnit.html">PortCoreOutputUnit</a>*<span class="keyword">&gt;</span>(unit);</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;        <span class="keywordflow">if</span> (outUnit != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;            <a class="code" href="classyarp_1_1os_1_1OutputProtocol.html">OutputProtocol</a>* op = outUnit-&gt;getOutPutProtocol();</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;            <span class="keywordflow">if</span> (op != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;                <span class="keywordflow">return</span> op-&gt;<a class="code" href="classyarp_1_1os_1_1OutputProtocol.html#a65ff61aa995b64b4b1141ce9f19bd417">getOutputStream</a>().<a class="code" href="classyarp_1_1os_1_1OutputStream.html#ae1e285b0ef01a62d4d6eeb0acc75647d">setTypeOfService</a>(tos);</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;            }</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;        }</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;    }</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160; </div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;    <span class="comment">// Some of the input units may have output stream object to write back to</span></div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;    <span class="comment">// the connection (e.g., tcp ack and reply). Thus the QoS preferences should be</span></div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;    <span class="comment">// also configured for them.</span></div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160; </div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160; </div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;    <span class="keywordflow">if</span> (unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#ad961045f7195014a158cacf2648d6d13">isInput</a>()) {</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;        <span class="keyword">auto</span>* inUnit = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreInputUnit.html">PortCoreInputUnit</a>*<span class="keyword">&gt;</span>(unit);</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;        <span class="keywordflow">if</span> (inUnit != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;            <a class="code" href="classyarp_1_1os_1_1InputProtocol.html">InputProtocol</a>* ip = inUnit-&gt;getInPutProtocol();</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;            <span class="keywordflow">if</span> ((ip != <span class="keyword">nullptr</span>) &amp;&amp; ip-&gt;<a class="code" href="classyarp_1_1os_1_1InputProtocol.html#a9b41a43855745f46be7c6203b20bf443">getOutput</a>().<a class="code" href="classyarp_1_1os_1_1OutputProtocol.html#adbd68db6c48ccaf8355dbc4ef9d6d6f4">isOk</a>()) {</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;                <span class="keywordflow">return</span> ip-&gt;<a class="code" href="classyarp_1_1os_1_1InputProtocol.html#a9b41a43855745f46be7c6203b20bf443">getOutput</a>().<a class="code" href="classyarp_1_1os_1_1OutputProtocol.html#a65ff61aa995b64b4b1141ce9f19bd417">getOutputStream</a>().<a class="code" href="classyarp_1_1os_1_1OutputStream.html#ae1e285b0ef01a62d4d6eeb0acc75647d">setTypeOfService</a>(tos);</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;            }</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;        }</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;    }</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;    <span class="comment">// if there is nothing to be set, returns true</span></div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;}</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160; </div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;<span class="keywordtype">int</span> PortCore::getTypeOfService(<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html">PortCoreUnit</a>* unit)</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;{</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;    <span class="keywordflow">if</span> (unit == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;    }</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160; </div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;    <span class="keywordflow">if</span> (unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#aa3af6a7ac6bed766fe03c8a6f365f932">isOutput</a>()) {</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;        <span class="keyword">auto</span>* outUnit = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreOutputUnit.html">PortCoreOutputUnit</a>*<span class="keyword">&gt;</span>(unit);</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;        <span class="keywordflow">if</span> (outUnit != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;            <a class="code" href="classyarp_1_1os_1_1OutputProtocol.html">OutputProtocol</a>* op = outUnit-&gt;getOutPutProtocol();</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;            <span class="keywordflow">if</span> (op != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;                <span class="keywordflow">return</span> op-&gt;<a class="code" href="classyarp_1_1os_1_1OutputProtocol.html#a65ff61aa995b64b4b1141ce9f19bd417">getOutputStream</a>().<a class="code" href="classyarp_1_1os_1_1OutputStream.html#a99b59d450e9b7546326cd1c164e8131e">getTypeOfService</a>();</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;            }</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;        }</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;    }</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160; </div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;    <span class="comment">// Some of the input units may have output stream object to write back to</span></div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;    <span class="comment">// the connection (e.g., tcp ack and reply). Thus the QoS preferences should be</span></div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;    <span class="comment">// also configured for them.</span></div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160; </div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160; </div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;    <span class="keywordflow">if</span> (unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#ad961045f7195014a158cacf2648d6d13">isInput</a>()) {</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;        <span class="keyword">auto</span>* inUnit = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreInputUnit.html">PortCoreInputUnit</a>*<span class="keyword">&gt;</span>(unit);</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;        <span class="keywordflow">if</span> (inUnit != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;            <a class="code" href="classyarp_1_1os_1_1InputProtocol.html">InputProtocol</a>* ip = inUnit-&gt;getInPutProtocol();</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;            <span class="keywordflow">if</span> ((ip != <span class="keyword">nullptr</span>) &amp;&amp; ip-&gt;<a class="code" href="classyarp_1_1os_1_1InputProtocol.html#a9b41a43855745f46be7c6203b20bf443">getOutput</a>().<a class="code" href="classyarp_1_1os_1_1OutputProtocol.html#adbd68db6c48ccaf8355dbc4ef9d6d6f4">isOk</a>()) {</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;                <span class="keywordflow">return</span> ip-&gt;<a class="code" href="classyarp_1_1os_1_1InputProtocol.html#a9b41a43855745f46be7c6203b20bf443">getOutput</a>().<a class="code" href="classyarp_1_1os_1_1OutputProtocol.html#a65ff61aa995b64b4b1141ce9f19bd417">getOutputStream</a>().<a class="code" href="classyarp_1_1os_1_1OutputStream.html#a99b59d450e9b7546326cd1c164e8131e">getTypeOfService</a>();</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;            }</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;        }</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;    }</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;}</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160; </div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;<span class="comment">// attach a portmonitor plugin to the port or to a specific connection</span></div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;<span class="keywordtype">bool</span> PortCore::attachPortMonitor(<a class="code" href="classyarp_1_1os_1_1Property.html">yarp::os::Property</a>&amp; prop, <span class="keywordtype">bool</span> isOutput, std::string&amp; errMsg)</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;{</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;    <span class="comment">// attach to the current port</span></div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;    <a class="code" href="classyarp_1_1os_1_1Carrier.html">Carrier</a>* portmonitor = <a class="code" href="classyarp_1_1os_1_1Carriers.html#a92af949ab4c0690338164d1d7d372f37">Carriers::chooseCarrier</a>(<span class="stringliteral">&quot;portmonitor&quot;</span>);</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;    <span class="keywordflow">if</span> (portmonitor == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;        errMsg = <span class="stringliteral">&quot;Portmonitor carrier modifier cannot be find or it is not enabled in Yarp!&quot;</span>;</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;    }</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160; </div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;    <span class="keywordflow">if</span> (isOutput) {</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;        dettachPortMonitor(<span class="keyword">true</span>);</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;        prop.<a class="code" href="classyarp_1_1os_1_1Property.html#a2c90f76cba15b8cc9d1c88cf55b253a1">put</a>(<span class="stringliteral">&quot;source&quot;</span>, <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af12556e5940fd1edaa84efc8cd12ced3">getName</a>());</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;        prop.<a class="code" href="classyarp_1_1os_1_1Property.html#a2c90f76cba15b8cc9d1c88cf55b253a1">put</a>(<span class="stringliteral">&quot;destination&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;        prop.<a class="code" href="classyarp_1_1os_1_1Property.html#a2c90f76cba15b8cc9d1c88cf55b253a1">put</a>(<span class="stringliteral">&quot;sender_side&quot;</span>, 1);</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;        prop.<a class="code" href="classyarp_1_1os_1_1Property.html#a2c90f76cba15b8cc9d1c88cf55b253a1">put</a>(<span class="stringliteral">&quot;receiver_side&quot;</span>, 0);</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;        prop.<a class="code" href="classyarp_1_1os_1_1Property.html#a2c90f76cba15b8cc9d1c88cf55b253a1">put</a>(<span class="stringliteral">&quot;carrier&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;        m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#a42158649ee498f8794f08eca08f95d67">outputMutex</a>.lock();</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;        m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#a0fd024575eaf4f9c52c56aa5d269d6e9">outputModifier</a> = portmonitor;</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;        <span class="keywordflow">if</span> (!m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#a0fd024575eaf4f9c52c56aa5d269d6e9">outputModifier</a>-&gt;<a class="code" href="classyarp_1_1os_1_1Carrier.html#a11410113b4fdf7c224608af362979437">configureFromProperty</a>(prop)) {</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;            m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#ad745ca47f58f7138675ab4978c352dab">releaseOutModifier</a>();</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;            errMsg = <span class="stringliteral">&quot;Failed to configure the portmonitor plug-in&quot;</span>;</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;            m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#a42158649ee498f8794f08eca08f95d67">outputMutex</a>.unlock();</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;        }</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;        m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#a42158649ee498f8794f08eca08f95d67">outputMutex</a>.unlock();</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;        dettachPortMonitor(<span class="keyword">false</span>);</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;        prop.<a class="code" href="classyarp_1_1os_1_1Property.html#a2c90f76cba15b8cc9d1c88cf55b253a1">put</a>(<span class="stringliteral">&quot;source&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;        prop.<a class="code" href="classyarp_1_1os_1_1Property.html#a2c90f76cba15b8cc9d1c88cf55b253a1">put</a>(<span class="stringliteral">&quot;destination&quot;</span>, <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af12556e5940fd1edaa84efc8cd12ced3">getName</a>());</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;        prop.<a class="code" href="classyarp_1_1os_1_1Property.html#a2c90f76cba15b8cc9d1c88cf55b253a1">put</a>(<span class="stringliteral">&quot;sender_side&quot;</span>, 0);</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;        prop.<a class="code" href="classyarp_1_1os_1_1Property.html#a2c90f76cba15b8cc9d1c88cf55b253a1">put</a>(<span class="stringliteral">&quot;receiver_side&quot;</span>, 1);</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;        prop.<a class="code" href="classyarp_1_1os_1_1Property.html#a2c90f76cba15b8cc9d1c88cf55b253a1">put</a>(<span class="stringliteral">&quot;carrier&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;        m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#aa53b8ec7e55b5bd0810b2ee75409c717">inputMutex</a>.lock();</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;        m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#a48939242d69aeb5a587e5fe38a8fc7e3">inputModifier</a> = portmonitor;</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;        <span class="keywordflow">if</span> (!m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#a48939242d69aeb5a587e5fe38a8fc7e3">inputModifier</a>-&gt;<a class="code" href="classyarp_1_1os_1_1Carrier.html#a11410113b4fdf7c224608af362979437">configureFromProperty</a>(prop)) {</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;            m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#af0c466c8de25ffc0fed579a5ce4bdaa7">releaseInModifier</a>();</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;            errMsg = <span class="stringliteral">&quot;Failed to configure the portmonitor plug-in&quot;</span>;</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;            m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#aa53b8ec7e55b5bd0810b2ee75409c717">inputMutex</a>.unlock();</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;        }</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;        m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#aa53b8ec7e55b5bd0810b2ee75409c717">inputMutex</a>.unlock();</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;    }</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;}</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160; </div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;<span class="comment">// detach the portmonitor from the port or specific connection</span></div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;<span class="keywordtype">bool</span> PortCore::dettachPortMonitor(<span class="keywordtype">bool</span> isOutput)</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;{</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;    <span class="keywordflow">if</span> (isOutput) {</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;        m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#a42158649ee498f8794f08eca08f95d67">outputMutex</a>.lock();</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;        m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#ad745ca47f58f7138675ab4978c352dab">releaseOutModifier</a>();</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;        m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#a42158649ee498f8794f08eca08f95d67">outputMutex</a>.unlock();</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;        m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#aa53b8ec7e55b5bd0810b2ee75409c717">inputMutex</a>.lock();</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;        m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#af0c466c8de25ffc0fed579a5ce4bdaa7">releaseInModifier</a>();</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;        m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#aa53b8ec7e55b5bd0810b2ee75409c717">inputMutex</a>.unlock();</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;    }</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;}</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160; </div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;<span class="keywordtype">bool</span> PortCore::setParamPortMonitor(<a class="code" href="classyarp_1_1os_1_1Property.html">yarp::os::Property</a>&amp; param,</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;                                   <span class="keywordtype">bool</span> isOutput,</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;                                   std::string&amp; errMsg)</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;{</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;    <span class="keywordflow">if</span> (isOutput) {</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;        m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#a42158649ee498f8794f08eca08f95d67">outputMutex</a>.lock();</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;        <span class="keywordflow">if</span> (m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#a0fd024575eaf4f9c52c56aa5d269d6e9">outputModifier</a> == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;            errMsg = <span class="stringliteral">&quot;No port modifier is attached to the output&quot;</span>;</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;            m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#a42158649ee498f8794f08eca08f95d67">outputMutex</a>.unlock();</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;        }</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;        m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#a0fd024575eaf4f9c52c56aa5d269d6e9">outputModifier</a>-&gt;<a class="code" href="classyarp_1_1os_1_1Carrier.html#a6e90c0c577653a28566587fcc0755b76">setCarrierParams</a>(param);</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;        m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#a42158649ee498f8794f08eca08f95d67">outputMutex</a>.unlock();</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;        m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#aa53b8ec7e55b5bd0810b2ee75409c717">inputMutex</a>.lock();</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;        <span class="keywordflow">if</span> (m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#a48939242d69aeb5a587e5fe38a8fc7e3">inputModifier</a> == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;            errMsg = <span class="stringliteral">&quot;No port modifier is attached to the input&quot;</span>;</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;            m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#aa53b8ec7e55b5bd0810b2ee75409c717">inputMutex</a>.unlock();</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;        }</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;        m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#a48939242d69aeb5a587e5fe38a8fc7e3">inputModifier</a>-&gt;<a class="code" href="classyarp_1_1os_1_1Carrier.html#a6e90c0c577653a28566587fcc0755b76">setCarrierParams</a>(param);</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;        m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#aa53b8ec7e55b5bd0810b2ee75409c717">inputMutex</a>.unlock();</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;    }</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;}</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160; </div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;<span class="keywordtype">bool</span> PortCore::getParamPortMonitor(<a class="code" href="classyarp_1_1os_1_1Property.html">yarp::os::Property</a>&amp; param,</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;                                   <span class="keywordtype">bool</span> isOutput,</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;                                   std::string&amp; errMsg)</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;{</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;    <span class="keywordflow">if</span> (isOutput) {</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;        m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#a42158649ee498f8794f08eca08f95d67">outputMutex</a>.lock();</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;        <span class="keywordflow">if</span> (m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#a0fd024575eaf4f9c52c56aa5d269d6e9">outputModifier</a> == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;            errMsg = <span class="stringliteral">&quot;No port modifier is attached to the output&quot;</span>;</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;            m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#a42158649ee498f8794f08eca08f95d67">outputMutex</a>.unlock();</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;        }</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;        m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#a0fd024575eaf4f9c52c56aa5d269d6e9">outputModifier</a>-&gt;<a class="code" href="classyarp_1_1os_1_1Carrier.html#a0c49ae9435acb10b3ec4cd49bd793e8b">getCarrierParams</a>(param);</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;        m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#a42158649ee498f8794f08eca08f95d67">outputMutex</a>.unlock();</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;        m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#aa53b8ec7e55b5bd0810b2ee75409c717">inputMutex</a>.lock();</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;        <span class="keywordflow">if</span> (m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#a48939242d69aeb5a587e5fe38a8fc7e3">inputModifier</a> == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;            errMsg = <span class="stringliteral">&quot;No port modifier is attached to the input&quot;</span>;</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;            m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#aa53b8ec7e55b5bd0810b2ee75409c717">inputMutex</a>.unlock();</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;        }</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;        m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#a48939242d69aeb5a587e5fe38a8fc7e3">inputModifier</a>-&gt;<a class="code" href="classyarp_1_1os_1_1Carrier.html#a0c49ae9435acb10b3ec4cd49bd793e8b">getCarrierParams</a>(param);</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;        m_modifier.<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#aa53b8ec7e55b5bd0810b2ee75409c717">inputMutex</a>.unlock();</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;    }</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;}</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160; </div>
<div class="line"><a name="l02593"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#aa81fca006e4881dcbb20a361811d4978"> 2593</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#aa81fca006e4881dcbb20a361811d4978">PortCore::reportUnit</a>(<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html">PortCoreUnit</a>* unit, <span class="keywordtype">bool</span> active)</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;{</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;    <a class="code" href="yarp-v3_82-build_2src_2libYARP__conf_2include_2yarp_2conf_2api_8h.html#a115a3e86265819f41c93ff12c2538d1f">YARP_UNUSED</a>(active);</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;    <span class="keywordflow">if</span> (unit != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;        <span class="keywordtype">bool</span> isLog = (!unit-&gt;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a9f13121f8e63022472d45747fb1c77b8">getMode</a>().empty());</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;        <span class="keywordflow">if</span> (isLog) {</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;            m_logNeeded = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;        }</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;    }</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;}</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160; </div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;<span class="keywordtype">bool</span> PortCore::setProcessSchedulingParam(<span class="keywordtype">int</span> priority, <span class="keywordtype">int</span> policy)</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;{</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;<span class="preprocessor">#if defined(__linux__)</span></div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;    <span class="comment">// set the sched properties of all threads within the process</span></div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;    <span class="keyword">struct </span>sched_param sch_param;</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;    sch_param.__sched_priority = priority;</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160; </div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;    DIR* dir;</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;    <span class="keywordtype">char</span> path[PATH_MAX];</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;    sprintf(path, <span class="stringliteral">&quot;/proc/%d/task/&quot;</span>, <a class="code" href="namespaceyarp_1_1os.html#a9edfa946e72b69d03f8fe28ab452cdb9">yarp::os::impl::getpid</a>());</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160; </div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;    dir = opendir(path);</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;    <span class="keywordflow">if</span> (dir == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;    }</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160; </div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;    <span class="keyword">struct </span>dirent* d;</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;    <span class="keywordtype">char</span>* end;</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1ThreadImpl.html#a49ecde10b33d001309e8cd3dde9021b2">tid</a> = 0;</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="ImplementAxisInfo_8cpp.html#ab295c2135096172ff421e6b33358407d">ret</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;    <span class="keywordflow">while</span> ((d = readdir(dir)) != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;        <span class="keywordflow">if</span> (isdigit((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*d-&gt;d_name) == 0) {</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;        }</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160; </div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;        <a class="code" href="classyarp_1_1os_1_1impl_1_1ThreadImpl.html#a49ecde10b33d001309e8cd3dde9021b2">tid</a> = (pid_t)strtol(d-&gt;d_name, &amp;end, 10);</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;        <span class="keywordflow">if</span> (d-&gt;d_name == end || ((end != <span class="keyword">nullptr</span>) &amp;&amp; (*end != 0))) {</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;            closedir(dir);</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;        }</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;        <a class="code" href="ImplementAxisInfo_8cpp.html#ab295c2135096172ff421e6b33358407d">ret</a> &amp;= (sched_setscheduler(<a class="code" href="classyarp_1_1os_1_1impl_1_1ThreadImpl.html#a49ecde10b33d001309e8cd3dde9021b2">tid</a>, policy, &amp;sch_param) == 0);</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;    }</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;    closedir(dir);</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ImplementAxisInfo_8cpp.html#ab295c2135096172ff421e6b33358407d">ret</a>;</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;<span class="preprocessor">#elif defined(YARP_HAS_ACE) // for other platforms</span></div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;    <span class="comment">// TODO: Check how to set the scheduling properties of all process&#39;s threads in Windows</span></div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;    ACE_Sched_Params param(policy, (ACE_Sched_Priority)priority, ACE_SCOPE_PROCESS);</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="ImplementAxisInfo_8cpp.html#ab295c2135096172ff421e6b33358407d">ret</a> = ACE_OS::set_scheduling_params(param, <a class="code" href="namespaceyarp_1_1os.html#a9edfa946e72b69d03f8fe28ab452cdb9">yarp::os::impl::getpid</a>());</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="ImplementAxisInfo_8cpp.html#ab295c2135096172ff421e6b33358407d">ret</a> != -1);</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;}</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160; </div>
<div class="line"><a name="l02648"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a4cd81d44cdfcf52f2a55105c5453159c"> 2648</a></span>&#160;<a class="code" href="classyarp_1_1os_1_1Property.html">Property</a>* <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a4cd81d44cdfcf52f2a55105c5453159c">PortCore::acquireProperties</a>(<span class="keywordtype">bool</span> readOnly)</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;{</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">wait</a>();</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;    <span class="keywordflow">if</span> (!readOnly) {</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;        <span class="keywordflow">if</span> (m_prop == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;            m_prop = <span class="keyword">new</span> <a class="code" href="classyarp_1_1os_1_1Property.html">Property</a>();</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;        }</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;    }</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;    <span class="keywordflow">return</span> m_prop;</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;}</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160; </div>
<div class="line"><a name="l02659"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#aacd29c2486ddccf80d90412883d87902"> 2659</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#aacd29c2486ddccf80d90412883d87902">PortCore::releaseProperties</a>(<a class="code" href="classyarp_1_1os_1_1Property.html">Property</a>* prop)</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;{</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;    <a class="code" href="yarp-v3_82-build_2src_2libYARP__conf_2include_2yarp_2conf_2api_8h.html#a115a3e86265819f41c93ff12c2538d1f">YARP_UNUSED</a>(prop);</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;    m_stateSemaphore.<a class="code" href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">post</a>();</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;}</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160; </div>
<div class="line"><a name="l02665"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a5a9993ae3cca7ee347226032a66150b2"> 2665</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a5a9993ae3cca7ee347226032a66150b2">PortCore::removeIO</a>(<span class="keyword">const</span> <a class="code" href="classyarp_1_1os_1_1Route.html">Route</a>&amp; route, <span class="keywordtype">bool</span> synch)</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;{</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;    <span class="keywordflow">return</span> removeUnit(route, synch);</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;}</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160; </div>
<div class="line"><a name="l02670"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af8d25911824efdf24b4249fd4fe3ab37"> 2670</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af8d25911824efdf24b4249fd4fe3ab37">PortCore::setName</a>(<span class="keyword">const</span> std::string&amp; name)</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;{</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;    m_name = name;</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;}</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160; </div>
<div class="line"><a name="l02675"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af12556e5940fd1edaa84efc8cd12ced3"> 2675</a></span>&#160;std::string <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af12556e5940fd1edaa84efc8cd12ced3">PortCore::getName</a>()</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;{</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;    <span class="keywordflow">return</span> m_name;</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;}</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160; </div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;<span class="keywordtype">int</span> PortCore::getNextIndex()</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;{</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;    <span class="keywordtype">int</span> result = m_counter;</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;    m_counter++;</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;    <span class="keywordflow">if</span> (m_counter &lt; 0) {</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;        m_counter = 1;</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;    }</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;}</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160; </div>
<div class="line"><a name="l02690"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#ab88461a190178bda4bb9538b583e330c"> 2690</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classyarp_1_1os_1_1Contact.html">Contact</a>&amp; <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#ab88461a190178bda4bb9538b583e330c">PortCore::getAddress</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;    <span class="keywordflow">return</span> m_address;</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;}</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160; </div>
<div class="line"><a name="l02695"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a075174d30bafa678af1ce07cf5bd1415"> 2695</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a075174d30bafa678af1ce07cf5bd1415">PortCore::resetPortName</a>(<span class="keyword">const</span> std::string&amp; str)</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;{</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;    m_address.<a class="code" href="classyarp_1_1os_1_1Contact.html#ac6c364a50b5d0ee7ceba8499b1ae9fce">setName</a>(str);</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;}</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160; </div>
<div class="line"><a name="l02700"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a4caec87ab885da0c9c581c727e4c2771"> 2700</a></span>&#160;<a class="code" href="classyarp_1_1os_1_1PortReaderCreator.html">yarp::os::PortReaderCreator</a>* <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a4caec87ab885da0c9c581c727e4c2771">PortCore::getReadCreator</a>()</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;{</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;    <span class="keywordflow">return</span> m_readableCreator;</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;}</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160; </div>
<div class="line"><a name="l02705"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a73de639015f84de9c709ba975c5e60b2"> 2705</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a73de639015f84de9c709ba975c5e60b2">PortCore::setControlRegistration</a>(<span class="keywordtype">bool</span> flag)</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;{</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;    m_controlRegistration = flag;</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;}</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160; </div>
<div class="line"><a name="l02710"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a729a919be8d82fb3f9bc07543729f48f"> 2710</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a729a919be8d82fb3f9bc07543729f48f">PortCore::isListening</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;    <span class="keywordflow">return</span> m_listening;</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;}</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160; </div>
<div class="line"><a name="l02715"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a44adc9f29b2e616ab952cac74c6b76eb"> 2715</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a44adc9f29b2e616ab952cac74c6b76eb">PortCore::isManual</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;    <span class="keywordflow">return</span> m_manual;</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;}</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160; </div>
<div class="line"><a name="l02720"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a6317be3e8c67876d45a9a81585346afc"> 2720</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a6317be3e8c67876d45a9a81585346afc">PortCore::isInterrupted</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;    <span class="keywordflow">return</span> m_interrupted;</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;}</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160; </div>
<div class="line"><a name="l02725"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a4a2d88368b3f960af1038066c872aa6f"> 2725</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a4a2d88368b3f960af1038066c872aa6f">PortCore::setTimeout</a>(<span class="keywordtype">float</span> timeout)</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;{</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;    m_timeout = timeout;</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;}</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160; </div>
<div class="line"><a name="l02730"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a8c5b07bb4baac9b2379177111691421e"> 2730</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a8c5b07bb4baac9b2379177111691421e">PortCore::setVerbosity</a>(<span class="keywordtype">int</span> level)</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;{</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;    m_verbosity = level;</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;}</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160; </div>
<div class="line"><a name="l02735"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a156ac617de494986aa090f419117368c"> 2735</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a156ac617de494986aa090f419117368c">PortCore::getVerbosity</a>()</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;{</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;    <span class="keywordflow">return</span> m_verbosity;</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;}</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160; </div>
<div class="line"><a name="l02740"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a31a369d1282cdfd1924c0421be83b77b"> 2740</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a31a369d1282cdfd1924c0421be83b77b">PortCore::setCallbackLock</a>(<a class="code" href="classyarp_1_1os_1_1Mutex.html">yarp::os::Mutex</a>* mutex)</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;{</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;    <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af909a36b5ac4dbf3d311c3258a841555">removeCallbackLock</a>();</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;    <span class="keywordflow">if</span> (mutex != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;        m_mutex = mutex;</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;        m_mutexOwned = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;        m_mutex = <span class="keyword">new</span> <a class="code" href="classyarp_1_1os_1_1Mutex.html">yarp::os::Mutex</a>();</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;        m_mutexOwned = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;    }</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;}</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160; </div>
<div class="line"><a name="l02753"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af909a36b5ac4dbf3d311c3258a841555"> 2753</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af909a36b5ac4dbf3d311c3258a841555">PortCore::removeCallbackLock</a>()</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;{</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;    <span class="keywordflow">if</span> (m_mutexOwned &amp;&amp; (m_mutex != <span class="keyword">nullptr</span>)) {</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;        <span class="keyword">delete</span> m_mutex;</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;    }</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;    m_mutex = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;    m_mutexOwned = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;}</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160; </div>
<div class="line"><a name="l02763"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a1500b1ab36452e9c0c518eff8cace19f"> 2763</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a1500b1ab36452e9c0c518eff8cace19f">PortCore::lockCallback</a>()</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;{</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;    <span class="keywordflow">if</span> (m_mutex == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;    }</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;    m_mutex-&gt;<a class="code" href="classyarp_1_1os_1_1Mutex.html#ad91be808bf0a60a16f10b897ec246d3a">lock</a>();</div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;}</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160; </div>
<div class="line"><a name="l02772"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a6e659482cf815b8c45a7db1b7c15978c"> 2772</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a6e659482cf815b8c45a7db1b7c15978c">PortCore::tryLockCallback</a>()</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;{</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;    <span class="keywordflow">if</span> (m_mutex == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;    }</div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;    <span class="keywordflow">return</span> m_mutex-&gt;<a class="code" href="classyarp_1_1os_1_1Mutex.html#a85bdf2b7c3d9ce789c61f8bc2a127c8a">try_lock</a>();</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;}</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160; </div>
<div class="line"><a name="l02780"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a8c5da1bc7588e29307679938df89b18e"> 2780</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a8c5da1bc7588e29307679938df89b18e">PortCore::unlockCallback</a>()</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;{</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;    <span class="keywordflow">if</span> (m_mutex == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;    }</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;    m_mutex-&gt;<a class="code" href="classyarp_1_1os_1_1Mutex.html#a546a5b797ba29959357586aa2b3740a8">unlock</a>();</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;}</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160; </div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160; </div>
<div class="line"><a name="l02789"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af89a3efb765bec56d72559a4273486f6"> 2789</a></span>&#160;<a class="code" href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html">yarp::os::impl::PortDataModifier</a>&amp; <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#af89a3efb765bec56d72559a4273486f6">PortCore::getPortModifier</a>()</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;{</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;    <span class="keywordflow">return</span> m_modifier;</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;}</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160; </div>
<div class="line"><a name="l02794"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a3aa8f3a47e0503f0b64bf5eb5ab51442"> 2794</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#a3aa8f3a47e0503f0b64bf5eb5ab51442">PortCore::checkType</a>(<a class="code" href="classyarp_1_1os_1_1PortReader.html">PortReader</a>&amp; reader)</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;{</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;    m_typeMutex.lock();</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;    <span class="keywordflow">if</span> (!m_checkedType) {</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;        <span class="keywordflow">if</span> (!m_type.<a class="code" href="classyarp_1_1os_1_1Type.html#a9cdf052fcf21debb8784a294d28ddf82">isValid</a>()) {</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;            m_type = reader.<a class="code" href="classyarp_1_1os_1_1PortReader.html#ac2721ee0ddedcae62b28b84c5c1be871">getReadType</a>();</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;        }</div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;        m_checkedType = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;    }</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;    m_typeMutex.unlock();</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;}</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160; </div>
<div class="line"><a name="l02806"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#ac090880c0db58c6a331a962e458b9be9"> 2806</a></span>&#160;<a class="code" href="classyarp_1_1os_1_1Type.html">yarp::os::Type</a> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#ac090880c0db58c6a331a962e458b9be9">PortCore::getType</a>()</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;{</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;    m_typeMutex.lock();</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;    <a class="code" href="classyarp_1_1os_1_1Type.html">Type</a> <a class="code" href="FfmpegWriter_8cpp.html#afea36502e9d227ff62c5fb2719a246f2">t</a> = m_type;</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;    m_typeMutex.unlock();</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="FfmpegWriter_8cpp.html#afea36502e9d227ff62c5fb2719a246f2">t</a>;</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;}</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160; </div>
<div class="line"><a name="l02814"></a><span class="lineno"><a class="line" href="classyarp_1_1os_1_1impl_1_1PortCore.html#aab3e6a7f754b7c6cb77690cd21f93956"> 2814</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classyarp_1_1os_1_1impl_1_1PortCore.html#aab3e6a7f754b7c6cb77690cd21f93956">PortCore::promiseType</a>(<span class="keyword">const</span> <a class="code" href="classyarp_1_1os_1_1Type.html">Type</a>&amp; typ)</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;{</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;    m_typeMutex.lock();</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;    m_type = typ;</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;    m_typeMutex.unlock();</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aclassyarp_1_1os_1_1DummyConnector_html"><div class="ttname"><a href="classyarp_1_1os_1_1DummyConnector.html">yarp::os::DummyConnector</a></div><div class="ttdoc">A dummy connection to test yarp::os::Portable implementations.</div><div class="ttdef"><b>Definition:</b> <a href="DummyConnector_8h_source.html#l00038">DummyConnector.h:39</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Route_html_a7f00bcd4758b0316cb8dd9d471748aef"><div class="ttname"><a href="classyarp_1_1os_1_1Route.html#a7f00bcd4758b0316cb8dd9d471748aef">yarp::os::Route::toString</a></div><div class="ttdeci">std::string toString() const</div><div class="ttdoc">Render a text form of the route, &quot;source-&gt;carrier-&gt;dest&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="Route_8cpp_source.html#l00141">Route.cpp:141</a></div></div>
<div class="ttc" id="aRosLookup_8cpp_html_a7597f8372983aa32acc94363edd9411c"><div class="ttname"><a href="RosLookup_8cpp.html#a7597f8372983aa32acc94363edd9411c">rpc</a></div><div class="ttdeci">static bool rpc(const Contact &amp;c, const char *carrier, Bottle &amp;writer, Bottle &amp;reader, bool verbose)</div><div class="ttdef"><b>Definition:</b> <a href="RosLookup_8cpp_source.html#l00019">RosLookup.cpp:19</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCoreUnit_html_ac084584834ff6258e9ca0e68dcdfcfc0"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#ac084584834ff6258e9ca0e68dcdfcfc0">yarp::os::impl::PortCoreUnit::setDoomed</a></div><div class="ttdeci">void setDoomed()</div><div class="ttdoc">Request that this connection be shut down as soon as possible.</div><div class="ttdef"><b>Definition:</b> <a href="PortCoreUnit_8h_source.html#l00100">PortCoreUnit.h:100</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_ae46e2721103a77f6a9ba1135b4b043ba"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#ae46e2721103a77f6a9ba1135b4b043ba">yarp::os::impl::PortCore::send</a></div><div class="ttdeci">bool send(const yarp::os::PortWriter &amp;writer, yarp::os::PortReader *reader=nullptr, const yarp::os::PortWriter *callback=nullptr)</div><div class="ttdoc">Send a normal message.</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l01294">PortCore.cpp:1294</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1BufferedConnectionWriter_html_af99bdf6433f314be07a1d922632df05b"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1BufferedConnectionWriter.html#af99bdf6433f314be07a1d922632df05b">yarp::os::impl::BufferedConnectionWriter::appendLine</a></div><div class="ttdeci">virtual void appendLine(const std::string &amp;data)</div><div class="ttdoc">Send a string along with a carriage-return-line-feed sequence.</div><div class="ttdef"><b>Definition:</b> <a href="BufferedConnectionWriter_8cpp_source.html#l00304">BufferedConnectionWriter.cpp:304</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_a4cd81d44cdfcf52f2a55105c5453159c"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#a4cd81d44cdfcf52f2a55105c5453159c">yarp::os::impl::PortCore::acquireProperties</a></div><div class="ttdeci">Property * acquireProperties(bool readOnly)</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l02648">PortCore.cpp:2648</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bottle_html"><div class="ttname"><a href="classyarp_1_1os_1_1Bottle.html">yarp::os::Bottle</a></div><div class="ttdoc">A simple collection of objects that can be described and transmitted in a portable way.</div><div class="ttdef"><b>Definition:</b> <a href="Bottle_8h_source.html#l00072">Bottle.h:73</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Route_html_aa39b308d81bde6dc5ec4e63ff24141cd"><div class="ttname"><a href="classyarp_1_1os_1_1Route.html#aa39b308d81bde6dc5ec4e63ff24141cd">yarp::os::Route::swapNames</a></div><div class="ttdeci">void swapNames()</div><div class="ttdoc">Swap from and to names.</div><div class="ttdef"><b>Definition:</b> <a href="Route_8cpp_source.html#l00136">Route.cpp:136</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Value_html_acc3689cb01436b13ff457212a489a6d0"><div class="ttname"><a href="classyarp_1_1os_1_1Value.html#acc3689cb01436b13ff457212a489a6d0">yarp::os::Value::asVocab</a></div><div class="ttdeci">virtual std::int32_t asVocab() const</div><div class="ttdoc">Get vocabulary identifier as an integer.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00231">Value.cpp:231</a></div></div>
<div class="ttc" id="aPortCore_8h_html_a3277af412f7827ba9d8ce5159ea483d2"><div class="ttname"><a href="PortCore_8h.html#a3277af412f7827ba9d8ce5159ea483d2">PORTCORE_SEND_LOG</a></div><div class="ttdeci">#define PORTCORE_SEND_LOG</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8h_source.html#l00039">PortCore.h:39</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bottle_html_ad8cb921bd7e22d6fcafc3a61db65e75c"><div class="ttname"><a href="classyarp_1_1os_1_1Bottle.html#ad8cb921bd7e22d6fcafc3a61db65e75c">yarp::os::Bottle::toString</a></div><div class="ttdeci">std::string toString() const override</div><div class="ttdoc">Gives a human-readable textual representation of the bottle.</div><div class="ttdef"><b>Definition:</b> <a href="Bottle_8cpp_source.html#l00193">Bottle.cpp:193</a></div></div>
<div class="ttc" id="aRosNameSpace_8h_html"><div class="ttname"><a href="RosNameSpace_8h.html">RosNameSpace.h</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Property_html_a2c90f76cba15b8cc9d1c88cf55b253a1"><div class="ttname"><a href="classyarp_1_1os_1_1Property.html#a2c90f76cba15b8cc9d1c88cf55b253a1">yarp::os::Property::put</a></div><div class="ttdeci">void put(const std::string &amp;key, const std::string &amp;value)</div><div class="ttdoc">Associate the given key with the given string.</div><div class="ttdef"><b>Definition:</b> <a href="Property_8cpp_source.html#l00983">Property.cpp:983</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1ThreadImpl_html_adfb842815fd700b6c80782352d72e6c0"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1ThreadImpl.html#adfb842815fd700b6c80782352d72e6c0">yarp::os::impl::ThreadImpl::getPolicy</a></div><div class="ttdeci">int getPolicy()</div><div class="ttdef"><b>Definition:</b> <a href="ThreadImpl_8cpp_source.html#l00364">ThreadImpl.cpp:364</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_a124ffaab5845cbbce36c7e0497a870c2"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#a124ffaab5845cbbce36c7e0497a870c2">yarp::os::impl::PortCore::setAdminReadHandler</a></div><div class="ttdeci">void setAdminReadHandler(yarp::os::PortReader &amp;reader)</div><div class="ttdoc">Set a callback for incoming administrative messages.</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l00187">PortCore.cpp:187</a></div></div>
<div class="ttc" id="anamespaceyarp_1_1os_html_abac0a9b026b5e30de0df2f0e7544f6b0"><div class="ttname"><a href="namespaceyarp_1_1os.html#abac0a9b026b5e30de0df2f0e7544f6b0">yarp::os::createVocab</a></div><div class="ttdeci">constexpr yarp::conf::vocab32_t createVocab(char a, char b=0, char c=0, char d=0)</div><div class="ttdef"><b>Definition:</b> <a href="Vocab_8h_source.html#l00022">Vocab.h:22</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bottle_html_ab4c9755e05f65d8c89d9b406bb3da64d"><div class="ttname"><a href="classyarp_1_1os_1_1Bottle.html#ab4c9755e05f65d8c89d9b406bb3da64d">yarp::os::Bottle::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdoc">Empties the bottle of any objects it contains.</div><div class="ttdef"><b>Definition:</b> <a href="Bottle_8cpp_source.html#l00103">Bottle.cpp:103</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1StreamConnectionReader_html_ab80ef26e720613c296781237753ec5f7"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1StreamConnectionReader.html#ab80ef26e720613c296781237753ec5f7">yarp::os::impl::StreamConnectionReader::reset</a></div><div class="ttdeci">void reset(yarp::os::InputStream &amp;in, TwoWayStream *str, const Route &amp;route, size_t len, bool textMode, bool bareMode=false)</div><div class="ttdef"><b>Definition:</b> <a href="StreamConnectionReader_8cpp_source.html#l00048">StreamConnectionReader.cpp:48</a></div></div>
<div class="ttc" id="aNetwork_8h_html"><div class="ttname"><a href="Network_8h.html">Network.h</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1PortReport_html_aeed43b6402e00db3b5f7fb947fca5487"><div class="ttname"><a href="classyarp_1_1os_1_1PortReport.html#aeed43b6402e00db3b5f7fb947fca5487">yarp::os::PortReport::report</a></div><div class="ttdeci">virtual void report(const PortInfo &amp;info)=0</div><div class="ttdoc">Callback for port event/state information.</div></div>
<div class="ttc" id="aPortCore_8h_html_a44a3f5552a2be55025fa6016fb250944"><div class="ttname"><a href="PortCore_8h.html#a44a3f5552a2be55025fa6016fb250944">PORTCORE_IS_RPC</a></div><div class="ttdeci">#define PORTCORE_IS_RPC</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8h_source.html#l00043">PortCore.h:43</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1ConnectionRecorder_html_a7dd6f2ce771518e333facbea10799ecf"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1ConnectionRecorder.html#a7dd6f2ce771518e333facbea10799ecf">yarp::os::impl::ConnectionRecorder::init</a></div><div class="ttdeci">void init(yarp::os::ConnectionReader *wrappedReader)</div><div class="ttdoc">Call this to wrap a specific ConnectionReader.</div><div class="ttdef"><b>Definition:</b> <a href="ConnectionRecorder_8cpp_source.html#l00023">ConnectionRecorder.cpp:23</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1PortReader_html_a10c08e5812f43e208fae5843137afa1d"><div class="ttname"><a href="classyarp_1_1os_1_1PortReader.html#a10c08e5812f43e208fae5843137afa1d">yarp::os::PortReader::read</a></div><div class="ttdeci">virtual bool read(ConnectionReader &amp;reader)=0</div><div class="ttdoc">Read this object from a network connection.</div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Route_html_a6a1d40ac1577aa9443338bbf3de7c081"><div class="ttname"><a href="classyarp_1_1os_1_1Route.html#a6a1d40ac1577aa9443338bbf3de7c081">yarp::os::Route::getCarrierName</a></div><div class="ttdeci">const std::string &amp; getCarrierName() const</div><div class="ttdoc">Get the carrier type of the route.</div><div class="ttdef"><b>Definition:</b> <a href="Route_8cpp_source.html#l00126">Route.cpp:126</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_a3de8360f28f844b1e31a24745f5953fb"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#a3de8360f28f844b1e31a24745f5953fb">yarp::os::impl::PortCore::resume</a></div><div class="ttdeci">void resume()</div><div class="ttdoc">Undo an interrupt()</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l00367">PortCore.cpp:367</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1ContactStyle_html"><div class="ttname"><a href="classyarp_1_1os_1_1ContactStyle.html">yarp::os::ContactStyle</a></div><div class="ttdoc">Preferences for how to communicate with a contact.</div><div class="ttdef"><b>Definition:</b> <a href="ContactStyle_8h_source.html#l00026">ContactStyle.h:27</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1NetworkBase_html_a2dc3ec26ecc102b663456d0b8ed6f110"><div class="ttname"><a href="classyarp_1_1os_1_1NetworkBase.html#a2dc3ec26ecc102b663456d0b8ed6f110">yarp::os::NetworkBase::getEnvironment</a></div><div class="ttdeci">static std::string getEnvironment(const char *key, bool *found=nullptr)</div><div class="ttdoc">Read a variable from the environment.</div><div class="ttdef"><b>Definition:</b> <a href="Network_8cpp_source.html#l01334">Network.cpp:1334</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1NetworkBase_html_a4b4043e0e1d4c8e97c33b7593535aa95"><div class="ttname"><a href="classyarp_1_1os_1_1NetworkBase.html#a4b4043e0e1d4c8e97c33b7593535aa95">yarp::os::NetworkBase::getQueryBypass</a></div><div class="ttdeci">static NameStore * getQueryBypass()</div><div class="ttdef"><b>Definition:</b> <a href="Network_8cpp_source.html#l01328">Network.cpp:1328</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1NestedContact_html"><div class="ttname"><a href="classyarp_1_1os_1_1NestedContact.html">yarp::os::NestedContact</a></div><div class="ttdoc">A placeholder for rich contact information.</div><div class="ttdef"><b>Definition:</b> <a href="NestedContact_8h_source.html#l00026">NestedContact.h:27</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCoreUnit_html_a9982124d80de6eb62ca73f723efc7b2b"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a9982124d80de6eb62ca73f723efc7b2b">yarp::os::impl::PortCoreUnit::isFinished</a></div><div class="ttdeci">virtual bool isFinished()</div><div class="ttdef"><b>Definition:</b> <a href="PortCoreUnit_8h_source.html#l00074">PortCoreUnit.h:74</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1PortInfo_html_ab319f658e96bb8fc69064c1bb8ef4f89a6ef7ee6a99c122a9586eafc3dc3e29ad"><div class="ttname"><a href="classyarp_1_1os_1_1PortInfo.html#ab319f658e96bb8fc69064c1bb8ef4f89a6ef7ee6a99c122a9586eafc3dc3e29ad">yarp::os::PortInfo::PORTINFO_CONNECTION</a></div><div class="ttdeci">@ PORTINFO_CONNECTION</div><div class="ttdoc">Information about an incoming or outgoing connection.</div><div class="ttdef"><b>Definition:</b> <a href="PortInfo_8h_source.html#l00043">PortInfo.h:43</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1ThreadImpl_html_acd9f29af26655907d2a6b9149b298b10"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1ThreadImpl.html#acd9f29af26655907d2a6b9149b298b10">yarp::os::impl::ThreadImpl::start</a></div><div class="ttdeci">virtual bool start()</div><div class="ttdef"><b>Definition:</b> <a href="ThreadImpl_8cpp_source.html#l00242">ThreadImpl.cpp:242</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_a1500b1ab36452e9c0c518eff8cace19f"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#a1500b1ab36452e9c0c518eff8cace19f">yarp::os::impl::PortCore::lockCallback</a></div><div class="ttdeci">bool lockCallback()</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l02763">PortCore.cpp:2763</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bottle_html_a4d2e210ab875bff598973ab0a6919c31"><div class="ttname"><a href="classyarp_1_1os_1_1Bottle.html#a4d2e210ab875bff598973ab0a6919c31">yarp::os::Bottle::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdoc">Gets the number of elements in the bottle.</div><div class="ttdef"><b>Definition:</b> <a href="Bottle_8cpp_source.html#l00233">Bottle.cpp:233</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1BufferedConnectionWriter_html_a7e3cd9dfeac049f09c5f8abfd23a674c"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1BufferedConnectionWriter.html#a7e3cd9dfeac049f09c5f8abfd23a674c">yarp::os::impl::BufferedConnectionWriter::write</a></div><div class="ttdeci">bool write(ConnectionWriter &amp;connection) const override</div><div class="ttdoc">Write this object to a network connection.</div><div class="ttdef"><b>Definition:</b> <a href="BufferedConnectionWriter_8cpp_source.html#l00344">BufferedConnectionWriter.cpp:344</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCoreUnit_html_a4dde7a515bc4b498057cf8c8980a3626"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a4dde7a515bc4b498057cf8c8980a3626">yarp::os::impl::PortCoreUnit::setPupped</a></div><div class="ttdeci">void setPupped(const std::string &amp;pupString)</div><div class="ttdoc">Tag this connection as having been created by a publisherUpdate message to the port's administrative ...</div><div class="ttdef"><b>Definition:</b> <a href="PortCoreUnit_8h_source.html#l00251">PortCoreUnit.h:251</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCoreUnit_html"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html">yarp::os::impl::PortCoreUnit</a></div><div class="ttdoc">This manages a single threaded resource related to a single input or output connection.</div><div class="ttdef"><b>Definition:</b> <a href="PortCoreUnit_8h_source.html#l00028">PortCoreUnit.h:30</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Carrier_html"><div class="ttname"><a href="classyarp_1_1os_1_1Carrier.html">yarp::os::Carrier</a></div><div class="ttdoc">A base class for connection types (tcp, mcast, shmem, ...) which are called carriers in YARP.</div><div class="ttdef"><b>Definition:</b> <a href="Carrier_8h_source.html#l00047">Carrier.h:48</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1OutputProtocol_html"><div class="ttname"><a href="classyarp_1_1os_1_1OutputProtocol.html">yarp::os::OutputProtocol</a></div><div class="ttdoc">The output side of an active connection between two ports.</div><div class="ttdef"><b>Definition:</b> <a href="OutputProtocol_8h_source.html#l00032">OutputProtocol.h:33</a></div></div>
<div class="ttc" id="aFfmpegWriter_8cpp_html_afea36502e9d227ff62c5fb2719a246f2"><div class="ttname"><a href="FfmpegWriter_8cpp.html#afea36502e9d227ff62c5fb2719a246f2">t</a></div><div class="ttdeci">float t</div><div class="ttdef"><b>Definition:</b> <a href="FfmpegWriter_8cpp_source.html#l00069">FfmpegWriter.cpp:69</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1QosStyle_html_a35280b0a0b61805a895468deffd70136"><div class="ttname"><a href="classyarp_1_1os_1_1QosStyle.html#a35280b0a0b61805a895468deffd70136">yarp::os::QosStyle::getDSCPByVocab</a></div><div class="ttdeci">static PacketPriorityDSCP getDSCPByVocab(int vocab)</div><div class="ttdoc">returns the IPV4/6 DSCP value given as DSCP code</div><div class="ttdef"><b>Definition:</b> <a href="QosStyle_8cpp_source.html#l00158">QosStyle.cpp:158</a></div></div>
<div class="ttc" id="aPortCore_8h_html_a84a6a4538a34e7b0b0124cbca2f6a3c8"><div class="ttname"><a href="PortCore_8h.html#a84a6a4538a34e7b0b0124cbca2f6a3c8">PORTCORE_SEND_NORMAL</a></div><div class="ttdeci">#define PORTCORE_SEND_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8h_source.html#l00038">PortCore.h:38</a></div></div>
<div class="ttc" id="aPortCore_8h_html_a049806458dc33ed8ff7c2834cb8d538d"><div class="ttname"><a href="PortCore_8h.html#a049806458dc33ed8ff7c2834cb8d538d">PORTCORE_IS_INPUT</a></div><div class="ttdeci">#define PORTCORE_IS_INPUT</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8h_source.html#l00044">PortCore.h:44</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_a44adc9f29b2e616ab952cac74c6b76eb"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#a44adc9f29b2e616ab952cac74c6b76eb">yarp::os::impl::PortCore::isManual</a></div><div class="ttdeci">bool isManual() const</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l02715">PortCore.cpp:2715</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Carriers_html_a4ee8ba1bb8e1185cc3af2afdce01b5b2"><div class="ttname"><a href="classyarp_1_1os_1_1Carriers.html#a4ee8ba1bb8e1185cc3af2afdce01b5b2">yarp::os::Carriers::listen</a></div><div class="ttdeci">static Face * listen(const Contact &amp;address)</div><div class="ttdoc">Create a &quot;proto-carrier&quot; interface object that waits for incoming connections prior to a carrier bein...</div><div class="ttdef"><b>Definition:</b> <a href="Carriers_8cpp_source.html#l00249">Carriers.cpp:249</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1InputProtocol_html_a31028d1261a95bea1413ce727e3aea89"><div class="ttname"><a href="classyarp_1_1os_1_1InputProtocol.html#a31028d1261a95bea1413ce727e3aea89">yarp::os::InputProtocol::close</a></div><div class="ttdeci">virtual void close()=0</div><div class="ttdoc">Negotiate an end to operations.</div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Face_html_a2abf292d39783b9c9f56779856bb23f9"><div class="ttname"><a href="classyarp_1_1os_1_1Face.html#a2abf292d39783b9c9f56779856bb23f9">yarp::os::Face::getLocalAddress</a></div><div class="ttdeci">virtual Contact getLocalAddress() const</div><div class="ttdoc">Get address after open(), if more specific that the address provided to open() - otherwise an invalid...</div><div class="ttdef"><b>Definition:</b> <a href="Face_8h_source.html#l00086">Face.h:86</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1OutputProtocol_html_a65ff61aa995b64b4b1141ce9f19bd417"><div class="ttname"><a href="classyarp_1_1os_1_1OutputProtocol.html#a65ff61aa995b64b4b1141ce9f19bd417">yarp::os::OutputProtocol::getOutputStream</a></div><div class="ttdeci">virtual OutputStream &amp; getOutputStream()=0</div><div class="ttdoc">Access the output stream associated with the connection.</div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Type_html"><div class="ttname"><a href="classyarp_1_1os_1_1Type.html">yarp::os::Type</a></div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00023">Type.h:24</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCoreUnit_html_a490e1d750a1440ca5575e16126de97dd"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a490e1d750a1440ca5575e16126de97dd">yarp::os::impl::PortCoreUnit::getRoute</a></div><div class="ttdeci">virtual Route getRoute()</div><div class="ttdef"><b>Definition:</b> <a href="PortCoreUnit_8h_source.html#l00083">PortCoreUnit.h:83</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1BufferedConnectionWriter_html_ad6dd689e3f2bc084c9d3bbc6efc10e14"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1BufferedConnectionWriter.html#ad6dd689e3f2bc084c9d3bbc6efc10e14">yarp::os::impl::BufferedConnectionWriter::restart</a></div><div class="ttdeci">void restart()</div><div class="ttdoc">Tell the writer that we will be serializing a new object, but to keep any cached buffers that already...</div><div class="ttdef"><b>Definition:</b> <a href="BufferedConnectionWriter_8cpp_source.html#l00066">BufferedConnectionWriter.cpp:66</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1SystemInfo_html_a594c60cfb7b0ad82b70d49d9d78e8f84"><div class="ttname"><a href="classyarp_1_1os_1_1SystemInfo.html#a594c60cfb7b0ad82b70d49d9d78e8f84">yarp::os::SystemInfo::getPlatformInfo</a></div><div class="ttdeci">static PlatformInfo getPlatformInfo()</div><div class="ttdoc">getPlatformInfo</div><div class="ttdef"><b>Definition:</b> <a href="SystemInfo_8cpp_source.html#l00591">SystemInfo.cpp:591</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1NetworkBase_html_aeb7b1a750f2eb991202e3fef2ff7062d"><div class="ttname"><a href="classyarp_1_1os_1_1NetworkBase.html#aeb7b1a750f2eb991202e3fef2ff7062d">yarp::os::NetworkBase::write</a></div><div class="ttdeci">static bool write(const Contact &amp;contact, PortWriter &amp;cmd, PortReader &amp;reply, bool admin=false, bool quiet=false, double timeout=-1)</div><div class="ttdoc">Send a single command to a port and await a single response.</div><div class="ttdef"><b>Definition:</b> <a href="Network_8cpp_source.html#l01149">Network.cpp:1149</a></div></div>
<div class="ttc" id="astructyarp_1_1os_1_1SystemInfo_1_1ProcessInfo_html_acc6855cf8d3fa303f8d522e29c668729"><div class="ttname"><a href="structyarp_1_1os_1_1SystemInfo_1_1ProcessInfo.html#acc6855cf8d3fa303f8d522e29c668729">yarp::os::SystemInfo::ProcessInfo::pid</a></div><div class="ttdeci">int pid</div><div class="ttdef"><b>Definition:</b> <a href="SystemInfo_8h_source.html#l00121">SystemInfo.h:121</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Property_html_a0b938dbb6cf9e92a845cb18509865c62"><div class="ttname"><a href="classyarp_1_1os_1_1Property.html#a0b938dbb6cf9e92a845cb18509865c62">yarp::os::Property::fromString</a></div><div class="ttdeci">void fromString(const std::string &amp;txt, bool wipe=true)</div><div class="ttdoc">Interprets a string as a list of properties.</div><div class="ttdef"><b>Definition:</b> <a href="Property_8cpp_source.html#l01046">Property.cpp:1046</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortDataModifier_html_a0fd024575eaf4f9c52c56aa5d269d6e9"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#a0fd024575eaf4f9c52c56aa5d269d6e9">yarp::os::impl::PortDataModifier::outputModifier</a></div><div class="ttdeci">yarp::os::Carrier * outputModifier</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8h_source.html#l00139">PortCore.h:139</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_a0e89f50671d5fc9ca3d51e06cc7342a4"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#a0e89f50671d5fc9ca3d51e06cc7342a4">yarp::os::impl::PortCore::getEnvelope</a></div><div class="ttdeci">std::string getEnvelope()</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l01521">PortCore.cpp:1521</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortDataModifier_html"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html">yarp::os::impl::PortDataModifier</a></div><div class="ttdoc">This is the heart of a yarp port.</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8h_source.html#l00105">PortCore.h:106</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1StringOutputStream_html_a3b749456e52372b573251d82d4fa9258"><div class="ttname"><a href="classyarp_1_1os_1_1StringOutputStream.html#a3b749456e52372b573251d82d4fa9258">yarp::os::StringOutputStream::toString</a></div><div class="ttdeci">std::string toString() const</div><div class="ttdef"><b>Definition:</b> <a href="StringOutputStream_8h_source.html#l00033">StringOutputStream.h:33</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_a31a369d1282cdfd1924c0421be83b77b"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#a31a369d1282cdfd1924c0421be83b77b">yarp::os::impl::PortCore::setCallbackLock</a></div><div class="ttdeci">bool setCallbackLock(yarp::os::Mutex *mutex=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l02740">PortCore.cpp:2740</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortDataModifier_html_a42158649ee498f8794f08eca08f95d67"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#a42158649ee498f8794f08eca08f95d67">yarp::os::impl::PortDataModifier::outputMutex</a></div><div class="ttdeci">std::mutex outputMutex</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8h_source.html#l00141">PortCore.h:141</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Carrier_html_a5bad357bfd6cb3a33c706fd82c8fdba9"><div class="ttname"><a href="classyarp_1_1os_1_1Carrier.html#a5bad357bfd6cb3a33c706fd82c8fdba9">yarp::os::Carrier::modifyOutgoingData</a></div><div class="ttdeci">const PortWriter &amp; modifyOutgoingData(const PortWriter &amp;writer) override</div><div class="ttdoc">Modify outgoing payload data, if appropriate.</div><div class="ttdef"><b>Definition:</b> <a href="Carrier_8cpp_source.html#l00073">Carrier.cpp:73</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Name_html_a4207ea27e5a4f57214a6d4fde6acc217"><div class="ttname"><a href="classyarp_1_1os_1_1Name.html#a4207ea27e5a4f57214a6d4fde6acc217">yarp::os::Name::toAddress</a></div><div class="ttdeci">Contact toAddress() const</div><div class="ttdoc">Create an address from the name.</div><div class="ttdef"><b>Definition:</b> <a href="Name_8cpp_source.html#l00030">Name.cpp:30</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_a2dbc7c8f6bc1ab9715a68211c4fd43ae"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#a2dbc7c8f6bc1ab9715a68211c4fd43ae">yarp::os::impl::PortCore::start</a></div><div class="ttdeci">bool start() override</div><div class="ttdoc">Begin main thread.</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l00320">PortCore.cpp:320</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1OutputStream_html"><div class="ttname"><a href="classyarp_1_1os_1_1OutputStream.html">yarp::os::OutputStream</a></div><div class="ttdoc">Simple specification of the minimum functions needed from output streams.</div><div class="ttdef"><b>Definition:</b> <a href="OutputStream_8h_source.html#l00024">OutputStream.h:25</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1Logger_html_a9b12ce53593be134b7d7dea62607d22d"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1Logger.html#a9b12ce53593be134b7d7dea62607d22d">yarp::os::impl::Logger::get</a></div><div class="ttdeci">static Logger &amp; get()</div><div class="ttdef"><b>Definition:</b> <a href="Logger_8cpp_source.html#l00045">Logger.cpp:45</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_a8c5da1bc7588e29307679938df89b18e"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#a8c5da1bc7588e29307679938df89b18e">yarp::os::impl::PortCore::unlockCallback</a></div><div class="ttdeci">void unlockCallback()</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l02780">PortCore.cpp:2780</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1NetworkBase_html_ae11fbcd1d40e8cdd783aeacc92a9db8d"><div class="ttname"><a href="classyarp_1_1os_1_1NetworkBase.html#ae11fbcd1d40e8cdd783aeacc92a9db8d">yarp::os::NetworkBase::writeToNameServer</a></div><div class="ttdeci">static bool writeToNameServer(PortWriter &amp;cmd, PortReader &amp;reply, const ContactStyle &amp;style)</div><div class="ttdoc">Variant write method specialized to name server.</div><div class="ttdef"><b>Definition:</b> <a href="Network_8cpp_source.html#l01912">Network.cpp:1912</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1DummyConnector_html_a79f9556748be5db5dccfadf2d09196e2"><div class="ttname"><a href="classyarp_1_1os_1_1DummyConnector.html#a79f9556748be5db5dccfadf2d09196e2">yarp::os::DummyConnector::getReader</a></div><div class="ttdeci">ConnectionReader &amp; getReader()</div><div class="ttdoc">Get the dummy ConnectionReader loaded with whatever was written the ConnectionWriter since it was las...</div><div class="ttdef"><b>Definition:</b> <a href="DummyConnector_8cpp_source.html#l00113">DummyConnector.cpp:113</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Contact_html_ac6c364a50b5d0ee7ceba8499b1ae9fce"><div class="ttname"><a href="classyarp_1_1os_1_1Contact.html#ac6c364a50b5d0ee7ceba8499b1ae9fce">yarp::os::Contact::setName</a></div><div class="ttdeci">void setName(const std::string &amp;name)</div><div class="ttdoc">Set the name associated with this Contact.</div><div class="ttdef"><b>Definition:</b> <a href="Contact_8cpp_source.html#l00219">Contact.cpp:219</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1ThreadImpl_html_a16410b2092f52f1fc0904e8bf119b0c4"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1ThreadImpl.html#a16410b2092f52f1fc0904e8bf119b0c4">yarp::os::impl::ThreadImpl::close</a></div><div class="ttdeci">void close() override</div><div class="ttdoc">User-defined procedure for stopping execution.</div><div class="ttdef"><b>Definition:</b> <a href="ThreadImpl_8cpp_source.html#l00195">ThreadImpl.cpp:195</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1PortInfo_html_ab319f658e96bb8fc69064c1bb8ef4f89ab3458eee6c1b82da594d4925b44f74e5"><div class="ttname"><a href="classyarp_1_1os_1_1PortInfo.html#ab319f658e96bb8fc69064c1bb8ef4f89ab3458eee6c1b82da594d4925b44f74e5">yarp::os::PortInfo::PORTINFO_MISC</a></div><div class="ttdeci">@ PORTINFO_MISC</div><div class="ttdoc">Unspecified information.</div><div class="ttdef"><b>Definition:</b> <a href="PortInfo_8h_source.html#l00047">PortInfo.h:46</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Carrier_html_a02556826dcfa249a2c7b76f370cdf024"><div class="ttname"><a href="classyarp_1_1os_1_1Carrier.html#a02556826dcfa249a2c7b76f370cdf024">yarp::os::Carrier::isConnectionless</a></div><div class="ttdeci">bool isConnectionless() const override=0</div><div class="ttdoc">Check if this carrier is connectionless (like udp, mcast) or connection based (like tcp).</div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Carrier_html_a11410113b4fdf7c224608af362979437"><div class="ttname"><a href="classyarp_1_1os_1_1Carrier.html#a11410113b4fdf7c224608af362979437">yarp::os::Carrier::configureFromProperty</a></div><div class="ttdeci">virtual bool configureFromProperty(yarp::os::Property &amp;options)</div><div class="ttdef"><b>Definition:</b> <a href="Carrier_8cpp_source.html#l00111">Carrier.cpp:111</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1StringInputStream_html_a38723eda7afc431eaf8cbcea26343a4e"><div class="ttname"><a href="classyarp_1_1os_1_1StringInputStream.html#a38723eda7afc431eaf8cbcea26343a4e">yarp::os::StringInputStream::add</a></div><div class="ttdeci">void add(const std::string &amp;txt)</div><div class="ttdef"><b>Definition:</b> <a href="StringInputStream_8h_source.html#l00047">StringInputStream.h:47</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Carriers_html_a92af949ab4c0690338164d1d7d372f37"><div class="ttname"><a href="classyarp_1_1os_1_1Carriers.html#a92af949ab4c0690338164d1d7d372f37">yarp::os::Carriers::chooseCarrier</a></div><div class="ttdeci">static Carrier * chooseCarrier(const std::string &amp;name)</div><div class="ttdoc">Select a carrier by name.</div><div class="ttdef"><b>Definition:</b> <a href="Carriers_8cpp_source.html#l00232">Carriers.cpp:232</a></div></div>
<div class="ttc" id="aInputProtocol_8h_html"><div class="ttname"><a href="InputProtocol_8h.html">InputProtocol.h</a></div></div>
<div class="ttc" id="aPortCore_8cpp_html_af80a7586a13277e0e7e60022856d050c"><div class="ttname"><a href="PortCore_8cpp.html#af80a7586a13277e0e7e60022856d050c">YTRACE</a></div><div class="ttdeci">#define YTRACE(x)</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l00053">PortCore.cpp:53</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1OutputProtocol_html_a0a5395348176cc3faf34e423823b1301"><div class="ttname"><a href="classyarp_1_1os_1_1OutputProtocol.html#a0a5395348176cc3faf34e423823b1301">yarp::os::OutputProtocol::getRoute</a></div><div class="ttdeci">virtual const Route &amp; getRoute() const =0</div></div>
<div class="ttc" id="astructyarp_1_1os_1_1SystemInfo_1_1PlatformInfo_html"><div class="ttname"><a href="structyarp_1_1os_1_1SystemInfo_1_1PlatformInfo.html">yarp::os::SystemInfo::PlatformInfo</a></div><div class="ttdoc">The PlatformInfo struct holds the operating system information.</div><div class="ttdef"><b>Definition:</b> <a href="SystemInfo_8h_source.html#l00083">SystemInfo.h:84</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_af909a36b5ac4dbf3d311c3258a841555"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#af909a36b5ac4dbf3d311c3258a841555">yarp::os::impl::PortCore::removeCallbackLock</a></div><div class="ttdeci">bool removeCallbackLock()</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l02753">PortCore.cpp:2753</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Carriers_html_a626075d9fa990aeb6de639f645961448"><div class="ttname"><a href="classyarp_1_1os_1_1Carriers.html#a626075d9fa990aeb6de639f645961448">yarp::os::Carriers::getCarrierTemplate</a></div><div class="ttdeci">static Carrier * getCarrierTemplate(const std::string &amp;name)</div><div class="ttdoc">Get template for carrier.</div><div class="ttdef"><b>Definition:</b> <a href="Carriers_8cpp_source.html#l00237">Carriers.cpp:237</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1BufferedConnectionWriter_html"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1BufferedConnectionWriter.html">yarp::os::impl::BufferedConnectionWriter</a></div><div class="ttdoc">A helper for creating cached object descriptions.</div><div class="ttdef"><b>Definition:</b> <a href="BufferedConnectionWriter_8h_source.html#l00047">BufferedConnectionWriter.h:50</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_afbe70c561b8bd08f1c3f0ec8c17c5aad"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#afbe70c561b8bd08f1c3f0ec8c17c5aad">yarp::os::impl::PortCore::adminBlock</a></div><div class="ttdeci">bool adminBlock(ConnectionReader &amp;reader, void *id, yarp::os::OutputStream *os)</div><div class="ttdoc">Read a block of administrative data.</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l01587">PortCore.cpp:1587</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bottle_html_a388ffac14da35ebecd8f78b642c7221b"><div class="ttname"><a href="classyarp_1_1os_1_1Bottle.html#a388ffac14da35ebecd8f78b642c7221b">yarp::os::Bottle::fromString</a></div><div class="ttdeci">void fromString(const std::string &amp;text)</div><div class="ttdoc">Initializes bottle from a string.</div><div class="ttdef"><b>Definition:</b> <a href="Bottle_8cpp_source.html#l00186">Bottle.cpp:186</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Mutex_html_a85bdf2b7c3d9ce789c61f8bc2a127c8a"><div class="ttname"><a href="classyarp_1_1os_1_1Mutex.html#a85bdf2b7c3d9ce789c61f8bc2a127c8a">yarp::os::Mutex::try_lock</a></div><div class="ttdeci">bool try_lock()</div><div class="ttdoc">Lock the associated resource if possible.</div><div class="ttdef"><b>Definition:</b> <a href="Mutex_8cpp_source.html#l00034">Mutex.cpp:34</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Carrier_html_a189e192187f96f6c6775745181351876"><div class="ttname"><a href="classyarp_1_1os_1_1Carrier.html#a189e192187f96f6c6775745181351876">yarp::os::Carrier::isPush</a></div><div class="ttdeci">bool isPush() const override</div><div class="ttdoc">Check if carrier is &quot;push&quot; or &quot;pull&quot; style.</div><div class="ttdef"><b>Definition:</b> <a href="Carrier_8cpp_source.html#l00025">Carrier.cpp:25</a></div></div>
<div class="ttc" id="aPortCore_8cpp_html_ad80c4188c8a31f3e3154da4144979856"><div class="ttname"><a href="PortCore_8cpp.html#ad80c4188c8a31f3e3154da4144979856">__pc_rpc</a></div><div class="ttdeci">static bool __pc_rpc(const Contact &amp;c, const char *carrier, Bottle &amp;writer, Bottle &amp;reader, bool verbose)</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l01551">PortCore.cpp:1551</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_a729a919be8d82fb3f9bc07543729f48f"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#a729a919be8d82fb3f9bc07543729f48f">yarp::os::impl::PortCore::isListening</a></div><div class="ttdeci">bool isListening() const</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l02710">PortCore.cpp:2710</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1NestedContact_html_a26d5580cc2331008ce3183a5d011b800"><div class="ttname"><a href="classyarp_1_1os_1_1NestedContact.html#a26d5580cc2331008ce3183a5d011b800">yarp::os::NestedContact::getNodeName</a></div><div class="ttdeci">std::string getNodeName() const</div><div class="ttdef"><b>Definition:</b> <a href="NestedContact_8cpp_source.html#l00167">NestedContact.cpp:167</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_af12556e5940fd1edaa84efc8cd12ced3"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#af12556e5940fd1edaa84efc8cd12ced3">yarp::os::impl::PortCore::getName</a></div><div class="ttdeci">std::string getName()</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l02675">PortCore.cpp:2675</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Carrier_html_a1d8db155b5c61c058fc0bfad2ba6ab51"><div class="ttname"><a href="classyarp_1_1os_1_1Carrier.html#a1d8db155b5c61c058fc0bfad2ba6ab51">yarp::os::Carrier::acceptOutgoingData</a></div><div class="ttdeci">bool acceptOutgoingData(const PortWriter &amp;writer) override</div><div class="ttdoc">Determine whether outgoing data should be accepted.</div><div class="ttdef"><b>Definition:</b> <a href="Carrier_8cpp_source.html#l00098">Carrier.cpp:98</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Type_html_aadee2fb6392706b1e05ee9798d52e0e4"><div class="ttname"><a href="classyarp_1_1os_1_1Type.html#aadee2fb6392706b1e05ee9798d52e0e4">yarp::os::Type::getName</a></div><div class="ttdeci">std::string getName() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00142">Type.cpp:142</a></div></div>
<div class="ttc" id="aLogger_8h_html_a134a52fb1fc4b6d328a6678fe93f1104"><div class="ttname"><a href="Logger_8h.html#a134a52fb1fc4b6d328a6678fe93f1104">YARP_ERROR</a></div><div class="ttdeci">#define YARP_ERROR(log, x)</div><div class="ttdef"><b>Definition:</b> <a href="Logger_8h_source.html#l00087">Logger.h:87</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1InputProtocol_html_a43ad1275f5a90420a1aac1b090823289"><div class="ttname"><a href="classyarp_1_1os_1_1InputProtocol.html#a43ad1275f5a90420a1aac1b090823289">yarp::os::InputProtocol::setTimeout</a></div><div class="ttdeci">virtual bool setTimeout(double timeout)=0</div><div class="ttdoc">Set the timeout to be used for network operations.</div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Property_html_a01b2c87730d92ac79189a139874b8f32"><div class="ttname"><a href="classyarp_1_1os_1_1Property.html#a01b2c87730d92ac79189a139874b8f32">yarp::os::Property::find</a></div><div class="ttdeci">Value &amp; find(const std::string &amp;key) const override</div><div class="ttdoc">Gets a value corresponding to a given keyword.</div><div class="ttdef"><b>Definition:</b> <a href="Property_8cpp_source.html#l01030">Property.cpp:1030</a></div></div>
<div class="ttc" id="aStreamConnectionReader_8h_html"><div class="ttname"><a href="StreamConnectionReader_8h.html">StreamConnectionReader.h</a></div></div>
<div class="ttc" id="aConnectionRecorder_8h_html"><div class="ttname"><a href="ConnectionRecorder_8h.html">ConnectionRecorder.h</a></div></div>
<div class="ttc" id="aPortCoreOutputUnit_8h_html"><div class="ttname"><a href="PortCoreOutputUnit_8h.html">PortCoreOutputUnit.h</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1StreamConnectionReader_html"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1StreamConnectionReader.html">yarp::os::impl::StreamConnectionReader</a></div><div class="ttdoc">Lets Readable objects read from the underlying InputStream associated with the connection between two...</div><div class="ttdef"><b>Definition:</b> <a href="StreamConnectionReader_8h_source.html#l00040">StreamConnectionReader.h:42</a></div></div>
<div class="ttc" id="anamespaceyarp_1_1os_html_a9edfa946e72b69d03f8fe28ab452cdb9"><div class="ttname"><a href="namespaceyarp_1_1os.html#a9edfa946e72b69d03f8fe28ab452cdb9">yarp::os::getpid</a></div><div class="ttdeci">int getpid()</div><div class="ttdoc">Portable wrapper for the getppid() function.</div><div class="ttdef"><b>Definition:</b> <a href="Os_8cpp_source.html#l00092">Os.cpp:92</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCorePacket_html_ac62d94965a9f43e109d4d174b0453862"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCorePacket.html#ac62d94965a9f43e109d4d174b0453862">yarp::os::impl::PortCorePacket::dec</a></div><div class="ttdeci">void dec()</div><div class="ttdoc">Decrement the usage count for this messagae.</div><div class="ttdef"><b>Definition:</b> <a href="PortCorePacket_8h_source.html#l00080">PortCorePacket.h:80</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1StringOutputStream_html_a07f4f61a96213491ea2fa5e215104021"><div class="ttname"><a href="classyarp_1_1os_1_1StringOutputStream.html#a07f4f61a96213491ea2fa5e215104021">yarp::os::StringOutputStream::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdef"><b>Definition:</b> <a href="StringOutputStream_8h_source.html#l00038">StringOutputStream.h:38</a></div></div>
<div class="ttc" id="aImplementAxisInfo_8cpp_html_ab295c2135096172ff421e6b33358407d"><div class="ttname"><a href="ImplementAxisInfo_8cpp.html#ab295c2135096172ff421e6b33358407d">ret</a></div><div class="ttdeci">bool ret</div><div class="ttdef"><b>Definition:</b> <a href="ImplementAxisInfo_8cpp_source.html#l00072">ImplementAxisInfo.cpp:72</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortDataModifier_html_ad745ca47f58f7138675ab4978c352dab"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#ad745ca47f58f7138675ab4978c352dab">yarp::os::impl::PortDataModifier::releaseOutModifier</a></div><div class="ttdeci">void releaseOutModifier()</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8h_source.html#l00120">PortCore.h:120</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1OutputProtocol_html_a73c79b7707fb0be6770b6ee21e2f6de6"><div class="ttname"><a href="classyarp_1_1os_1_1OutputProtocol.html#a73c79b7707fb0be6770b6ee21e2f6de6">yarp::os::OutputProtocol::getInput</a></div><div class="ttdeci">virtual InputProtocol &amp; getInput()=0</div><div class="ttdoc">Get an interface for doing read operations on the connection.</div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1PortReport_html"><div class="ttname"><a href="classyarp_1_1os_1_1PortReport.html">yarp::os::PortReport</a></div><div class="ttdoc">A base class for objects that want information about port status changes.</div><div class="ttdef"><b>Definition:</b> <a href="PortReport_8h_source.html#l00030">PortReport.h:31</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Carrier_html_a6e90c0c577653a28566587fcc0755b76"><div class="ttname"><a href="classyarp_1_1os_1_1Carrier.html#a6e90c0c577653a28566587fcc0755b76">yarp::os::Carrier::setCarrierParams</a></div><div class="ttdeci">void setCarrierParams(const Property &amp;params) override</div><div class="ttdoc">Configure carrier from port administrative commands.</div><div class="ttdef"><b>Definition:</b> <a href="Carrier_8cpp_source.html#l00118">Carrier.cpp:118</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_a2a6dca92d9adb4518f69b3d09dd1da10"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#a2a6dca92d9adb4518f69b3d09dd1da10">yarp::os::impl::PortCore::run</a></div><div class="ttdeci">void run() override</div><div class="ttdoc">The body of the main thread.</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l00204">PortCore.cpp:204</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Route_html"><div class="ttname"><a href="classyarp_1_1os_1_1Route.html">yarp::os::Route</a></div><div class="ttdoc">Information about a connection between two ports.</div><div class="ttdef"><b>Definition:</b> <a href="Route_8h_source.html#l00031">Route.h:32</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1Logger_html_abfc2088ddbaf9154ee3585ef6902b1a8"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1Logger.html#abfc2088ddbaf9154ee3585ef6902b1a8">yarp::os::impl::Logger::setPrefix</a></div><div class="ttdeci">void setPrefix(const char *prefix)</div><div class="ttdef"><b>Definition:</b> <a href="Logger_8cpp_source.html#l00138">Logger.cpp:138</a></div></div>
<div class="ttc" id="ayarpros_8cpp_html_ab3f078684998b83967d507d0f453f454"><div class="ttname"><a href="yarpros_8cpp.html#ab3f078684998b83967d507d0f453f454">verbose</a></div><div class="ttdeci">bool verbose</div><div class="ttdef"><b>Definition:</b> <a href="yarpros_8cpp_source.html#l00023">yarpros.cpp:23</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1PortWriter_html"><div class="ttname"><a href="classyarp_1_1os_1_1PortWriter.html">yarp::os::PortWriter</a></div><div class="ttdoc">Interface implemented by all objects that can write themselves to the network, such as Bottle objects...</div><div class="ttdef"><b>Definition:</b> <a href="PortWriter_8h_source.html#l00026">PortWriter.h:27</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Semaphore_html_a85500356c2f7d1057d4568227e7f35b7"><div class="ttname"><a href="classyarp_1_1os_1_1Semaphore.html#a85500356c2f7d1057d4568227e7f35b7">yarp::os::Semaphore::wait</a></div><div class="ttdeci">void wait()</div><div class="ttdoc">Decrement the counter, even if we must wait to do that.</div><div class="ttdef"><b>Definition:</b> <a href="Semaphore_8cpp_source.html#l00099">Semaphore.cpp:99</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Contact_html_a6192fc01afbda5337e8a06438881c753"><div class="ttname"><a href="classyarp_1_1os_1_1Contact.html#a6192fc01afbda5337e8a06438881c753">yarp::os::Contact::getRegName</a></div><div class="ttdeci">std::string getRegName() const</div><div class="ttdoc">Get the name associated with this Contact.</div><div class="ttdef"><b>Definition:</b> <a href="Contact_8cpp_source.html#l00214">Contact.cpp:214</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1StringOutputStream_html"><div class="ttname"><a href="classyarp_1_1os_1_1StringOutputStream.html">yarp::os::StringOutputStream</a></div><div class="ttdoc">An OutputStream that produces a string.</div><div class="ttdef"><b>Definition:</b> <a href="StringOutputStream_8h_source.html#l00024">StringOutputStream.h:25</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_a5a9993ae3cca7ee347226032a66150b2"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#a5a9993ae3cca7ee347226032a66150b2">yarp::os::impl::PortCore::removeIO</a></div><div class="ttdeci">bool removeIO(const Route &amp;route, bool synch=false)</div><div class="ttdoc">Remove any connection matching the supplied route.</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l02665">PortCore.cpp:2665</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1PortInfo_html"><div class="ttname"><a href="classyarp_1_1os_1_1PortInfo.html">yarp::os::PortInfo</a></div><div class="ttdoc">Information about a port connection or event.</div><div class="ttdef"><b>Definition:</b> <a href="PortInfo_8h_source.html#l00028">PortInfo.h:29</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCorePacket_html_a3086fa9d77e8508c522b03e413916e21"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCorePacket.html#a3086fa9d77e8508c522b03e413916e21">yarp::os::impl::PortCorePacket::inc</a></div><div class="ttdeci">void inc()</div><div class="ttdoc">Increment the usage count for this messagae.</div><div class="ttdef"><b>Definition:</b> <a href="PortCorePacket_8h_source.html#l00072">PortCorePacket.h:72</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bottle_html_aeed416df930c8e0f599e5fcbebb66324"><div class="ttname"><a href="classyarp_1_1os_1_1Bottle.html#aeed416df930c8e0f599e5fcbebb66324">yarp::os::Bottle::find</a></div><div class="ttdeci">Value &amp; find(const std::string &amp;key) const override</div><div class="ttdoc">Gets a value corresponding to a given keyword.</div><div class="ttdef"><b>Definition:</b> <a href="Bottle_8cpp_source.html#l00269">Bottle.cpp:269</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1PortInfo_html_a14a98c85134a795b133543a6a14a571f"><div class="ttname"><a href="classyarp_1_1os_1_1PortInfo.html#a14a98c85134a795b133543a6a14a571f">yarp::os::PortInfo::carrierName</a></div><div class="ttdeci">std::string carrierName</div><div class="ttdoc">Name of protocol type, if releveant.</div><div class="ttdef"><b>Definition:</b> <a href="PortInfo_8h_source.html#l00069">PortInfo.h:69</a></div></div>
<div class="ttc" id="aLogger_8h_html_a82eb3af23b3d5a19b654e08f18e0d043"><div class="ttname"><a href="Logger_8h.html#a82eb3af23b3d5a19b654e08f18e0d043">YARP_SPRINTF1</a></div><div class="ttdeci">#define YARP_SPRINTF1(log, mode, msg, a)</div><div class="ttdef"><b>Definition:</b> <a href="Logger_8h_source.html#l00104">Logger.h:104</a></div></div>
<div class="ttc" id="aName_8h_html"><div class="ttname"><a href="Name_8h.html">Name.h</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1InputProtocol_html_a9b41a43855745f46be7c6203b20bf443"><div class="ttname"><a href="classyarp_1_1os_1_1InputProtocol.html#a9b41a43855745f46be7c6203b20bf443">yarp::os::InputProtocol::getOutput</a></div><div class="ttdeci">virtual OutputProtocol &amp; getOutput()=0</div><div class="ttdoc">Get an interface for doing write operations on the connection.</div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCoreUnit_html_ad961045f7195014a158cacf2648d6d13"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#ad961045f7195014a158cacf2648d6d13">yarp::os::impl::PortCoreUnit::isInput</a></div><div class="ttdeci">virtual bool isInput()</div><div class="ttdef"><b>Definition:</b> <a href="PortCoreUnit_8h_source.html#l00057">PortCoreUnit.h:57</a></div></div>
<div class="ttc" id="alibYARP__OS_2include_2yarp_2os_2Time_8h_html"><div class="ttname"><a href="libYARP__OS_2include_2yarp_2os_2Time_8h.html">Time.h</a></div></div>
<div class="ttc" id="aLogger_8h_html_abb160acbec1260a2dd8f329179a6bb9f"><div class="ttname"><a href="Logger_8h.html#abb160acbec1260a2dd8f329179a6bb9f">YARP_SPRINTF2</a></div><div class="ttdeci">#define YARP_SPRINTF2(log, mode, msg, a, b)</div><div class="ttdef"><b>Definition:</b> <a href="Logger_8h_source.html#l00110">Logger.h:110</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_a04c4dcad6cb5ab9b51e745bdfa5b3c39"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#a04c4dcad6cb5ab9b51e745bdfa5b3c39">yarp::os::impl::PortCore::notifyCompletion</a></div><div class="ttdeci">void notifyCompletion(void *tracker)</div><div class="ttdoc">Call the right onCompletion() after sending message.</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l01483">PortCore.cpp:1483</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_aa6b78f57cdd0a7dda072105f981aaa29"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#aa6b78f57cdd0a7dda072105f981aaa29">yarp::os::impl::PortCore::getFlags</a></div><div class="ttdeci">int getFlags()</div><div class="ttdoc">Check current configuration of port.</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8h_source.html#l00304">PortCore.h:304</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_ab26d8cf509cfc097d7a182e01da8a049"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#ab26d8cf509cfc097d7a182e01da8a049">yarp::os::impl::PortCore::PortCore</a></div><div class="ttdeci">PortCore()</div><div class="ttdoc">Constructor.</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l00059">PortCore.cpp:59</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_ac05380dfa81e13ad132a5c98c44b7ca7"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#ac05380dfa81e13ad132a5c98c44b7ca7">yarp::os::impl::PortCore::describe</a></div><div class="ttdeci">void describe(void *id, yarp::os::OutputStream *os)</div><div class="ttdoc">Produce a text description of the port and its connections.</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l01091">PortCore.cpp:1091</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Face_html_a857748b70287bd86bc3cad9d9cd18518"><div class="ttname"><a href="classyarp_1_1os_1_1Face.html#a857748b70287bd86bc3cad9d9cd18518">yarp::os::Face::close</a></div><div class="ttdeci">virtual void close()=0</div><div class="ttdoc">Stop listening.</div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Contact_html_ab3fceb3bf92cbc7b8eb9d91bda5c807e"><div class="ttname"><a href="classyarp_1_1os_1_1Contact.html#ab3fceb3bf92cbc7b8eb9d91bda5c807e">yarp::os::Contact::toURI</a></div><div class="ttdeci">std::string toURI(bool includeCarrier=true) const</div><div class="ttdoc">Get a representation of the Contact as a URI.</div><div class="ttdef"><b>Definition:</b> <a href="Contact_8cpp_source.html#l00310">Contact.cpp:310</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bottle_html_a4028cc7aa3594b406ed7415303fa07bd"><div class="ttname"><a href="classyarp_1_1os_1_1Bottle.html#a4028cc7aa3594b406ed7415303fa07bd">yarp::os::Bottle::addDict</a></div><div class="ttdeci">Property &amp; addDict()</div><div class="ttdoc">Places an empty key/value object in the bottle, at the end of the list.</div><div class="ttdef"><b>Definition:</b> <a href="Bottle_8cpp_source.html#l00170">Bottle.cpp:170</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bottle_html_a9a98533da1dfef02172cfcae62439f00"><div class="ttname"><a href="classyarp_1_1os_1_1Bottle.html#a9a98533da1dfef02172cfcae62439f00">yarp::os::Bottle::check</a></div><div class="ttdeci">bool check(const std::string &amp;key) const override</div><div class="ttdoc">Check if there exists a property of the given name.</div><div class="ttdef"><b>Definition:</b> <a href="Bottle_8cpp_source.html#l00259">Bottle.cpp:259</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_af8d25911824efdf24b4249fd4fe3ab37"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#af8d25911824efdf24b4249fd4fe3ab37">yarp::os::impl::PortCore::setName</a></div><div class="ttdeci">void setName(const std::string &amp;name)</div><div class="ttdoc">Set the name of this port.</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l02670">PortCore.cpp:2670</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bottle_html_a80fdfdfcfcaeeb1f9e9dfe27252748f2"><div class="ttname"><a href="classyarp_1_1os_1_1Bottle.html#a80fdfdfcfcaeeb1f9e9dfe27252748f2">yarp::os::Bottle::findGroup</a></div><div class="ttdeci">Bottle &amp; findGroup(const std::string &amp;key) const override</div><div class="ttdoc">Gets a list corresponding to a given keyword.</div><div class="ttdef"><b>Definition:</b> <a href="Bottle_8cpp_source.html#l00284">Bottle.cpp:284</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Face_html_af3027b57c678bcea6ea5e48d079ef24b"><div class="ttname"><a href="classyarp_1_1os_1_1Face.html#af3027b57c678bcea6ea5e48d079ef24b">yarp::os::Face::write</a></div><div class="ttdeci">virtual OutputProtocol * write(const Contact &amp;address)=0</div><div class="ttdoc">Try to reach out and talk to someone.</div></div>
<div class="ttc" id="aPortCoreInputUnit_8h_html"><div class="ttname"><a href="PortCoreInputUnit_8h.html">PortCoreInputUnit.h</a></div></div>
<div class="ttc" id="aPortCore_8cpp_html_a25609f3929096fd640a572b69e51cf14"><div class="ttname"><a href="PortCore_8cpp.html#a25609f3929096fd640a572b69e51cf14">YMSG</a></div><div class="ttdeci">#define YMSG(x)</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l00052">PortCore.cpp:52</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1NetworkBase_html_adc0c0f33c46124d85665dc4664a26501"><div class="ttname"><a href="classyarp_1_1os_1_1NetworkBase.html#adc0c0f33c46124d85665dc4664a26501">yarp::os::NetworkBase::disconnectInput</a></div><div class="ttdeci">static int disconnectInput(const std::string &amp;src, const std::string &amp;dest, bool silent=false)</div><div class="ttdoc">Sends a disconnection command to the specified port.</div><div class="ttdef"><b>Definition:</b> <a href="Network_8cpp_source.html#l01481">Network.cpp:1481</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1NetworkBase_html_a82de251f30671feefee263da7b784677"><div class="ttname"><a href="classyarp_1_1os_1_1NetworkBase.html#a82de251f30671feefee263da7b784677">yarp::os::NetworkBase::queryName</a></div><div class="ttdeci">static Contact queryName(const std::string &amp;name)</div><div class="ttdoc">Find out information about a registered name.</div><div class="ttdef"><b>Definition:</b> <a href="Network_8cpp_source.html#l00918">Network.cpp:918</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_aab3e6a7f754b7c6cb77690cd21f93956"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#aab3e6a7f754b7c6cb77690cd21f93956">yarp::os::impl::PortCore::promiseType</a></div><div class="ttdeci">void promiseType(const Type &amp;typ)</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l02814">PortCore.cpp:2814</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCorePacket_html"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCorePacket.html">yarp::os::impl::PortCorePacket</a></div><div class="ttdoc">A single message, potentially being transmitted on multiple connections.</div><div class="ttdef"><b>Definition:</b> <a href="PortCorePacket_8h_source.html#l00024">PortCorePacket.h:25</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Semaphore_html_a99bb4da0df09d6f3181c2a376dd5b8f0"><div class="ttname"><a href="classyarp_1_1os_1_1Semaphore.html#a99bb4da0df09d6f3181c2a376dd5b8f0">yarp::os::Semaphore::post</a></div><div class="ttdeci">void post()</div><div class="ttdoc">Increment the counter.</div><div class="ttdef"><b>Definition:</b> <a href="Semaphore_8cpp_source.html#l00114">Semaphore.cpp:114</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1OutputProtocol_html_a3c7586c6857bab0ba5b513984679d968"><div class="ttname"><a href="classyarp_1_1os_1_1OutputProtocol.html#a3c7586c6857bab0ba5b513984679d968">yarp::os::OutputProtocol::open</a></div><div class="ttdeci">virtual bool open(const Route &amp;route)=0</div><div class="ttdoc">Start negotiating a carrier, using the given route (this should generally match the name of the sendi...</div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1PortInfo_html_a064495d8b35c1cd2bf4e489a4498b041"><div class="ttname"><a href="classyarp_1_1os_1_1PortInfo.html#a064495d8b35c1cd2bf4e489a4498b041">yarp::os::PortInfo::targetName</a></div><div class="ttdeci">std::string targetName</div><div class="ttdoc">Name of connection target, if any.</div><div class="ttdef"><b>Definition:</b> <a href="PortInfo_8h_source.html#l00066">PortInfo.h:66</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1ThreadImpl_html_af29e147b752eae0e665957e29919646b"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1ThreadImpl.html#af29e147b752eae0e665957e29919646b">yarp::os::impl::ThreadImpl::setPriority</a></div><div class="ttdeci">int setPriority(int priority=-1, int policy=-1)</div><div class="ttdef"><b>Definition:</b> <a href="ThreadImpl_8cpp_source.html#l00306">ThreadImpl.cpp:306</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Semaphore_html_a85def09f6175a731185def2c66470bb2"><div class="ttname"><a href="classyarp_1_1os_1_1Semaphore.html#a85def09f6175a731185def2c66470bb2">yarp::os::Semaphore::check</a></div><div class="ttdeci">bool check()</div><div class="ttdoc">Decrement the counter, unless that would require waiting.</div><div class="ttdef"><b>Definition:</b> <a href="Semaphore_8cpp_source.html#l00109">Semaphore.cpp:109</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Type_html_a9cdf052fcf21debb8784a294d28ddf82"><div class="ttname"><a href="classyarp_1_1os_1_1Type.html#a9cdf052fcf21debb8784a294d28ddf82">yarp::os::Type::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00157">Type.cpp:157</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1PortReader_html"><div class="ttname"><a href="classyarp_1_1os_1_1PortReader.html">yarp::os::PortReader</a></div><div class="ttdoc">Interface implemented by all objects that can read themselves from the network, such as Bottle object...</div><div class="ttdef"><b>Definition:</b> <a href="PortReader_8h_source.html#l00027">PortReader.h:28</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bottle_html_a6cd61ddbda2c4970bbe8087cf5986e42"><div class="ttname"><a href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">yarp::os::Bottle::get</a></div><div class="ttdeci">Value &amp; get(size_type index) const</div><div class="ttdoc">Reads a Value v from a certain part of the list.</div><div class="ttdef"><b>Definition:</b> <a href="Bottle_8cpp_source.html#l00228">Bottle.cpp:228</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortDataModifier_html_af0c466c8de25ffc0fed579a5ce4bdaa7"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#af0c466c8de25ffc0fed579a5ce4bdaa7">yarp::os::impl::PortDataModifier::releaseInModifier</a></div><div class="ttdeci">void releaseInModifier()</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8h_source.html#l00129">PortCore.h:129</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1ContactStyle_html_a3fca115887cd00a15ad1dbc464151f89"><div class="ttname"><a href="classyarp_1_1os_1_1ContactStyle.html#a3fca115887cd00a15ad1dbc464151f89">yarp::os::ContactStyle::quiet</a></div><div class="ttdeci">bool quiet</div><div class="ttdoc">Suppress all outputs and warnings.</div><div class="ttdef"><b>Definition:</b> <a href="ContactStyle_8h_source.html#l00039">ContactStyle.h:39</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bottle_html_a448c494919771bd1f6294664911f4505"><div class="ttname"><a href="classyarp_1_1os_1_1Bottle.html#a448c494919771bd1f6294664911f4505">yarp::os::Bottle::addList</a></div><div class="ttdeci">Bottle &amp; addList()</div><div class="ttdoc">Places an empty nested list in the bottle, at the end of the list.</div><div class="ttdef"><b>Definition:</b> <a href="Bottle_8cpp_source.html#l00164">Bottle.cpp:164</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Contact_html_ab4312ee491059450c68ab85bb713b44f"><div class="ttname"><a href="classyarp_1_1os_1_1Contact.html#ab4312ee491059450c68ab85bb713b44f">yarp::os::Contact::getPort</a></div><div class="ttdeci">int getPort() const</div><div class="ttdoc">Get the port number associated with this Contact for socket communication.</div><div class="ttdef"><b>Definition:</b> <a href="Contact_8cpp_source.html#l00236">Contact.cpp:236</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Property_html_a037386dffde2bcc681291568da2a9ae8"><div class="ttname"><a href="classyarp_1_1os_1_1Property.html#a037386dffde2bcc681291568da2a9ae8">yarp::os::Property::toString</a></div><div class="ttdeci">std::string toString() const override</div><div class="ttdoc">Return a standard text representation of the content of the object.</div><div class="ttdef"><b>Definition:</b> <a href="Property_8cpp_source.html#l01053">Property.cpp:1053</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bottle_html_abde461d4dc645557f14ee5bce90666b9"><div class="ttname"><a href="classyarp_1_1os_1_1Bottle.html#abde461d4dc645557f14ee5bce90666b9">yarp::os::Bottle::write</a></div><div class="ttdeci">bool write(ConnectionWriter &amp;writer) const override</div><div class="ttdoc">Output a representation of the bottle to a network connection.</div><div class="ttdef"><b>Definition:</b> <a href="Bottle_8cpp_source.html#l00212">Bottle.cpp:212</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1NetworkBase_html_a3eb2f0ce13a22b3bb6b3be776625383e"><div class="ttname"><a href="classyarp_1_1os_1_1NetworkBase.html#a3eb2f0ce13a22b3bb6b3be776625383e">yarp::os::NetworkBase::unregisterName</a></div><div class="ttdeci">static Contact unregisterName(const std::string &amp;name)</div><div class="ttdoc">Removes the registration for a name from the name server.</div><div class="ttdef"><b>Definition:</b> <a href="Network_8cpp_source.html#l00946">Network.cpp:946</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1ConnectionWriter_html"><div class="ttname"><a href="classyarp_1_1os_1_1ConnectionWriter.html">yarp::os::ConnectionWriter</a></div><div class="ttdoc">An interface for writing to a network connection.</div><div class="ttdef"><b>Definition:</b> <a href="ConnectionWriter_8h_source.html#l00039">ConnectionWriter.h:40</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_ab5f1104798e52f1a17b6abaae21e83fd"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#ab5f1104798e52f1a17b6abaae21e83fd">yarp::os::impl::PortCore::getEventCount</a></div><div class="ttdeci">int getEventCount()</div><div class="ttdoc">A diagnostic for testing purposes.</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l00569">PortCore.cpp:569</a></div></div>
<div class="ttc" id="aLogger_8h_html_a3ac8e9b980e14d08fca14f4bef545c96"><div class="ttname"><a href="Logger_8h.html#a3ac8e9b980e14d08fca14f4bef545c96">YARP_DEBUG</a></div><div class="ttdeci">#define YARP_DEBUG(log, x)</div><div class="ttdef"><b>Definition:</b> <a href="Logger_8h_source.html#l00091">Logger.h:91</a></div></div>
<div class="ttc" id="astructyarp_1_1os_1_1SystemInfo_1_1ProcessInfo_html_a3404ec671d41da2e9326a4f5e9d1dcc5"><div class="ttname"><a href="structyarp_1_1os_1_1SystemInfo_1_1ProcessInfo.html#a3404ec671d41da2e9326a4f5e9d1dcc5">yarp::os::SystemInfo::ProcessInfo::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="SystemInfo_8h_source.html#l00117">SystemInfo.h:117</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1SystemClock_html_af9eba2d0a597ba1a53e6be7a47941314"><div class="ttname"><a href="classyarp_1_1os_1_1SystemClock.html#af9eba2d0a597ba1a53e6be7a47941314">yarp::os::SystemClock::delaySystem</a></div><div class="ttdeci">static void delaySystem(double seconds)</div><div class="ttdef"><b>Definition:</b> <a href="SystemClock_8cpp_source.html#l00032">SystemClock.cpp:32</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1ThreadImpl_html_a49ecde10b33d001309e8cd3dde9021b2"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1ThreadImpl.html#a49ecde10b33d001309e8cd3dde9021b2">yarp::os::impl::ThreadImpl::tid</a></div><div class="ttdeci">long tid</div><div class="ttdef"><b>Definition:</b> <a href="ThreadImpl_8h_source.html#l00073">ThreadImpl.h:73</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1PortInfo_html_a74e15e1a7067148a6868d4f5574bd2ed"><div class="ttname"><a href="classyarp_1_1os_1_1PortInfo.html#a74e15e1a7067148a6868d4f5574bd2ed">yarp::os::PortInfo::tag</a></div><div class="ttdeci">int tag</div><div class="ttdoc">Type of information.</div><div class="ttdef"><b>Definition:</b> <a href="PortInfo_8h_source.html#l00051">PortInfo.h:51</a></div></div>
<div class="ttc" id="aLogger_8h_html"><div class="ttname"><a href="Logger_8h.html">Logger.h</a></div></div>
<div class="ttc" id="aLogger_8h_html_a6d6544465d45c45fccf5b3da3969e65f"><div class="ttname"><a href="Logger_8h.html#a6d6544465d45c45fccf5b3da3969e65f">YARP_SPRINTF3</a></div><div class="ttdeci">#define YARP_SPRINTF3(log, mode, msg, a, b, c)</div><div class="ttdef"><b>Definition:</b> <a href="Logger_8h_source.html#l00116">Logger.h:116</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Contact_html_a99719343b6a9a00bcee821c9f1a1ec00"><div class="ttname"><a href="classyarp_1_1os_1_1Contact.html#a99719343b6a9a00bcee821c9f1a1ec00">yarp::os::Contact::fromString</a></div><div class="ttdeci">static Contact fromString(const std::string &amp;txt)</div><div class="ttdoc">Factory method.</div><div class="ttdef"><b>Definition:</b> <a href="Contact_8cpp_source.html#l00136">Contact.cpp:136</a></div></div>
<div class="ttc" id="aDummyConnector_8h_html"><div class="ttname"><a href="DummyConnector_8h.html">DummyConnector.h</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1ConnectionRecorder_html_a8319f5ef504aac0d578cfa2bc92b07d9"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1ConnectionRecorder.html#a8319f5ef504aac0d578cfa2bc92b07d9">yarp::os::impl::ConnectionRecorder::fini</a></div><div class="ttdeci">void fini()</div><div class="ttdoc">Call this when all reading/writing has been done.</div><div class="ttdef"><b>Definition:</b> <a href="ConnectionRecorder_8cpp_source.html#l00032">ConnectionRecorder.cpp:32</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1NetworkBase_html_a1014f143ecbb9a7ab5981bdf31edf382"><div class="ttname"><a href="classyarp_1_1os_1_1NetworkBase.html#a1014f143ecbb9a7ab5981bdf31edf382">yarp::os::NetworkBase::getLocalMode</a></div><div class="ttdeci">static bool getLocalMode()</div><div class="ttdoc">Get current value of flag &quot;localMode&quot;, see setLocalMode function.</div><div class="ttdef"><b>Definition:</b> <a href="Network_8cpp_source.html#l00977">Network.cpp:977</a></div></div>
<div class="ttc" id="aBufferedConnectionWriter_8h_html"><div class="ttname"><a href="BufferedConnectionWriter_8h.html">BufferedConnectionWriter.h</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1DummyConnector_html_a1a04b79960e5549ad75945aad8ecd5f9"><div class="ttname"><a href="classyarp_1_1os_1_1DummyConnector.html#a1a04b79960e5549ad75945aad8ecd5f9">yarp::os::DummyConnector::getWriter</a></div><div class="ttdeci">ConnectionWriter &amp; getWriter()</div><div class="ttdoc">Get the dummy ConnectionWriter loaded with whatever was written the ConnectionWriter since it was las...</div><div class="ttdef"><b>Definition:</b> <a href="DummyConnector_8cpp_source.html#l00108">DummyConnector.cpp:108</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Contact_html_af2a116251afbc6e825c6cbe497812126"><div class="ttname"><a href="classyarp_1_1os_1_1Contact.html#af2a116251afbc6e825c6cbe497812126">yarp::os::Contact::getCarrier</a></div><div class="ttdeci">std::string getCarrier() const</div><div class="ttdoc">Get the carrier associated with this Contact for socket communication.</div><div class="ttdef"><b>Definition:</b> <a href="Contact_8cpp_source.html#l00247">Contact.cpp:247</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_a1e1d0fc512f36e866c6588c82af81a60"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#a1e1d0fc512f36e866c6588c82af81a60">yarp::os::impl::PortCore::readBlock</a></div><div class="ttdeci">bool readBlock(ConnectionReader &amp;reader, void *id, yarp::os::OutputStream *os)</div><div class="ttdoc">Read a block of regular payload data.</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l01245">PortCore.cpp:1245</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_a6e4bfe27b71390385c3a04f7aa474edf"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#a6e4bfe27b71390385c3a04f7aa474edf">yarp::os::impl::PortCore::sendHelper</a></div><div class="ttdeci">bool sendHelper(const yarp::os::PortWriter &amp;writer, int mode, yarp::os::PortReader *reader=nullptr, const yarp::os::PortWriter *callback=nullptr)</div><div class="ttdoc">Send a message with a specific mode (normal or log).</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l01318">PortCore.cpp:1318</a></div></div>
<div class="ttc" id="aPortCore_8cpp_html_a00e2a36adbade62027912e7edfb50337"><div class="ttname"><a href="PortCore_8cpp.html#a00e2a36adbade62027912e7edfb50337">__tcp_check</a></div><div class="ttdeci">static bool __tcp_check(const Contact &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l01567">PortCore.cpp:1567</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_aa81fca006e4881dcbb20a361811d4978"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#aa81fca006e4881dcbb20a361811d4978">yarp::os::impl::PortCore::reportUnit</a></div><div class="ttdeci">void reportUnit(PortCoreUnit *unit, bool active)</div><div class="ttdoc">Called by a connection handler with active=true just after it is fully configured,...</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l02593">PortCore.cpp:2593</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Value_html_af2125ceb5eb007b6cd6ab77666682117"><div class="ttname"><a href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">yarp::os::Value::asString</a></div><div class="ttdeci">virtual std::string asString() const</div><div class="ttdoc">Get string value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00237">Value.cpp:237</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1PortReaderCreator_html"><div class="ttname"><a href="classyarp_1_1os_1_1PortReaderCreator.html">yarp::os::PortReaderCreator</a></div><div class="ttdoc">A creator for readers.</div><div class="ttdef"><b>Definition:</b> <a href="PortReaderCreator_8h_source.html#l00033">PortReaderCreator.h:34</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1SystemInfo_html_a3a35365778e4ea75ae8567c17786350c"><div class="ttname"><a href="classyarp_1_1os_1_1SystemInfo.html#a3a35365778e4ea75ae8567c17786350c">yarp::os::SystemInfo::getProcessInfo</a></div><div class="ttdeci">static ProcessInfo getProcessInfo(int pid=0)</div><div class="ttdoc">gets the operating system process information given by its PID.</div><div class="ttdef"><b>Definition:</b> <a href="SystemInfo_8cpp_source.html#l00799">SystemInfo.cpp:799</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Connection_html_a99abb5ba6cc9664048dfb5a857cf5101"><div class="ttname"><a href="classyarp_1_1os_1_1Connection.html#a99abb5ba6cc9664048dfb5a857cf5101">yarp::os::Connection::isPush</a></div><div class="ttdeci">virtual bool isPush() const =0</div><div class="ttdoc">Check if carrier is &quot;push&quot; or &quot;pull&quot; style.</div></div>
<div class="ttc" id="alibYARP__OS_2include_2yarp_2os_2impl_2PlatformUnistd_8h_html"><div class="ttname"><a href="libYARP__OS_2include_2yarp_2os_2impl_2PlatformUnistd_8h.html">PlatformUnistd.h</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1ThreadImpl_html_a0d2ec9347ab0d4ab0ccaf4a7e98578b4"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1ThreadImpl.html#a0d2ec9347ab0d4ab0ccaf4a7e98578b4">yarp::os::impl::ThreadImpl::join</a></div><div class="ttdeci">int join(double seconds=-1)</div><div class="ttdef"><b>Definition:</b> <a href="ThreadImpl_8cpp_source.html#l00157">ThreadImpl.cpp:157</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1PortInfo_html_a387960ef14bdfb1ff323563b51a6b973"><div class="ttname"><a href="classyarp_1_1os_1_1PortInfo.html#a387960ef14bdfb1ff323563b51a6b973">yarp::os::PortInfo::incoming</a></div><div class="ttdeci">bool incoming</div><div class="ttdoc">True if a connection is incoming, false if outgoing.</div><div class="ttdef"><b>Definition:</b> <a href="PortInfo_8h_source.html#l00054">PortInfo.h:54</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_a719067384be0a38d599407291b864dd0"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#a719067384be0a38d599407291b864dd0">yarp::os::impl::PortCore::removeOutput</a></div><div class="ttdeci">void removeOutput(const std::string &amp;dest, void *id, yarp::os::OutputStream *os)</div><div class="ttdoc">Remove an output connection.</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l01059">PortCore.cpp:1059</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_af89a3efb765bec56d72559a4273486f6"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#af89a3efb765bec56d72559a4273486f6">yarp::os::impl::PortCore::getPortModifier</a></div><div class="ttdeci">yarp::os::impl::PortDataModifier &amp; getPortModifier()</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l02789">PortCore.cpp:2789</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Name_html_ad2eb8a0ade261728318e33c80dc5bf4c"><div class="ttname"><a href="classyarp_1_1os_1_1Name.html#ad2eb8a0ade261728318e33c80dc5bf4c">yarp::os::Name::getCarrierModifier</a></div><div class="ttdeci">std::string getCarrierModifier(const char *mod, bool *hasModifier=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Name_8cpp_source.html#l00047">Name.cpp:47</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1OutputProtocol_html_a3162d0c12914b3b657e27431982f27c4"><div class="ttname"><a href="classyarp_1_1os_1_1OutputProtocol.html#a3162d0c12914b3b657e27431982f27c4">yarp::os::OutputProtocol::getConnection</a></div><div class="ttdeci">virtual Connection &amp; getConnection()=0</div><div class="ttdoc">Get the connection whose protocol operations we are managing.</div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1OutputProtocol_html_ab98fd4f2a9a0772e6590adc551732642"><div class="ttname"><a href="classyarp_1_1os_1_1OutputProtocol.html#ab98fd4f2a9a0772e6590adc551732642">yarp::os::OutputProtocol::rename</a></div><div class="ttdeci">virtual void rename(const Route &amp;route)=0</div><div class="ttdoc">Relabel the route after the fact (e.g.</div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_a73de639015f84de9c709ba975c5e60b2"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#a73de639015f84de9c709ba975c5e60b2">yarp::os::impl::PortCore::setControlRegistration</a></div><div class="ttdeci">void setControlRegistration(bool flag)</div><div class="ttdoc">Normally the port will unregister its name with the name server when shutting down.</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l02705">PortCore.cpp:2705</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1PortInfo_html_a5b2eaba96cf4a8bd32a4678defd9d486"><div class="ttname"><a href="classyarp_1_1os_1_1PortInfo.html#a5b2eaba96cf4a8bd32a4678defd9d486">yarp::os::PortInfo::portName</a></div><div class="ttdeci">std::string portName</div><div class="ttdoc">Name of port.</div><div class="ttdef"><b>Definition:</b> <a href="PortInfo_8h_source.html#l00060">PortInfo.h:60</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1BufferedConnectionWriter_html_a20161eb2b98d08aca292823b670bcb7a"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1BufferedConnectionWriter.html#a20161eb2b98d08aca292823b670bcb7a">yarp::os::impl::BufferedConnectionWriter::toString</a></div><div class="ttdeci">std::string toString() const</div><div class="ttdef"><b>Definition:</b> <a href="BufferedConnectionWriter_8cpp_source.html#l00475">BufferedConnectionWriter.cpp:475</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCoreUnit_html_aa3af6a7ac6bed766fe03c8a6f365f932"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#aa3af6a7ac6bed766fe03c8a6f365f932">yarp::os::impl::PortCoreUnit::isOutput</a></div><div class="ttdeci">virtual bool isOutput()</div><div class="ttdef"><b>Definition:</b> <a href="PortCoreUnit_8h_source.html#l00065">PortCoreUnit.h:65</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Value_html_ac232fce34f45ca6b07d6b89d08bb2dab"><div class="ttname"><a href="classyarp_1_1os_1_1Value.html#ac232fce34f45ca6b07d6b89d08bb2dab">yarp::os::Value::isNull</a></div><div class="ttdeci">bool isNull() const override</div><div class="ttdoc">Checks if the object is invalid.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00383">Value.cpp:383</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCoreUnit_html_ad05bf19f5f5b76dda3e608af2ae5aa9b"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#ad05bf19f5f5b76dda3e608af2ae5aa9b">yarp::os::impl::PortCoreUnit::isPupped</a></div><div class="ttdeci">bool isPupped() const</div><div class="ttdef"><b>Definition:</b> <a href="PortCoreUnit_8h_source.html#l00225">PortCoreUnit.h:225</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_af3557d6ca0342897c5dd4fd57e989497"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#af3557d6ca0342897c5dd4fd57e989497">yarp::os::impl::PortCore::setReadCreator</a></div><div class="ttdeci">void setReadCreator(yarp::os::PortReaderCreator &amp;creator)</div><div class="ttdoc">Set a callback for creating callbacks for incoming data.</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l00195">PortCore.cpp:195</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bottle_html_ac5ff63ea20f6c877e5c4541121f98482"><div class="ttname"><a href="classyarp_1_1os_1_1Bottle.html#ac5ff63ea20f6c877e5c4541121f98482">yarp::os::Bottle::addInt32</a></div><div class="ttdeci">void addInt32(std::int32_t x)</div><div class="ttdoc">Places a 32-bit integer in the bottle, at the end of the list.</div><div class="ttdef"><b>Definition:</b> <a href="Bottle_8cpp_source.html#l00122">Bottle.cpp:122</a></div></div>
<div class="ttc" id="anamespaceyarp_1_1os_1_1Vocab_html_a5fea2e97a90e8498859ae92feb94ecee"><div class="ttname"><a href="namespaceyarp_1_1os_1_1Vocab.html#a5fea2e97a90e8498859ae92feb94ecee">yarp::os::Vocab::encode</a></div><div class="ttdeci">NetInt32 encode(const std::string &amp;str)</div><div class="ttdoc">Convert a string into a vocabulary identifier.</div><div class="ttdef"><b>Definition:</b> <a href="Vocab_8cpp_source.html#l00014">Vocab.cpp:14</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1NetworkBase_html_a04a072adde94ed3ae23263d627d03db0"><div class="ttname"><a href="classyarp_1_1os_1_1NetworkBase.html#a04a072adde94ed3ae23263d627d03db0">yarp::os::NetworkBase::initialized</a></div><div class="ttdeci">static bool initialized()</div><div class="ttdoc">Returns true if YARP has been fully initialized.</div><div class="ttdef"><b>Definition:</b> <a href="Network_8cpp_source.html#l01312">Network.cpp:1312</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCoreUnit_html_acc22098d7fb154322d05c91bbae7bd17"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#acc22098d7fb154322d05c91bbae7bd17">yarp::os::impl::PortCoreUnit::isDoomed</a></div><div class="ttdeci">bool isDoomed()</div><div class="ttdef"><b>Definition:</b> <a href="PortCoreUnit_8h_source.html#l00092">PortCoreUnit.h:92</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1OutputProtocol_html_a5f68a670e7b06de33ab13f93303c92d9"><div class="ttname"><a href="classyarp_1_1os_1_1OutputProtocol.html#a5f68a670e7b06de33ab13f93303c92d9">yarp::os::OutputProtocol::attachPort</a></div><div class="ttdeci">virtual void attachPort(Contactable *port)=0</div><div class="ttdoc">Set the port to be associated with the connection.</div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortDataModifier_html_a48939242d69aeb5a587e5fe38a8fc7e3"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#a48939242d69aeb5a587e5fe38a8fc7e3">yarp::os::impl::PortDataModifier::inputModifier</a></div><div class="ttdeci">yarp::os::Carrier * inputModifier</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8h_source.html#l00140">PortCore.h:140</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCorePackets_html_ae50b54056336dc2048b733007541c235"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCorePackets.html#ae50b54056336dc2048b733007541c235">yarp::os::impl::PortCorePackets::getFreePacket</a></div><div class="ttdeci">PortCorePacket * getFreePacket()</div><div class="ttdoc">Get a packet that we can prepare for sending.</div><div class="ttdef"><b>Definition:</b> <a href="PortCorePackets_8h_source.html#l00070">PortCorePackets.h:70</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_a4caec87ab885da0c9c581c727e4c2771"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#a4caec87ab885da0c9c581c727e4c2771">yarp::os::impl::PortCore::getReadCreator</a></div><div class="ttdeci">yarp::os::PortReaderCreator * getReadCreator()</div><div class="ttdoc">Get the creator of callbacks.</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l02700">PortCore.cpp:2700</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1QosStyle_html_a18c75b3e75daf971d0bba7213f8c4250"><div class="ttname"><a href="classyarp_1_1os_1_1QosStyle.html#a18c75b3e75daf971d0bba7213f8c4250">yarp::os::QosStyle::PacketPriorityDSCP</a></div><div class="ttdeci">PacketPriorityDSCP</div><div class="ttdoc">The PacketPriorityDSCP defines the packets quality of service (priority) using DSCP.</div><div class="ttdef"><b>Definition:</b> <a href="QosStyle_8h_source.html#l00047">QosStyle.h:48</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_a5d6443f8c42ec47f339021115e476f50"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#a5d6443f8c42ec47f339021115e476f50">yarp::os::impl::PortCore::~PortCore</a></div><div class="ttdeci">~PortCore()</div><div class="ttdoc">Destructor.</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l00101">PortCore.cpp:101</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Name_html"><div class="ttname"><a href="classyarp_1_1os_1_1Name.html">yarp::os::Name</a></div><div class="ttdoc">Simple abstraction for a YARP port name.</div><div class="ttdef"><b>Definition:</b> <a href="Name_8h_source.html#l00021">Name.h:22</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1StringInputStream_html"><div class="ttname"><a href="classyarp_1_1os_1_1StringInputStream.html">yarp::os::StringInputStream</a></div><div class="ttdoc">An InputStream that reads from a string.</div><div class="ttdef"><b>Definition:</b> <a href="StringInputStream_8h_source.html#l00024">StringInputStream.h:25</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1PortInfo_html_a3a7681cf07b560ecf6c2a792387fb89f"><div class="ttname"><a href="classyarp_1_1os_1_1PortInfo.html#a3a7681cf07b560ecf6c2a792387fb89f">yarp::os::PortInfo::message</a></div><div class="ttdeci">std::string message</div><div class="ttdoc">A human-readable description of contents.</div><div class="ttdef"><b>Definition:</b> <a href="PortInfo_8h_source.html#l00072">PortInfo.h:72</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Carriers_html_ab2ea374bd361e86f390c03ecd4575725"><div class="ttname"><a href="classyarp_1_1os_1_1Carriers.html#ab2ea374bd361e86f390c03ecd4575725">yarp::os::Carriers::connect</a></div><div class="ttdeci">static OutputProtocol * connect(const Contact &amp;address)</div><div class="ttdoc">Initiate a connection to an address.</div><div class="ttdef"><b>Definition:</b> <a href="Carriers_8cpp_source.html#l00281">Carriers.cpp:281</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_a9cef611ab83f3467466f0397236455c9"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#a9cef611ab83f3467466f0397236455c9">yarp::os::impl::PortCore::manualStart</a></div><div class="ttdeci">bool manualStart(const char *sourceName)</div><div class="ttdoc">Start up the port, but without a main thread.</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l00352">PortCore.cpp:352</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Property_html_a4cacd648b54c5a331f0ff5265d3b5680"><div class="ttname"><a href="classyarp_1_1os_1_1Property.html#a4cacd648b54c5a331f0ff5265d3b5680">yarp::os::Property::check</a></div><div class="ttdeci">bool check(const std::string &amp;key) const override</div><div class="ttdoc">Check if there exists a property of the given name.</div><div class="ttdef"><b>Definition:</b> <a href="Property_8cpp_source.html#l01014">Property.cpp:1014</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1ConnectionReader_html_afd226b728d427470ff6659a6df4d9e54"><div class="ttname"><a href="classyarp_1_1os_1_1ConnectionReader.html#afd226b728d427470ff6659a6df4d9e54">yarp::os::ConnectionReader::getWriter</a></div><div class="ttdeci">virtual ConnectionWriter * getWriter()=0</div><div class="ttdoc">Gets a way to reply to the message, if possible.</div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortDataModifier_html_aa53b8ec7e55b5bd0810b2ee75409c717"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortDataModifier.html#aa53b8ec7e55b5bd0810b2ee75409c717">yarp::os::impl::PortDataModifier::inputMutex</a></div><div class="ttdeci">std::mutex inputMutex</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8h_source.html#l00142">PortCore.h:142</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1PortReader_html_ac2721ee0ddedcae62b28b84c5c1be871"><div class="ttname"><a href="classyarp_1_1os_1_1PortReader.html#ac2721ee0ddedcae62b28b84c5c1be871">yarp::os::PortReader::getReadType</a></div><div class="ttdeci">virtual Type getReadType() const</div><div class="ttdef"><b>Definition:</b> <a href="PortReader_8cpp_source.html#l00015">PortReader.cpp:15</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCoreUnit_html_ae8524cbc3dce2d86f9f2e805af04c9ea"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#ae8524cbc3dce2d86f9f2e805af04c9ea">yarp::os::impl::PortCoreUnit::getIndex</a></div><div class="ttdeci">int getIndex()</div><div class="ttdef"><b>Definition:</b> <a href="PortCoreUnit_8h_source.html#l00198">PortCoreUnit.h:198</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_aacd29c2486ddccf80d90412883d87902"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#aacd29c2486ddccf80d90412883d87902">yarp::os::impl::PortCore::releaseProperties</a></div><div class="ttdeci">void releaseProperties(Property *prop)</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l02659">PortCore.cpp:2659</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1PortWriter_html_a4f2436840eac46540a23f5a0c5e8043d"><div class="ttname"><a href="classyarp_1_1os_1_1PortWriter.html#a4f2436840eac46540a23f5a0c5e8043d">yarp::os::PortWriter::write</a></div><div class="ttdeci">virtual bool write(ConnectionWriter &amp;writer) const =0</div><div class="ttdoc">Write this object to a network connection.</div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bottle_html_ad5bc9c6a71cde0b2bec814f3b632e28a"><div class="ttname"><a href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">yarp::os::Bottle::addString</a></div><div class="ttdeci">void addString(const char *str)</div><div class="ttdoc">Places a string in the bottle, at the end of the list.</div><div class="ttdef"><b>Definition:</b> <a href="Bottle_8cpp_source.html#l00152">Bottle.cpp:152</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1InputProtocol_html_af3f4aa1b5075b04e93a4be8172756768"><div class="ttname"><a href="classyarp_1_1os_1_1InputProtocol.html#af3f4aa1b5075b04e93a4be8172756768">yarp::os::InputProtocol::attachPort</a></div><div class="ttdeci">virtual void attachPort(Contactable *port)=0</div><div class="ttdoc">Set the port to be associated with the connection.</div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1OutputProtocol_html_adbd68db6c48ccaf8355dbc4ef9d6d6f4"><div class="ttname"><a href="classyarp_1_1os_1_1OutputProtocol.html#adbd68db6c48ccaf8355dbc4ef9d6d6f4">yarp::os::OutputProtocol::isOk</a></div><div class="ttdeci">virtual bool isOk() const =0</div><div class="ttdoc">Check if the connection is valid and can be used.</div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1OutputProtocol_html_a9b62009573d9b109ffa037d0b4bdaa39"><div class="ttname"><a href="classyarp_1_1os_1_1OutputProtocol.html#a9b62009573d9b109ffa037d0b4bdaa39">yarp::os::OutputProtocol::close</a></div><div class="ttdeci">virtual void close()=0</div><div class="ttdoc">Negotiate an end to operations.</div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bottle_html_a6841d4c88db1245ad08dbefdb58353aa"><div class="ttname"><a href="classyarp_1_1os_1_1Bottle.html#a6841d4c88db1245ad08dbefdb58353aa">yarp::os::Bottle::addVocab</a></div><div class="ttdeci">void addVocab(int x)</div><div class="ttdoc">Places a vocabulary item in the bottle, at the end of the list.</div><div class="ttdef"><b>Definition:</b> <a href="Bottle_8cpp_source.html#l00146">Bottle.cpp:146</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCoreUnit_html_a9f13121f8e63022472d45747fb1c77b8"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a9f13121f8e63022472d45747fb1c77b8">yarp::os::impl::PortCoreUnit::getMode</a></div><div class="ttdeci">std::string getMode(bool *hasMode=nullptr)</div><div class="ttdoc">Read the &quot;mode&quot; of the connection - basically, whether it is used for logging or not.</div><div class="ttdef"><b>Definition:</b> <a href="PortCoreUnit_8h_source.html#l00211">PortCoreUnit.h:211</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_ac4c0cffc29af608969842cee090f0b3e"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#ac4c0cffc29af608969842cee090f0b3e">yarp::os::impl::PortCore::isWriting</a></div><div class="ttdeci">bool isWriting()</div><div class="ttdoc">Check if a message is currently being sent.</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l01442">PortCore.cpp:1442</a></div></div>
<div class="ttc" id="aPortCore_8cpp_html_a25283556cbdb3c44849d7534f077330c"><div class="ttname"><a href="PortCore_8cpp.html#a25283556cbdb3c44849d7534f077330c">STANZA</a></div><div class="ttdeci">#define STANZA(name, tag, val)</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l01538">PortCore.cpp:1538</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_a6e659482cf815b8c45a7db1b7c15978c"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#a6e659482cf815b8c45a7db1b7c15978c">yarp::os::impl::PortCore::tryLockCallback</a></div><div class="ttdeci">bool tryLockCallback()</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l02772">PortCore.cpp:2772</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bottle_html_ad014b5d06b10e037c462abfcf34a9e45"><div class="ttname"><a href="classyarp_1_1os_1_1Bottle.html#ad014b5d06b10e037c462abfcf34a9e45">yarp::os::Bottle::isNull</a></div><div class="ttdeci">bool isNull() const override</div><div class="ttdoc">Checks if the object is invalid.</div><div class="ttdef"><b>Definition:</b> <a href="Bottle_8cpp_source.html#l00352">Bottle.cpp:352</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1OutputProtocol_html_ace222f2295441c4e573955e39707ca84"><div class="ttname"><a href="classyarp_1_1os_1_1OutputProtocol.html#ace222f2295441c4e573955e39707ca84">yarp::os::OutputProtocol::setTimeout</a></div><div class="ttdeci">virtual bool setTimeout(double timeout)=0</div><div class="ttdoc">Set the timeout to be used for network operations.</div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_ab88461a190178bda4bb9538b583e330c"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#ab88461a190178bda4bb9538b583e330c">yarp::os::impl::PortCore::getAddress</a></div><div class="ttdeci">const Contact &amp; getAddress() const</div><div class="ttdoc">Get the address associated with the port.</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l02690">PortCore.cpp:2690</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1ConnectionReader_html"><div class="ttname"><a href="classyarp_1_1os_1_1ConnectionReader.html">yarp::os::ConnectionReader</a></div><div class="ttdoc">An interface for reading from a network connection.</div><div class="ttdef"><b>Definition:</b> <a href="ConnectionReader_8h_source.html#l00039">ConnectionReader.h:40</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_a8c5b07bb4baac9b2379177111691421e"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#a8c5b07bb4baac9b2379177111691421e">yarp::os::impl::PortCore::setVerbosity</a></div><div class="ttdeci">void setVerbosity(int level)</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l02730">PortCore.cpp:2730</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_af1374cb46185fb1098cffe5707a6d1d2"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#af1374cb46185fb1098cffe5707a6d1d2">yarp::os::impl::PortCore::resetReportCallback</a></div><div class="ttdeci">void resetReportCallback()</div><div class="ttdoc">Reset the callback to be notified of changes in port status.</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l01224">PortCore.cpp:1224</a></div></div>
<div class="ttc" id="aStringOutputStream_8h_html"><div class="ttname"><a href="StringOutputStream_8h.html">StringOutputStream.h</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_afc60ce475843305ac2afffcfae29c27b"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#afc60ce475843305ac2afffcfae29c27b">yarp::os::impl::PortCore::addOutput</a></div><div class="ttdeci">bool addOutput(const std::string &amp;dest, void *id, yarp::os::OutputStream *os, bool onlyIfNeeded=false)</div><div class="ttdoc">Add an output connection to this port.</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l00888">PortCore.cpp:888</a></div></div>
<div class="ttc" id="astructyarp_1_1os_1_1SystemInfo_1_1ProcessInfo_html_a55c22f1fc0b455e8dda5e2add332123e"><div class="ttname"><a href="structyarp_1_1os_1_1SystemInfo_1_1ProcessInfo.html#a55c22f1fc0b455e8dda5e2add332123e">yarp::os::SystemInfo::ProcessInfo::schedPriority</a></div><div class="ttdeci">int schedPriority</div><div class="ttdef"><b>Definition:</b> <a href="SystemInfo_8h_source.html#l00120">SystemInfo.h:120</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1NetType_html_a1839fddc4142227cf438aaf9d7eafd26"><div class="ttname"><a href="classyarp_1_1os_1_1NetType.html#a1839fddc4142227cf438aaf9d7eafd26">yarp::os::NetType::toString</a></div><div class="ttdeci">static std::string toString(int x)</div><div class="ttdef"><b>Definition:</b> <a href="NetType_8cpp_source.html#l00048">NetType.cpp:48</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1PortWriter_html_acdb4f57e2b289ba678fd83f8f5541963"><div class="ttname"><a href="classyarp_1_1os_1_1PortWriter.html#acdb4f57e2b289ba678fd83f8f5541963">yarp::os::PortWriter::onCommencement</a></div><div class="ttdeci">virtual void onCommencement() const</div><div class="ttdoc">This is called when the port is about to begin writing operations.</div><div class="ttdef"><b>Definition:</b> <a href="PortWriter_8cpp_source.html#l00020">PortWriter.cpp:20</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Value_html_a4775a45e57c40460b0202c74f1a9bc4e"><div class="ttname"><a href="classyarp_1_1os_1_1Value.html#a4775a45e57c40460b0202c74f1a9bc4e">yarp::os::Value::asInt32</a></div><div class="ttdeci">virtual std::int32_t asInt32() const</div><div class="ttdoc">Get 32-bit integer value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00207">Value.cpp:207</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCoreUnit_html_a83075610e9e149c305d405cee3ee28d0"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a83075610e9e149c305d405cee3ee28d0">yarp::os::impl::PortCoreUnit::send</a></div><div class="ttdeci">virtual void * send(const yarp::os::PortWriter &amp;writer, yarp::os::PortReader *reader, const yarp::os::PortWriter *callback, void *tracker, const std::string &amp;envelope, bool waitAfter=true, bool waitBefore=true, bool *gotReply=nullptr)</div><div class="ttdoc">Send a message on the connection.</div><div class="ttdef"><b>Definition:</b> <a href="PortCoreUnit_8h_source.html#l00130">PortCoreUnit.h:130</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCoreOutputUnit_html"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCoreOutputUnit.html">yarp::os::impl::PortCoreOutputUnit</a></div><div class="ttdoc">Manager for a single output from a port.</div><div class="ttdef"><b>Definition:</b> <a href="PortCoreOutputUnit_8h_source.html#l00028">PortCoreOutputUnit.h:30</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_a94063eddd63a6bc8bbabc7a5317951c2"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#a94063eddd63a6bc8bbabc7a5317951c2">yarp::os::impl::PortCore::getInputCount</a></div><div class="ttdeci">int getInputCount()</div><div class="ttdoc">Check how many input connections there are.</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l01464">PortCore.cpp:1464</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1ContactStyle_html_a4a1da6152a18a8e1fa0f1c7ebd848af9"><div class="ttname"><a href="classyarp_1_1os_1_1ContactStyle.html#a4a1da6152a18a8e1fa0f1c7ebd848af9">yarp::os::ContactStyle::carrier</a></div><div class="ttdeci">std::string carrier</div><div class="ttdoc">Request that communication be made using a particular carrier.</div><div class="ttdef"><b>Definition:</b> <a href="ContactStyle_8h_source.html#l00056">ContactStyle.h:56</a></div></div>
<div class="ttc" id="astructyarp_1_1os_1_1SystemInfo_1_1ProcessInfo_html"><div class="ttname"><a href="structyarp_1_1os_1_1SystemInfo_1_1ProcessInfo.html">yarp::os::SystemInfo::ProcessInfo</a></div><div class="ttdoc">The ProcessInfo struct provides the operating system process information.</div><div class="ttdef"><b>Definition:</b> <a href="SystemInfo_8h_source.html#l00115">SystemInfo.h:116</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_ad0853f1170a90b5f29e6ce70a794d439"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#ad0853f1170a90b5f29e6ce70a794d439">yarp::os::impl::PortCore::removeInput</a></div><div class="ttdeci">void removeInput(const std::string &amp;src, void *id, yarp::os::OutputStream *os)</div><div class="ttdoc">Remove an input connection.</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l01075">PortCore.cpp:1075</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_a5842f5cd130a654943984d93c248f2af"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#a5842f5cd130a654943984d93c248f2af">yarp::os::impl::PortCore::setEnvelope</a></div><div class="ttdeci">void setEnvelope(const std::string &amp;envelope)</div><div class="ttdoc">Set some envelope information to pass along with a message without actually being part of the message...</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l01507">PortCore.cpp:1507</a></div></div>
<div class="ttc" id="anamespaceyarp_1_1os_html"><div class="ttname"><a href="namespaceyarp_1_1os.html">yarp::os</a></div><div class="ttdoc">An interface to the operating system, including Port based communication.</div><div class="ttdef"><b>Definition:</b> <a href="AbstractCarrier_8h_source.html#l00017">AbstractCarrier.h:17</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1ThreadImpl_html_a860b3adee344a1955769aea36cbe6e54"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1ThreadImpl.html#a860b3adee344a1955769aea36cbe6e54">yarp::os::impl::ThreadImpl::getPriority</a></div><div class="ttdeci">int getPriority()</div><div class="ttdef"><b>Definition:</b> <a href="ThreadImpl_8cpp_source.html#l00337">ThreadImpl.cpp:337</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1Logger_html"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1Logger.html">yarp::os::impl::Logger</a></div><div class="ttdoc">This is a wrapper for message logging.</div><div class="ttdef"><b>Definition:</b> <a href="Logger_8h_source.html#l00034">Logger.h:35</a></div></div>
<div class="ttc" id="aPortCore_8h_html_a71b6c0484a6f448aba810ee8b2cf6769"><div class="ttname"><a href="PortCore_8h.html#a71b6c0484a6f448aba810ee8b2cf6769">PORTCORE_IS_OUTPUT</a></div><div class="ttdeci">#define PORTCORE_IS_OUTPUT</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8h_source.html#l00045">PortCore.h:45</a></div></div>
<div class="ttc" id="aPortCore_8h_html"><div class="ttname"><a href="PortCore_8h.html">PortCore.h</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_a156ac617de494986aa090f419117368c"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#a156ac617de494986aa090f419117368c">yarp::os::impl::PortCore::getVerbosity</a></div><div class="ttdeci">int getVerbosity()</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l02735">PortCore.cpp:2735</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Contact_html_a44450481ce5c8dd99f3a75eb9c8f310f"><div class="ttname"><a href="classyarp_1_1os_1_1Contact.html#a44450481ce5c8dd99f3a75eb9c8f310f">yarp::os::Contact::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdoc">Checks if a Contact is tagged as valid.</div><div class="ttdef"><b>Definition:</b> <a href="Contact_8cpp_source.html#l00295">Contact.cpp:295</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCoreUnit_html_acaf2454294b8327abffee72700b31517"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#acaf2454294b8327abffee72700b31517">yarp::os::impl::PortCoreUnit::setCarrierParams</a></div><div class="ttdeci">virtual void setCarrierParams(const yarp::os::Property &amp;params)</div><div class="ttdoc">Set arbitrary parameters for this connection.</div><div class="ttdef"><b>Definition:</b> <a href="PortCoreUnit_8h_source.html#l00261">PortCoreUnit.h:261</a></div></div>
<div class="ttc" id="astructyarp_1_1os_1_1SystemInfo_1_1ProcessInfo_html_a613ca4ce3b5504dbd3874b563b0836e6"><div class="ttname"><a href="structyarp_1_1os_1_1SystemInfo_1_1ProcessInfo.html#a613ca4ce3b5504dbd3874b563b0836e6">yarp::os::SystemInfo::ProcessInfo::schedPolicy</a></div><div class="ttdeci">int schedPolicy</div><div class="ttdef"><b>Definition:</b> <a href="SystemInfo_8h_source.html#l00119">SystemInfo.h:119</a></div></div>
<div class="ttc" id="anamespaceyarp_html"><div class="ttname"><a href="namespaceyarp.html">yarp</a></div><div class="ttdoc">The main, catch-all namespace for YARP.</div><div class="ttdef"><b>Definition:</b> <a href="numeric_8h_source.html#l00047">numeric.h:47</a></div></div>
<div class="ttc" id="ayarp-v3_82-build_2src_2libYARP__conf_2include_2yarp_2conf_2api_8h_html_a115a3e86265819f41c93ff12c2538d1f"><div class="ttname"><a href="yarp-v3_82-build_2src_2libYARP__conf_2include_2yarp_2conf_2api_8h.html#a115a3e86265819f41c93ff12c2538d1f">YARP_UNUSED</a></div><div class="ttdeci">#define YARP_UNUSED(var)</div><div class="ttdef"><b>Definition:</b> <a href="yarp-v3_82-build_2src_2libYARP__conf_2include_2yarp_2conf_2api_8h_source.html#l00159">api.h:159</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCoreInputUnit_html"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCoreInputUnit.html">yarp::os::impl::PortCoreInputUnit</a></div><div class="ttdoc">Manager for a single input to a port.</div><div class="ttdef"><b>Definition:</b> <a href="PortCoreInputUnit_8h_source.html#l00027">PortCoreInputUnit.h:29</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_a6d023a11054f9147d3ffa6c0a5a8c7ac"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#a6d023a11054f9147d3ffa6c0a5a8c7ac">yarp::os::impl::PortCore::report</a></div><div class="ttdeci">void report(const yarp::os::PortInfo &amp;info)</div><div class="ttdoc">Handle a port event (connection, disconnection, etc) Generate a description of the connections associ...</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l01231">PortCore.cpp:1231</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Carrier_html_a0c49ae9435acb10b3ec4cd49bd793e8b"><div class="ttname"><a href="classyarp_1_1os_1_1Carrier.html#a0c49ae9435acb10b3ec4cd49bd793e8b">yarp::os::Carrier::getCarrierParams</a></div><div class="ttdeci">void getCarrierParams(Property &amp;params) const override</div><div class="ttdoc">Get carrier configuration and deliver it by port administrative commands.</div><div class="ttdef"><b>Definition:</b> <a href="Carrier_8cpp_source.html#l00123">Carrier.cpp:123</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Contact_html_af2fa156ae18485d859ef8c859f43eca1"><div class="ttname"><a href="classyarp_1_1os_1_1Contact.html#af2fa156ae18485d859ef8c859f43eca1">yarp::os::Contact::getHost</a></div><div class="ttdeci">std::string getHost() const</div><div class="ttdoc">Get the host name associated with this Contact for socket communication.</div><div class="ttdef"><b>Definition:</b> <a href="Contact_8cpp_source.html#l00225">Contact.cpp:225</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_a1f9baef482bd6249790a439c7eb3329f"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#a1f9baef482bd6249790a439c7eb3329f">yarp::os::impl::PortCore::setReportCallback</a></div><div class="ttdeci">void setReportCallback(yarp::os::PortReport *reporter)</div><div class="ttdoc">Set a callback to be notified of changes in port status.</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l01215">PortCore.cpp:1215</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bottle_html_a5a8c78ecc16426da099d04312dcc47dc"><div class="ttname"><a href="classyarp_1_1os_1_1Bottle.html#a5a8c78ecc16426da099d04312dcc47dc">yarp::os::Bottle::read</a></div><div class="ttdeci">bool read(ConnectionReader &amp;reader) override</div><div class="ttdoc">Set the bottle's value based on input from a network connection.</div><div class="ttdef"><b>Definition:</b> <a href="Bottle_8cpp_source.html#l00222">Bottle.cpp:222</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Contact_html"><div class="ttname"><a href="classyarp_1_1os_1_1Contact.html">yarp::os::Contact</a></div><div class="ttdoc">Represents how to reach a part of a YARP network.</div><div class="ttdef"><b>Definition:</b> <a href="Contact_8h_source.html#l00038">Contact.h:39</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Route_html_a2156322c29d68a6ef5d22e8bd43d5193"><div class="ttname"><a href="classyarp_1_1os_1_1Route.html#a2156322c29d68a6ef5d22e8bd43d5193">yarp::os::Route::getToName</a></div><div class="ttdeci">const std::string &amp; getToName() const</div><div class="ttdoc">Get the destination of the route.</div><div class="ttdef"><b>Definition:</b> <a href="Route_8cpp_source.html#l00106">Route.cpp:106</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Route_html_acf7773482581140b47ae4b9c2f1d28ca"><div class="ttname"><a href="classyarp_1_1os_1_1Route.html#acf7773482581140b47ae4b9c2f1d28ca">yarp::os::Route::setToContact</a></div><div class="ttdeci">void setToContact(const Contact &amp;toContact)</div><div class="ttdoc">Set the destination contact of the route.</div><div class="ttdef"><b>Definition:</b> <a href="Route_8cpp_source.html#l00121">Route.cpp:121</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Value_html_a5a029b824ce967d21ce2ed92508ac9cf"><div class="ttname"><a href="classyarp_1_1os_1_1Value.html#a5a029b824ce967d21ce2ed92508ac9cf">yarp::os::Value::asList</a></div><div class="ttdeci">virtual Bottle * asList() const</div><div class="ttdoc">Get list value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00243">Value.cpp:243</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_a129afa49740b04c444a743bddf38ee81"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#a129afa49740b04c444a743bddf38ee81">yarp::os::impl::PortCore::getOutputCount</a></div><div class="ttdeci">int getOutputCount()</div><div class="ttdoc">Check how many output connections there are.</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l01473">PortCore.cpp:1473</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1ContactStyle_html_a14272501ff21663bdd5c4a8950795f9d"><div class="ttname"><a href="classyarp_1_1os_1_1ContactStyle.html#a14272501ff21663bdd5c4a8950795f9d">yarp::os::ContactStyle::timeout</a></div><div class="ttdeci">double timeout</div><div class="ttdoc">Set a timeout for communication (in units of seconds, fractional seconds allowed).</div><div class="ttdef"><b>Definition:</b> <a href="ContactStyle_8h_source.html#l00050">ContactStyle.h:50</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCorePacket_html_a1365e5a78d5dfcc488d70046c0e521ed"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCorePacket.html#a1365e5a78d5dfcc488d70046c0e521ed">yarp::os::impl::PortCorePacket::setContent</a></div><div class="ttdeci">void setContent(const yarp::os::PortWriter *writable, bool owned=false, const yarp::os::PortWriter *callback=nullptr, bool ownedCallback=false)</div><div class="ttdoc">Configure the object being sent and where to send notifications.</div><div class="ttdef"><b>Definition:</b> <a href="PortCorePacket_8h_source.html#l00109">PortCorePacket.h:109</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Face_html_a4e0e232965c32b6947e889325ca12d64"><div class="ttname"><a href="classyarp_1_1os_1_1Face.html#a4e0e232965c32b6947e889325ca12d64">yarp::os::Face::read</a></div><div class="ttdeci">virtual InputProtocol * read()=0</div><div class="ttdoc">Block and wait for someone to talk to us.</div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Mutex_html"><div class="ttname"><a href="classyarp_1_1os_1_1Mutex.html">yarp::os::Mutex</a></div><div class="ttdoc">Basic wrapper for mutual exclusion.</div><div class="ttdef"><b>Definition:</b> <a href="Mutex_8h_source.html#l00028">Mutex.h:29</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1InputProtocol_html"><div class="ttname"><a href="classyarp_1_1os_1_1InputProtocol.html">yarp::os::InputProtocol</a></div><div class="ttdoc">The input side of an active connection between two ports.</div><div class="ttdef"><b>Definition:</b> <a href="InputProtocol_8h_source.html#l00037">InputProtocol.h:38</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bottle_html_a150eebc6ad332acb0e9cfe8b4b9b6059"><div class="ttname"><a href="classyarp_1_1os_1_1Bottle.html#a150eebc6ad332acb0e9cfe8b4b9b6059">yarp::os::Bottle::add</a></div><div class="ttdeci">void add(const Value &amp;value)</div><div class="ttdoc">Add a Value to the bottle, at the end of the list.</div><div class="ttdef"><b>Definition:</b> <a href="Bottle_8cpp_source.html#l00318">Bottle.cpp:318</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Mutex_html_ad91be808bf0a60a16f10b897ec246d3a"><div class="ttname"><a href="classyarp_1_1os_1_1Mutex.html#ad91be808bf0a60a16f10b897ec246d3a">yarp::os::Mutex::lock</a></div><div class="ttdeci">void lock()</div><div class="ttdoc">Lock the associated resource, waiting if necessary.</div><div class="ttdef"><b>Definition:</b> <a href="Mutex_8cpp_source.html#l00029">Mutex.cpp:29</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_a6317be3e8c67876d45a9a81585346afc"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#a6317be3e8c67876d45a9a81585346afc">yarp::os::impl::PortCore::isInterrupted</a></div><div class="ttdeci">bool isInterrupted() const</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l02720">PortCore.cpp:2720</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_a3aa8f3a47e0503f0b64bf5eb5ab51442"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#a3aa8f3a47e0503f0b64bf5eb5ab51442">yarp::os::impl::PortCore::checkType</a></div><div class="ttdeci">void checkType(PortReader &amp;reader)</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l02794">PortCore.cpp:2794</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_a51396c0243f5ab1cc01040b1788f831e"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#a51396c0243f5ab1cc01040b1788f831e">yarp::os::impl::PortCore::interrupt</a></div><div class="ttdeci">void interrupt()</div><div class="ttdoc">Prepare the port to be shut down.</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l00373">PortCore.cpp:373</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_aa05deb86e0083686627a3af42c72085c"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#aa05deb86e0083686627a3af42c72085c">yarp::os::impl::PortCore::setReadHandler</a></div><div class="ttdeci">void setReadHandler(yarp::os::PortReader &amp;reader)</div><div class="ttdoc">Set a callback for incoming data.</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l00179">PortCore.cpp:179</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCoreUnit_html_aa65d32a007a786697f43981c93b9ab42"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#aa65d32a007a786697f43981c93b9ab42">yarp::os::impl::PortCoreUnit::getCarrierParams</a></div><div class="ttdeci">virtual void getCarrierParams(yarp::os::Property &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="PortCoreUnit_8h_source.html#l00269">PortCoreUnit.h:269</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1ConnectionRecorder_html"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1ConnectionRecorder.html">yarp::os::impl::ConnectionRecorder</a></div><div class="ttdoc">A helper for recording entire message/reply transactions.</div><div class="ttdef"><b>Definition:</b> <a href="ConnectionRecorder_8h_source.html#l00027">ConnectionRecorder.h:31</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Value_html"><div class="ttname"><a href="classyarp_1_1os_1_1Value.html">yarp::os::Value</a></div><div class="ttdoc">A single value (typically within a Bottle).</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00046">Value.h:47</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCorePackets_html_a8c06f4a7f581a50f0c97ccf3c3e2d6ee"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCorePackets.html#a8c06f4a7f581a50f0c97ccf3c3e2d6ee">yarp::os::impl::PortCorePackets::checkPacket</a></div><div class="ttdeci">bool checkPacket(PortCorePacket *packet)</div><div class="ttdoc">Move a packet to the inactive state if it has finished being sent on all connections.</div><div class="ttdef"><b>Definition:</b> <a href="PortCorePackets_8h_source.html#l00133">PortCorePackets.h:133</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Route_html_a9beaa65ef1683ab12367720e2e98d0f8"><div class="ttname"><a href="classyarp_1_1os_1_1Route.html#a9beaa65ef1683ab12367720e2e98d0f8">yarp::os::Route::getFromName</a></div><div class="ttdeci">const std::string &amp; getFromName() const</div><div class="ttdoc">Get the source of the route.</div><div class="ttdef"><b>Definition:</b> <a href="Route_8cpp_source.html#l00096">Route.cpp:96</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCoreUnit_html_a98f8bc8ddd7e47d1607af43381c4d95d"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a98f8bc8ddd7e47d1607af43381c4d95d">yarp::os::impl::PortCoreUnit::isBusy</a></div><div class="ttdeci">virtual bool isBusy()</div><div class="ttdef"><b>Definition:</b> <a href="PortCoreUnit_8h_source.html#l00167">PortCoreUnit.h:167</a></div></div>
<div class="ttc" id="aPortInfo_8h_html"><div class="ttname"><a href="PortInfo_8h.html">PortInfo.h</a></div></div>
<div class="ttc" id="aLog_8h_html_a99f6f6827637a7bac4f0596004d6e82f"><div class="ttname"><a href="Log_8h.html#a99f6f6827637a7bac4f0596004d6e82f">yAssert</a></div><div class="ttdeci">#define yAssert(x)</div><div class="ttdef"><b>Definition:</b> <a href="Log_8h_source.html#l00112">Log.h:112</a></div></div>
<div class="ttc" id="anamespaceyarp_1_1os_1_1impl_html"><div class="ttname"><a href="namespaceyarp_1_1os_1_1impl.html">yarp::os::impl</a></div><div class="ttdoc">The components from which ports and connections are built.</div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_ac090880c0db58c6a331a962e458b9be9"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#ac090880c0db58c6a331a962e458b9be9">yarp::os::impl::PortCore::getType</a></div><div class="ttdeci">yarp::os::Type getType()</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l02806">PortCore.cpp:2806</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1ConnectionReader_html_a4199958bb6dce14bf2dffd0a68062945"><div class="ttname"><a href="classyarp_1_1os_1_1ConnectionReader.html#a4199958bb6dce14bf2dffd0a68062945">yarp::os::ConnectionReader::requestDrop</a></div><div class="ttdeci">virtual void requestDrop()=0</div><div class="ttdoc">Tag the connection to be dropped after the current message.</div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1RosNameSpace_html_ab61de51c6bf73742c848bbac8ff7a718"><div class="ttname"><a href="classyarp_1_1os_1_1RosNameSpace.html#ab61de51c6bf73742c848bbac8ff7a718">yarp::os::RosNameSpace::fromRosName</a></div><div class="ttdeci">static std::string fromRosName(const std::string &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="RosNameSpace_8cpp_source.html#l00673">RosNameSpace.cpp:673</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCoreUnit_html_a1d73b276d1d868027178f805065d8808"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCoreUnit.html#a1d73b276d1d868027178f805065d8808">yarp::os::impl::PortCoreUnit::getPupString</a></div><div class="ttdeci">std::string getPupString() const</div><div class="ttdef"><b>Definition:</b> <a href="PortCoreUnit_8h_source.html#l00237">PortCoreUnit.h:237</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Contact_html_ae6bd0ee309c266b4b15ff6278706dd86"><div class="ttname"><a href="classyarp_1_1os_1_1Contact.html#ae6bd0ee309c266b4b15ff6278706dd86">yarp::os::Contact::setTimeout</a></div><div class="ttdeci">void setTimeout(float timeout)</div><div class="ttdoc">Set timeout for this Contact.</div><div class="ttdef"><b>Definition:</b> <a href="Contact_8cpp_source.html#l00279">Contact.cpp:279</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1ThreadImpl_html_a75c2fc011bc24ce749e03d0795c4e14b"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1ThreadImpl.html#a75c2fc011bc24ce749e03d0795c4e14b">yarp::os::impl::ThreadImpl::getTid</a></div><div class="ttdeci">long getTid()</div><div class="ttdef"><b>Definition:</b> <a href="ThreadImpl_8cpp_source.html#l00391">ThreadImpl.cpp:391</a></div></div>
<div class="ttc" id="aBottle_8h_html"><div class="ttname"><a href="Bottle_8h.html">Bottle.h</a></div></div>
<div class="ttc" id="astructyarp_1_1os_1_1SystemInfo_1_1PlatformInfo_html_afa7bb5f6fe01102b4539f718e5b31bbb"><div class="ttname"><a href="structyarp_1_1os_1_1SystemInfo_1_1PlatformInfo.html#afa7bb5f6fe01102b4539f718e5b31bbb">yarp::os::SystemInfo::PlatformInfo::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="SystemInfo_8h_source.html#l00085">SystemInfo.h:85</a></div></div>
<div class="ttc" id="astructyarp_1_1os_1_1SystemInfo_1_1ProcessInfo_html_a7a25526032e1b722cbd25ea431912f56"><div class="ttname"><a href="structyarp_1_1os_1_1SystemInfo_1_1ProcessInfo.html#a7a25526032e1b722cbd25ea431912f56">yarp::os::SystemInfo::ProcessInfo::arguments</a></div><div class="ttdeci">std::string arguments</div><div class="ttdef"><b>Definition:</b> <a href="SystemInfo_8h_source.html#l00118">SystemInfo.h:118</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1QosStyle_html_a18c75b3e75daf971d0bba7213f8c4250a84b7f54987d741ca383a59b49b12909a"><div class="ttname"><a href="classyarp_1_1os_1_1QosStyle.html#a18c75b3e75daf971d0bba7213f8c4250a84b7f54987d741ca383a59b49b12909a">yarp::os::QosStyle::DSCP_Invalid</a></div><div class="ttdeci">@ DSCP_Invalid</div><div class="ttdef"><b>Definition:</b> <a href="QosStyle_8h_source.html#l00049">QosStyle.h:49</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1OutputStream_html_ae1e285b0ef01a62d4d6eeb0acc75647d"><div class="ttname"><a href="classyarp_1_1os_1_1OutputStream.html#ae1e285b0ef01a62d4d6eeb0acc75647d">yarp::os::OutputStream::setTypeOfService</a></div><div class="ttdeci">virtual bool setTypeOfService(int tos)</div><div class="ttdef"><b>Definition:</b> <a href="OutputStream_8cpp_source.html#l00045">OutputStream.cpp:45</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Property_html"><div class="ttname"><a href="classyarp_1_1os_1_1Property.html">yarp::os::Property</a></div><div class="ttdoc">A class for storing options and configuration information.</div><div class="ttdef"><b>Definition:</b> <a href="Property_8h_source.html#l00034">Property.h:37</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_ab65224cdee850303def26a76a36f9a41"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#ab65224cdee850303def26a76a36f9a41">yarp::os::impl::PortCore::close</a></div><div class="ttdeci">void close() override</div><div class="ttdoc">Shut down port.</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l00307">PortCore.cpp:307</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1NetworkBase_html_ae6c936c292661788e3a04fe0abb6f159"><div class="ttname"><a href="classyarp_1_1os_1_1NetworkBase.html#ae6c936c292661788e3a04fe0abb6f159">yarp::os::NetworkBase::disconnect</a></div><div class="ttdeci">static bool disconnect(const std::string &amp;src, const std::string &amp;dest, bool quiet=true)</div><div class="ttdoc">Request that an output port disconnect from an input port.</div><div class="ttdef"><b>Definition:</b> <a href="Network_8cpp_source.html#l00633">Network.cpp:633</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_a6da58bff35b731d50439cdcd9dbc45e5"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#a6da58bff35b731d50439cdcd9dbc45e5">yarp::os::impl::PortCore::listen</a></div><div class="ttdeci">bool listen(const Contact &amp;address, bool shouldAnnounce=true)</div><div class="ttdoc">Begin service at a given address.</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l00108">PortCore.cpp:108</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Mutex_html_a546a5b797ba29959357586aa2b3740a8"><div class="ttname"><a href="classyarp_1_1os_1_1Mutex.html#a546a5b797ba29959357586aa2b3740a8">yarp::os::Mutex::unlock</a></div><div class="ttdeci">void unlock()</div><div class="ttdoc">Unlock the associated resource.</div><div class="ttdef"><b>Definition:</b> <a href="Mutex_8cpp_source.html#l00039">Mutex.cpp:39</a></div></div>
<div class="ttc" id="aPortCore_8cpp_html_af326f77fc7c34f17363338aa6e37f39e"><div class="ttname"><a href="PortCore_8cpp.html#af326f77fc7c34f17363338aa6e37f39e">STANZA_INT</a></div><div class="ttdeci">#define STANZA_INT(name, tag, val)</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l01542">PortCore.cpp:1542</a></div></div>
<div class="ttc" id="aSystemInfo_8h_html"><div class="ttname"><a href="SystemInfo_8h.html">SystemInfo.h</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_a075174d30bafa678af1ce07cf5bd1415"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#a075174d30bafa678af1ce07cf5bd1415">yarp::os::impl::PortCore::resetPortName</a></div><div class="ttdeci">void resetPortName(const std::string &amp;str)</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l02695">PortCore.cpp:2695</a></div></div>
<div class="ttc" id="anamespaceyarp_1_1os_html_ab2676e32122f2ffd9eeb4301a2c06b4f"><div class="ttname"><a href="namespaceyarp_1_1os.html#ab2676e32122f2ffd9eeb4301a2c06b4f">yarp::os::NetInt32</a></div><div class="ttdeci">std::int32_t NetInt32</div><div class="ttdoc">Definition of the NetInt32 type.</div><div class="ttdef"><b>Definition:</b> <a href="NetInt32_8h_source.html#l00033">NetInt32.h:33</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1impl_1_1PortCore_html_a4a2d88368b3f960af1038066c872aa6f"><div class="ttname"><a href="classyarp_1_1os_1_1impl_1_1PortCore.html#a4a2d88368b3f960af1038066c872aa6f">yarp::os::impl::PortCore::setTimeout</a></div><div class="ttdeci">void setTimeout(float timeout)</div><div class="ttdef"><b>Definition:</b> <a href="PortCore_8cpp_source.html#l02725">PortCore.cpp:2725</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1OutputStream_html_a99b59d450e9b7546326cd1c164e8131e"><div class="ttname"><a href="classyarp_1_1os_1_1OutputStream.html#a99b59d450e9b7546326cd1c164e8131e">yarp::os::OutputStream::getTypeOfService</a></div><div class="ttdeci">virtual int getTypeOfService()</div><div class="ttdef"><b>Definition:</b> <a href="OutputStream_8cpp_source.html#l00051">OutputStream.cpp:51</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1PortInfo_html_aa369f78c5b98c151401b9754b107eae0"><div class="ttname"><a href="classyarp_1_1os_1_1PortInfo.html#aa369f78c5b98c151401b9754b107eae0">yarp::os::PortInfo::sourceName</a></div><div class="ttdeci">std::string sourceName</div><div class="ttdoc">Name of connection source, if any.</div><div class="ttdef"><b>Definition:</b> <a href="PortInfo_8h_source.html#l00063">PortInfo.h:63</a></div></div>
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li><span id="projectname_footer">YARP</span></li>
    <li><span id="projectnumber" class="version_switch">3.2.2</span></li>
    <li class="navelem"><a class="el" href="dir_d946d32291de7db32f6a943fb45d46f4.html">src</a></li><li class="navelem"><a class="el" href="dir_1dc3d61bcf265c9a7599e8bad4c460f9.html">libYARP_OS</a></li><li class="navelem"><a class="el" href="dir_a193bc8fac33aaaab51f4c097c886417.html">src</a></li><li class="navelem"><a class="el" href="PortCore_8cpp.html">PortCore.cpp</a></li>
    <li class="footer">Generated on Tue Nov 3 2020 16:49:10 for YARP by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
