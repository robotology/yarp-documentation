<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>YARP: yarp-device-xsensmt</title>
<link rel="shortcut icon" href="yarp-favicon.ico" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
    var DOCUMENTATION_OPTIONS = { VERSION: '3.8.1' };
</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="yarp-doxygen-style.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../version_switch.js"></script>
<script src="https://cookiehub.net/c2/44d56061.js"></script>
<script type="text/javascript">
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('consent', 'default', {'ad_storage': 'denied', 'analytics_storage': 'denied', 'wait_for_update': 500});
document.addEventListener("DOMContentLoaded", function(event) {
var cpm = {};
window.cookiehub.load(cpm);
});
</script>
<!--
<link rel="stylesheet" type="text/css" href="cookieconsent.min.css" />
<script src="cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#eb6c44",
      "text": "#ffffff"
    },
    "button": {
      "background": "#237afc",
    }
  },
  "theme": "classic",
  "content": {
    "message": "INFORMATION NOTICE ON COOKIES : This website uses only browsing/session cookies. Users can choose whether or not to accept the use of cookies and access the website. By clicking on \"Further information\", the full information notice on the types of cookies will be displayed and you will be able  to choose whether or not to accept them whilst browsing on the website.",
    "dismiss": "ACCEPT and close",
    "link": "Further information",
    "href": "http://www.icub.eu/other/personal_data_notice.html"
  }
})});
</script>
-->
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="yarp-robot-64.png"/></td>
  <td id="projectalign" style="padding-left: 1.5em;">
   <div id="projectname">YARP</div>
   <div id="projectbrief">Yet Another Robot Platform</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_opt-modules_2yarp-device-xsensmt_2README.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">yarp-device-xsensmt</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md1138"></a>YARP Device Driver for XSens MT* devices based on the MT Software Suite.</p>
<h1><a class="anchor" id="autotoc_md1139"></a>
Rationale</h1>
<p>This repository contains the <code>xsensmt</code> YARP Device Driver (see <a href="http://www.yarp.it/note_devices.html">YARP documentation on devices</a> ) that expose any Xsens-based IMU that work with the <a href="https://www.xsens.com/mt-software-suite">Xsens MT Software Suite</a> as a C++ class with the <a href="http://www.yarp.it/classyarp_1_1dev_1_1IGenericSensor.html"><code>IGenericSensor</code></a> interface. There is currently no precisly defined format to expose IMU devices in YARP (see <a href="https://github.com/robotology/yarp/issues/802">https://github.com/robotology/yarp/issues/802</a>), and so this devices tries to match as much as possible the behaviour of the <a href="https://github.com/robotology/icub-main/tree/master/src/libraries/icubmod/xsensmtx"><code>xsensmtx</code> device</a>, contained in the <a href="https://github.com/robotology/icub-main"><code>icub-main</code> repository</a>.</p>
<h1><a class="anchor" id="autotoc_md1140"></a>
Installation</h1>
<h2><a class="anchor" id="autotoc_md1141"></a>
Dependencies</h2>
<ul>
<li><a href="https://github.com/robotology/yarp">YARP</a></li>
</ul>
<h2><a class="anchor" id="autotoc_md1142"></a>
Step-by-step installation</h2>
<ul>
<li>Install YARP on your platform, following the instructions on <a href="http://www.yarp.it/install.html">YARP documentation</a>.</li>
<li>Compile the code in this repository using <a href="https://cmake.org/">CMake</a> and your preferred compiler. See <a href="http://www.yarp.it/using_cmake.html">YARP documentation on how to compile a CMake project</a>.</li>
<li>Install the project. You can specify the installation directory prefix using the <a href="https://cmake.org/cmake/help/v3.0/variable/CMAKE_INSTALL_PREFIX.html"><code>CMAKE_INSTALL_PREFIX</code></a> CMake option.</li>
<li>Add <code>${CMAKE_INSTALL_PREFIX}/share/yarp</code> (where <code>${CMAKE_INSTALL_PREFIX}</code> needs to be substituted to the directory that you choose as the <code>CMAKE_INSTALL_PREFIX</code>) to your <code>YARP_DATA_DIRS</code> enviromental variable (for more on the <code>YARP_DATA_DIRS</code> env variable, see <a href="http://www.yarp.it/yarp_data_dirs.html">YARP documentation on data directories</a> ).</li>
<li>Once you do that, you should be able to find the <code>xsensmt</code> device compiled by this repo using the command <code>yarp plugin xsensmt</code>, which should have an output similar to: <div class="fragment"><div class="line">Yes, this is a YARP plugin</div>
<div class="line">  * library:        CMAKE_INSTALL_PREFIX/lib/yarp/xsensmt.so</div>
<div class="line">  * system version: 5</div>
<div class="line">  * class name:     yarp::dev::XsensMT</div>
<div class="line">  * base class:     yarp::dev::DeviceDriver</div>
</div><!-- fragment --> If this is not the case, there could be some problems in finding the plugin. In that case, just move yourself to the <code>${CMAKE_INSTALL_PREFIX}/share/yarp</code> directory and launch the device from there.</li>
</ul>
<h1><a class="anchor" id="autotoc_md1143"></a>
Device use</h1>
<h2><a class="anchor" id="autotoc_md1144"></a>
Via &lt;tt&gt;multipleanalogsensorsserver&lt;/tt&gt;</h2>
<p>To launch the <code>xsensmt</code> device, you can connect the Xsens IMU (for example the MTI-300) to your Linux computer, create an <code>xml</code> file named <code>xsens_imu.xml</code> containing </p><div class="fragment"><div class="line">&lt;?<span class="keyword">xml</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.0&quot;</span> <span class="keyword">encoding</span>=<span class="stringliteral">&quot;UTF-8&quot;</span> ?&gt;</div>
<div class="line">&lt;!<span class="keyword">DOCTYPE</span> <span class="keyword">robot</span> <span class="keyword">PUBLIC</span> <span class="stringliteral">&quot;-//YARP//DTD yarprobotinterface 3.0//EN&quot;</span> <span class="stringliteral">&quot;http://www.yarp.it/DTD/yarprobotinterfaceV3.0.dtd&quot;</span>&gt;</div>
<div class="line">&lt;<span class="keywordtype">robot</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;realsense&quot;</span> <span class="keyword">build</span>=0 <span class="keyword">portprefix</span>=<span class="stringliteral">&quot;/xsens_imu&quot;</span>&gt;</div>
<div class="line"> </div>
<div class="line">  &lt;<span class="keywordtype">device</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;xsensmt&quot;</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;xsens_imu&quot;</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">param</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;xsensmt_period&quot;</span>&gt;0.01&lt;/<span class="keywordtype">param</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">param</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;xsensmt_euler_period&quot;</span>&gt;0.005&lt;/<span class="keywordtype">param</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">param</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;xsensmt_gyro_period&quot;</span>&gt;0.005&lt;/<span class="keywordtype">param</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">param</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;xsensmt_acc_period&quot;</span>&gt;0.005&lt;/<span class="keywordtype">param</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">param</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;xsensmt_mag_period&quot;</span>&gt;0.01&lt;/<span class="keywordtype">param</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">device</span>&gt;</div>
<div class="line"> </div>
<div class="line">  &lt;<span class="keywordtype">device</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;multipleanalogsensorsserver&quot;</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;xsens_imu_wrapper&quot;</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">param</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;period&quot;</span>&gt;5&lt;/<span class="keywordtype">param</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">param</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;name&quot;</span>&gt;/<span class="keyword">xsens_imu</span>&lt;/<span class="keywordtype">param</span>&gt;</div>
<div class="line"> </div>
<div class="line">    &lt;<span class="keywordtype">action</span> <span class="keyword">phase</span>=<span class="stringliteral">&quot;startup&quot;</span> <span class="keyword">level</span>=<span class="stringliteral">&quot;5&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;attach&quot;</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">paramlist</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;networks&quot;</span>&gt;</div>
<div class="line">        &lt;<span class="keywordtype">elem</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;imu&quot;</span>&gt;<span class="keyword">xsens_imu</span>&lt;/<span class="keywordtype">elem</span>&gt;</div>
<div class="line">      &lt;/<span class="keywordtype">paramlist</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">action</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">action</span> <span class="keyword">phase</span>=<span class="stringliteral">&quot;shutdown&quot;</span> <span class="keyword">level</span>=<span class="stringliteral">&quot;5&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;detach&quot;</span>/&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">device</span>&gt;</div>
<div class="line"> </div>
<div class="line">&lt;/<span class="keywordtype">robot</span>&gt;</div>
</div><!-- fragment --><p> Run the <code>yarpserver</code>, then on a terminal launch the device: <code>yarprobotinterface --config xsens_imu.xml</code></p>
<h2><a class="anchor" id="autotoc_md1145"></a>
Via &lt;tt&gt;inertial&lt;/tt&gt; network device (Deprecated)</h2>
<p>To launch the <code>xsensmt</code> device, you can connect the Xsens IMU (for example the MTI-300) to your Linux computer and the default configuration parameters should be sufficient to work fine. To do so, launch the yarpserver, then on a terminal launch the device: </p><div class="fragment"><div class="line">yarpdev --device inertial --subdevice xsensmt</div>
</div><!-- fragment --><p> This should open a YARP port <code>/inertial</code> , that you can read from the command line for example using the <code>yarp read</code> command: </p><div class="fragment"><div class="line">yarp read ... /inertial</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1146"></a>
Parameters</h2>
<p>The following table contains the parameters currently supported by the device</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Parameter name   </th><th class="markdownTableHeadCenter">Type   </th><th class="markdownTableHeadCenter">Units   </th><th class="markdownTableHeadCenter">Default Value   </th><th class="markdownTableHeadCenter">Required   </th><th class="markdownTableHeadCenter">Description   </th><th class="markdownTableHeadCenter">Notes    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><code>serial</code>   </td><td class="markdownTableBodyCenter">string   </td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter">/dev/ttyUSB0   </td><td class="markdownTableBodyCenter">No   </td><td class="markdownTableBodyCenter">File name of the serial device to which to connect.   </td><td class="markdownTableBodyCenter"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><code>baud</code>   </td><td class="markdownTableBodyCenter">int   </td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter">115200   </td><td class="markdownTableBodyCenter">No   </td><td class="markdownTableBodyCenter">Baud rate used by the serial communication."   </td><td class="markdownTableBodyCenter"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">`timeout`   </td><td class="markdownTableBodyCenter">double   </td><td class="markdownTableBodyCenter">seconds   </td><td class="markdownTableBodyCenter">0.1   </td><td class="markdownTableBodyCenter">No   </td><td class="markdownTableBodyCenter">If the device is not receiving any sensor measure for timeout seconds, it will start reporting an error.   </td><td class="markdownTableBodyCenter">-    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">`sensor_name`   </td><td class="markdownTableBodyCenter">string   </td><td class="markdownTableBodyCenter"></td><td class="markdownTableBodyCenter">sensor_imu_xsensmt   </td><td class="markdownTableBodyCenter">No   </td><td class="markdownTableBodyCenter">Name of the inertial sensor device.   </td><td class="markdownTableBodyCenter"></td></tr>
</table>
<p>| frame_name | string | | set same as <code>sensor_name</code> | No | Sensor frame in which the measurements are expressed. | | <code>xsensmt_period</code> | double | seconds | 0.01 | No | Period of querying the Xsens MT* device. This parameter is used for each sensor for which the user does not specify the specific associated period. | The frequency of publishing the information is determined by the device that attaches this one | | <code>xsensmt_acc_period</code> | double | seconds | <code>xsensmt_period</code> | No | Period of querying the Accelerometer Xsens MT* device | The frequency of publishing the information is determined by the device that attaches this one | | <code>xsensmt_gyro_period</code> | double | seconds | <code>xsensmt_period</code> | No | Period of querying the Gyroscope Xsens MT* device | The frequency of publishing the information is determined by the device that attaches this one | | <code>xsensmt_mag_period</code> | double | seconds | <code>xsensmt_period</code> | No | Period of querying the Magnetometer Xsens MT* device | The frequency of publishing the information is determined by the device that attaches this one | | <code>xsensmt_euler_period</code> | double | seconds | <code>xsensmt_period</code> | No | Period of querying the Euler Xsens MT* device | The frequency of publishing the information is determined by the device that attaches this one | | <code>xsensmt_position_period</code> | double | seconds | <code>xsensmt_period</code> | No | Period of querying the Position Xsens MT* device | The frequency of publishing the information is determined by the device that attaches this one | | <code>xsensmt_linear_velocity_period</code> | double | seconds | <code>xsensmt_period</code> | No | Period of querying the linear velocity Xsens MT* device | The frequency of publishing the information is determined by the device that attaches this one | </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li><span id="projectname_footer">YARP</span></li>
    <li><span id="projectnumber" class="version_switch">3.8.1</span></li>
    <li class="footer">Generated on Wed Sep 13 2023 08:44:47 for YARP by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
