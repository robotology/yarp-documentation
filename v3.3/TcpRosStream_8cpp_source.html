<!-- HTML header for doxygen 1.8.12-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>YARP: src/carriers/tcpros_carrier/TcpRosStream.cpp Source File</title>
<link rel="shortcut icon" href="yarp-favicon.ico" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
    var DOCUMENTATION_OPTIONS = { VERSION: '3.3.3' };
</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="yarp-doxygen-style.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../version_switch.js"></script>
<link rel="stylesheet" type="text/css" href="cookieconsent.min.css" />
<script src="cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#eb6c44",
      "text": "#ffffff"
    },
    "button": {
      "background": "#237afc",
    }
  },
  "theme": "classic",
  "content": {
    "message": "INFORMATION NOTICE ON COOKIES : This website uses only browsing/session cookies. Users can choose whether or not to accept the use of cookies and access the website. By clicking on \"Further information\", the full information notice on the types of cookies will be displayed and you will be able  to choose whether or not to accept them whilst browsing on the website.",
    "dismiss": "ACCEPT and close",
    "link": "Further information",
    "href": "http://www.icub.org/other/personal_data_notice.html"
  }
})});
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="yarp-robot-64.png"/></td>
  <td id="projectalign" style="padding-left: 1.5em;">
   <div id="projectname">YARP</div>
   <div id="projectbrief">Yet Another Robot Platform</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('TcpRosStream_8cpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">TcpRosStream.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="TcpRosStream_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (C) 2006-2020 Istituto Italiano di Tecnologia (IIT)</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * All rights reserved.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * This software may be modified and distributed under the terms of the</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * BSD-3-Clause license. See the accompanying LICENSE file for details.</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TcpRosStream_8h.html">TcpRosStream.h</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160; </div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;cstdio&gt;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;cstring&gt;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;cstdlib&gt;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="NetType_8h.html">yarp/os/NetType.h</a>&gt;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="NetInt32_8h.html">yarp/os/NetInt32.h</a>&gt;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="Bottle_8h.html">yarp/os/Bottle.h</a>&gt;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="Port_8h.html">yarp/os/Port.h</a>&gt;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160; </div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="WireBottle_8h.html">yarp/wire_rep_utils/WireBottle.h</a>&gt;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160; </div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespaceyarp_1_1os.html">yarp::os</a>;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespaceyarp_1_1wire__rep__utils.html">yarp::wire_rep_utils</a>;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="keyword">using namespace </span>std;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="TcpRosStream_8cpp.html#a6d26dbcf5cbf442c42ac03986edf8792">   25</a></span>&#160;<span class="preprocessor">#define dbg_printf if (0) printf</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="classTcpRosStream.html#aa605fa741d867184d420b92d76de171a">   27</a></span>&#160;<a class="code" href="namespaceyarp_1_1conf.html#a3df5afb43ff7b7cc2b4e3cb9150eab20">yarp::conf::ssize_t</a> <a class="code" href="classyarp_1_1os_1_1InputStream.html#a448b29e1cd20c5ae3bf3a43ba6b49f17">TcpRosStream::read</a>(<a class="code" href="classyarp_1_1os_1_1Bytes.html">Bytes</a>&amp; b) {</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="keywordflow">if</span> (!setInitiative) {</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        initiative = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;        setInitiative = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    }</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="keywordflow">if</span> (kind!=<span class="stringliteral">&quot;&quot;</span>) {</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;      <span class="keywordflow">return</span> twiddlerReader.read(b);</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    }</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; </div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keywordflow">if</span> (phase==-1) <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keywordflow">if</span> (remaining==0) {</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        <span class="keywordflow">if</span> (phase==1) {</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;            phase = 2;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;            <span class="keywordflow">if</span> (scan.length()&gt;0) {</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                cursor = scan.get();</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                remaining = scan.length();</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                cursor = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                remaining = header.blobLen;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;            }</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;            scan.clear();</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;            phase = 0;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        }</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    }</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordflow">if</span> (phase==0) {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <span class="keywordflow">if</span> (expectTwiddle&amp;&amp;initiative) {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;            <span class="comment">// There&#39;s a success/failure byte to check.</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;            <span class="comment">// Here we just consume it, but if it shows failure</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;            <span class="comment">// we should in fact expect a string afterwards.</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;            <span class="keywordtype">char</span> twiddle[1];</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;            <a class="code" href="classyarp_1_1os_1_1Bytes.html">Bytes</a> twiddle_buf(twiddle,1);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            delegate-&gt;getInputStream().readFull(twiddle_buf);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        }</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="keywordtype">char</span> mlen[4];</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <a class="code" href="classyarp_1_1os_1_1Bytes.html">Bytes</a> mlen_buf(mlen,4);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <span class="keywordtype">int</span> res = delegate-&gt;getInputStream().readFull(mlen_buf);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <span class="keywordflow">if</span> (res&lt;4) {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            <a class="code" href="TcpRosStream_8cpp.html#a6d26dbcf5cbf442c42ac03986edf8792">dbg_printf</a>(<span class="stringliteral">&quot;tcpros_carrier failed, %s %d\n&quot;</span>, __FILE__, __LINE__);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            phase = -1;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        }</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <span class="keywordtype">int</span> len = <a class="code" href="classyarp_1_1os_1_1NetType.html#a180deac631b371563b130ee2f0c7e320">NetType::netInt</a>(mlen_buf);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <a class="code" href="TcpRosStream_8cpp.html#a6d26dbcf5cbf442c42ac03986edf8792">dbg_printf</a>(<span class="stringliteral">&quot;Unit length %d\n&quot;</span>, len);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <span class="comment">// inhibit type scanning for now, it is unreliable</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="keywordflow">if</span> (raw==-1) raw = 2;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <span class="keywordflow">if</span> (raw==-2) {</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            scan.allocate(len);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            <span class="keywordtype">int</span> res = delegate-&gt;getInputStream().readFull(scan.bytes());</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            <a class="code" href="TcpRosStream_8cpp.html#a6d26dbcf5cbf442c42ac03986edf8792">dbg_printf</a>(<span class="stringliteral">&quot;Read %d bytes with raw==-2\n&quot;</span>, res);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            <span class="keywordflow">if</span> (res&lt;0) {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                <a class="code" href="TcpRosStream_8cpp.html#a6d26dbcf5cbf442c42ac03986edf8792">dbg_printf</a>(<span class="stringliteral">&quot;tcpros_carrier failed, %s %d\n&quot;</span>, __FILE__, __LINE__);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                phase = -1;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            }</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            <span class="keywordtype">int</span> len_scan = scan.length();</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="WireBottle_8cpp.html#a4a9786d0586655d019a7bef4b3e3cc8c">WireBottle::checkBottle</a>(scan.get(),len_scan)) {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                <a class="code" href="TcpRosStream_8cpp.html#a6d26dbcf5cbf442c42ac03986edf8792">dbg_printf</a>(<span class="stringliteral">&quot;Looks YARP-compatible\n&quot;</span>);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                raw = 1;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                <a class="code" href="TcpRosStream_8cpp.html#a6d26dbcf5cbf442c42ac03986edf8792">dbg_printf</a>(<span class="stringliteral">&quot;Looks strange, blobbing...\n&quot;</span>);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                raw = 0;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            }</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        header.init(len);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="keywordflow">if</span> (raw==1) {</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            phase = 2;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            <span class="keywordflow">if</span> (scan.length()&gt;0) {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                cursor = scan.get();</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                remaining = scan.length();</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                cursor = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                remaining = header.blobLen;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (raw==2) {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            cursor = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            remaining = header.blobLen;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            phase = 2;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            phase = 1;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            cursor = (<span class="keywordtype">char</span>*) &amp;header;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            remaining = <span class="keyword">sizeof</span>(header);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        }</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <a class="code" href="TcpRosStream_8cpp.html#a6d26dbcf5cbf442c42ac03986edf8792">dbg_printf</a>(<span class="stringliteral">&quot;phase %d remaining %d\n&quot;</span>, phase, remaining);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordflow">if</span> (remaining&gt;0) {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="keywordflow">if</span> (cursor!=<span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            <span class="keywordtype">int</span> allow = remaining;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)b.<a class="code" href="classyarp_1_1os_1_1Bytes.html#a1777bdec41bab120b74bc353e3570377">length</a>()&lt;allow) {</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                allow = b.<a class="code" href="classyarp_1_1os_1_1Bytes.html#a1777bdec41bab120b74bc353e3570377">length</a>();</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            }</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            memcpy(b.<a class="code" href="classyarp_1_1os_1_1Bytes.html#ad62e722069297651d9efb5fa7fba1d92">get</a>(),cursor,allow);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            cursor+=allow;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            remaining-=allow;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            <a class="code" href="TcpRosStream_8cpp.html#a6d26dbcf5cbf442c42ac03986edf8792">dbg_printf</a>(<span class="stringliteral">&quot;%d bytes of header\n&quot;</span>, allow);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            <span class="keywordflow">return</span> allow;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            <span class="keywordtype">int</span> result = delegate-&gt;getInputStream().read(b);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            <a class="code" href="TcpRosStream_8cpp.html#a6d26dbcf5cbf442c42ac03986edf8792">dbg_printf</a>(<span class="stringliteral">&quot;Read %d bytes\n&quot;</span>, result);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            <span class="keywordflow">if</span> (result&gt;0) {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                remaining-=result;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                <a class="code" href="TcpRosStream_8cpp.html#a6d26dbcf5cbf442c42ac03986edf8792">dbg_printf</a>(<span class="stringliteral">&quot;%d bytes of meat\n&quot;</span>, result);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            }</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    }</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    phase = -1;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;}</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="classTcpRosStream.html#ab9c89b4b600dd503f8d44ae36777e4fa">  142</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classTcpRosStream.html#ab9c89b4b600dd503f8d44ae36777e4fa">TcpRosStream::write</a>(<span class="keyword">const</span> <a class="code" href="classyarp_1_1os_1_1Bytes.html">Bytes</a>&amp; b) {</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">if</span> (!setInitiative) {</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        initiative = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        setInitiative = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    }</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="TcpRosStream_8cpp.html#a6d26dbcf5cbf442c42ac03986edf8792">dbg_printf</a>(<span class="stringliteral">&quot;                   [[[[[ write %d bytes ]]]]]\n&quot;</span>, (<span class="keywordtype">int</span>)b.<a class="code" href="classyarp_1_1os_1_1Bytes.html#a1777bdec41bab120b74bc353e3570377">length</a>());</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    delegate-&gt;getOutputStream().write(b);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;}</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classTcpRosStream.html#ad98bfcdb744569888faacff22cd5c47d">TcpRosStream::updateKind</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *kind, <span class="keywordtype">bool</span> sender, <span class="keywordtype">bool</span> reply) {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordtype">string</span> code = rosToKind(kind);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">if</span> (code!=<span class="stringliteral">&quot;&quot;</span>) {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        configureTwiddler(twiddler,code.c_str(),kind,sender,reply);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        this-&gt;kind = code;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        this-&gt;kind = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;}</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;std::map&lt;std::string, std::string&gt; <a class="code" href="classTcpRosStream.html#a0653d43e74d460f851cb159a3ae9ffe7">TcpRosStream::rosToKind</a>() {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    std::map&lt;std::string, std::string&gt; kinds;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    kinds[<span class="stringliteral">&quot;std_msgs/String&quot;</span>] = <span class="stringliteral">&quot;vector string 1 *&quot;</span>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    kinds[<span class="stringliteral">&quot;std_msgs/Int32&quot;</span>] = <span class="stringliteral">&quot;vector int32 1 *&quot;</span>;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    kinds[<span class="stringliteral">&quot;std_msgs/Float64&quot;</span>] = <span class="stringliteral">&quot;vector float64 1 *&quot;</span>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="comment">// these two are specialized, TODO link them specifically to</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="comment">// yarp/image and yarp/vector</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    kinds[<span class="stringliteral">&quot;sensor_msgs/Image&quot;</span>] = <span class="stringliteral">&quot;list 4 skip uint32 * skip uint32 * skip uint32 * skip string *    &gt;height uint32 * &gt;width uint32 * &gt;encoding string * skip int8 * &gt;step int32 *  compute image_params    &lt;=[mat] vocab * &lt;translated_encoding vocab * item_vector int32 5 &lt;depth item * &lt;img_size item * &lt;quantum item * &lt;width item * &lt;height item * blob *&quot;</span>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    kinds[<span class="stringliteral">&quot;test_roscpp/TestStringString&quot;</span>] = <span class="stringliteral">&quot;vector string 1 * --- vector string 1 *&quot;</span>;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="comment">// kinds[&quot;rospy_tutorials/AddTwoInts&quot;] = &quot;vector int64 2 * --- vector int64 1 *&quot;;</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordflow">return</span> kinds;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;}</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;std::string <a class="code" href="classTcpRosStream.html#a0653d43e74d460f851cb159a3ae9ffe7">TcpRosStream::rosToKind</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *rosname) {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">if</span> (std::string(rosname)==<span class="stringliteral">&quot;&quot;</span>) <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    std::map&lt;std::string, std::string&gt; kinds = rosToKind();</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordflow">if</span> (kinds.find(rosname)!=kinds.end()) {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <span class="keywordflow">return</span> kinds[rosname];</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    }</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <a class="code" href="classyarp_1_1os_1_1Port.html">Port</a> port;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    port.<a class="code" href="classyarp_1_1os_1_1Port.html#acabc7339a09ce49ea5341430a5046584">openFake</a>(<span class="stringliteral">&quot;yarpidl_rosmsg&quot;</span>);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordflow">if</span> (port.<a class="code" href="classyarp_1_1os_1_1Port.html#a762d5ae5fe8e3cdad9438a91c7974263">addOutput</a>(<span class="stringliteral">&quot;/typ&quot;</span>)) {</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <a class="code" href="classyarp_1_1os_1_1Bottle.html">Bottle</a> cmd, resp;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">addString</a>(std::string(<span class="stringliteral">&quot;twiddle &quot;</span>) + rosname);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <a class="code" href="TcpRosStream_8cpp.html#a6d26dbcf5cbf442c42ac03986edf8792">dbg_printf</a>(<span class="stringliteral">&quot;QUERY yarpidl_rosmsg %s\n&quot;</span>, cmd.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad8cb921bd7e22d6fcafc3a61db65e75c">toString</a>().c_str());</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        port.<a class="code" href="classyarp_1_1os_1_1Port.html#a1b49511d808f5731e2f7cf9e9831ff5e">write</a>(cmd,resp);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <a class="code" href="TcpRosStream_8cpp.html#a6d26dbcf5cbf442c42ac03986edf8792">dbg_printf</a>(<span class="stringliteral">&quot;GOT yarpidl_rosmsg %s\n&quot;</span>, resp.<a class="code" href="classyarp_1_1os_1_1Bottle.html#ad8cb921bd7e22d6fcafc3a61db65e75c">toString</a>().c_str());</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        std::string txt = resp.<a class="code" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(0).<a class="code" href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">asString</a>();</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <span class="keywordflow">if</span> (txt!=<span class="stringliteral">&quot;?&quot;</span>) <span class="keywordflow">return</span> txt;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    port.<a class="code" href="classyarp_1_1os_1_1Port.html#ad0c3a032e49f56fbdfc8ca67f3ee2dff">close</a>();</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">if</span> (std::string(rosname)!=<span class="stringliteral">&quot;&quot;</span>) {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;Do not know anything about type &#39;%s&#39;\n&quot;</span>, rosname);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;Could not connect to a type server to look up type &#39;%s&#39;\n&quot;</span>, rosname);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        ::exit(1);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    }</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;}</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classTcpRosStream.html#a6ea437ae6119b58ccd3ad93ea3426574">TcpRosStream::configureTwiddler</a>(<a class="code" href="classyarp_1_1wire__rep__utils_1_1WireTwiddler.html">WireTwiddler</a>&amp; twiddler, <span class="keyword">const</span> <span class="keywordtype">char</span> *txt, <span class="keyword">const</span> <span class="keywordtype">char</span> *prompt, <span class="keywordtype">bool</span> sender, <span class="keywordtype">bool</span> reply) {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <a class="code" href="TcpRosStream_8cpp.html#a6d26dbcf5cbf442c42ac03986edf8792">dbg_printf</a>(<span class="stringliteral">&quot;CONFIGURE AS %s [%s/%s]\n&quot;</span>, txt,</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;               sender?<span class="stringliteral">&quot;sender&quot;</span>:<span class="stringliteral">&quot;receiver&quot;</span>,</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;               reply?<span class="stringliteral">&quot;reply&quot;</span>:<span class="stringliteral">&quot;main&quot;</span>);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    std::string str(txt);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">if</span> (reply) {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="keywordtype">size_t</span> idx = str.find(<span class="stringliteral">&quot;---&quot;</span>);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="keywordflow">if</span> (idx!=std::string::npos) {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            str = str.substr(idx+3,str.length());</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    str = std::string(<span class="stringliteral">&quot;skip int32 * &quot;</span>) + str;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">if</span> (reply) {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        str = std::string(<span class="stringliteral">&quot;skip int8 * &quot;</span>) + str;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">return</span> twiddler.<a class="code" href="classyarp_1_1wire__rep__utils_1_1WireTwiddler.html#a3ca9fc8ee387e3ef1ce189ac2b2764ba">configure</a>(str.c_str(),prompt);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aclassyarp_1_1os_1_1Port_html_ad0c3a032e49f56fbdfc8ca67f3ee2dff"><div class="ttname"><a href="classyarp_1_1os_1_1Port.html#ad0c3a032e49f56fbdfc8ca67f3ee2dff">yarp::os::Port::close</a></div><div class="ttdeci">void close() override</div><div class="ttdoc">Stop port activity.</div><div class="ttdef"><b>Definition:</b> <a href="Port_8cpp_source.html#l00349">Port.cpp:349</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bottle_html"><div class="ttname"><a href="classyarp_1_1os_1_1Bottle.html">yarp::os::Bottle</a></div><div class="ttdoc">A simple collection of objects that can be described and transmitted in a portable way.</div><div class="ttdef"><b>Definition:</b> <a href="Bottle_8h_source.html#l00072">Bottle.h:73</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bottle_html_ad8cb921bd7e22d6fcafc3a61db65e75c"><div class="ttname"><a href="classyarp_1_1os_1_1Bottle.html#ad8cb921bd7e22d6fcafc3a61db65e75c">yarp::os::Bottle::toString</a></div><div class="ttdeci">std::string toString() const override</div><div class="ttdoc">Gives a human-readable textual representation of the bottle.</div><div class="ttdef"><b>Definition:</b> <a href="Bottle_8cpp_source.html#l00210">Bottle.cpp:210</a></div></div>
<div class="ttc" id="aclassTcpRosStream_html_a0653d43e74d460f851cb159a3ae9ffe7"><div class="ttname"><a href="classTcpRosStream.html#a0653d43e74d460f851cb159a3ae9ffe7">TcpRosStream::rosToKind</a></div><div class="ttdeci">static std::map&lt; std::string, std::string &gt; rosToKind()</div></div>
<div class="ttc" id="aNetInt32_8h_html"><div class="ttname"><a href="NetInt32_8h.html">NetInt32.h</a></div></div>
<div class="ttc" id="aPort_8h_html"><div class="ttname"><a href="Port_8h.html">Port.h</a></div></div>
<div class="ttc" id="aclassTcpRosStream_html_ad98bfcdb744569888faacff22cd5c47d"><div class="ttname"><a href="classTcpRosStream.html#ad98bfcdb744569888faacff22cd5c47d">TcpRosStream::updateKind</a></div><div class="ttdeci">void updateKind(const char *kind, bool sender, bool reply)</div></div>
<div class="ttc" id="aclassTcpRosStream_html_a6ea437ae6119b58ccd3ad93ea3426574"><div class="ttname"><a href="classTcpRosStream.html#a6ea437ae6119b58ccd3ad93ea3426574">TcpRosStream::configureTwiddler</a></div><div class="ttdeci">static bool configureTwiddler(yarp::wire_rep_utils::WireTwiddler &amp;twiddler, const char *txt, const char *prompt, bool sender, bool reply)</div></div>
<div class="ttc" id="aNetType_8h_html"><div class="ttname"><a href="NetType_8h.html">NetType.h</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Port_html_a762d5ae5fe8e3cdad9438a91c7974263"><div class="ttname"><a href="classyarp_1_1os_1_1Port.html#a762d5ae5fe8e3cdad9438a91c7974263">yarp::os::Port::addOutput</a></div><div class="ttdeci">bool addOutput(const std::string &amp;name) override</div><div class="ttdoc">Add an output connection to the specified port.</div><div class="ttdef"><b>Definition:</b> <a href="Port_8cpp_source.html#l00339">Port.cpp:339</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Port_html"><div class="ttname"><a href="classyarp_1_1os_1_1Port.html">yarp::os::Port</a></div><div class="ttdoc">A mini-server for network communication.</div><div class="ttdef"><b>Definition:</b> <a href="Port_8h_source.html#l00049">Port.h:50</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bottle_html_a6cd61ddbda2c4970bbe8087cf5986e42"><div class="ttname"><a href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">yarp::os::Bottle::get</a></div><div class="ttdeci">Value &amp; get(size_type index) const</div><div class="ttdoc">Reads a Value v from a certain part of the list.</div><div class="ttdef"><b>Definition:</b> <a href="Bottle_8cpp_source.html#l00245">Bottle.cpp:245</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bytes_html_ad62e722069297651d9efb5fa7fba1d92"><div class="ttname"><a href="classyarp_1_1os_1_1Bytes.html#ad62e722069297651d9efb5fa7fba1d92">yarp::os::Bytes::get</a></div><div class="ttdeci">const char * get() const</div><div class="ttdef"><b>Definition:</b> <a href="Bytes_8cpp_source.html#l00030">Bytes.cpp:30</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bytes_html_a1777bdec41bab120b74bc353e3570377"><div class="ttname"><a href="classyarp_1_1os_1_1Bytes.html#a1777bdec41bab120b74bc353e3570377">yarp::os::Bytes::length</a></div><div class="ttdeci">size_t length() const</div><div class="ttdef"><b>Definition:</b> <a href="Bytes_8cpp_source.html#l00025">Bytes.cpp:25</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Value_html_af2125ceb5eb007b6cd6ab77666682117"><div class="ttname"><a href="classyarp_1_1os_1_1Value.html#af2125ceb5eb007b6cd6ab77666682117">yarp::os::Value::asString</a></div><div class="ttdeci">virtual std::string asString() const</div><div class="ttdoc">Get string value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8cpp_source.html#l00237">Value.cpp:237</a></div></div>
<div class="ttc" id="anamespaceyarp_1_1conf_html_a3df5afb43ff7b7cc2b4e3cb9150eab20"><div class="ttname"><a href="namespaceyarp_1_1conf.html#a3df5afb43ff7b7cc2b4e3cb9150eab20">yarp::conf::ssize_t</a></div><div class="ttdeci">::ssize_t ssize_t</div><div class="ttdef"><b>Definition:</b> <a href="numeric_8h_source.html#l00060">numeric.h:60</a></div></div>
<div class="ttc" id="aWireBottle_8cpp_html_a4a9786d0586655d019a7bef4b3e3cc8c"><div class="ttname"><a href="WireBottle_8cpp.html#a4a9786d0586655d019a7bef4b3e3cc8c">checkBottle</a></div><div class="ttdeci">static char * checkBottle(char *cursor, int &amp;remaining, int ct, int list_tag)</div><div class="ttdef"><b>Definition:</b> <a href="WireBottle_8cpp_source.html#l00025">WireBottle.cpp:25</a></div></div>
<div class="ttc" id="aclassyarp_1_1wire__rep__utils_1_1WireTwiddler_html_a3ca9fc8ee387e3ef1ce189ac2b2764ba"><div class="ttname"><a href="classyarp_1_1wire__rep__utils_1_1WireTwiddler.html#a3ca9fc8ee387e3ef1ce189ac2b2764ba">yarp::wire_rep_utils::WireTwiddler::configure</a></div><div class="ttdeci">bool configure(const char *txt, const char *prompt)</div><div class="ttdef"><b>Definition:</b> <a href="WireTwiddler_8cpp_source.html#l00216">WireTwiddler.cpp:216</a></div></div>
<div class="ttc" id="aclassTcpRosStream_html_ab9c89b4b600dd503f8d44ae36777e4fa"><div class="ttname"><a href="classTcpRosStream.html#ab9c89b4b600dd503f8d44ae36777e4fa">TcpRosStream::write</a></div><div class="ttdeci">void write(const yarp::os::Bytes &amp;b) override</div><div class="ttdoc">Write a block of bytes to the stream.</div><div class="ttdef"><b>Definition:</b> <a href="TcpRosStream_8cpp_source.html#l00142">TcpRosStream.cpp:142</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bottle_html_ad5bc9c6a71cde0b2bec814f3b632e28a"><div class="ttname"><a href="classyarp_1_1os_1_1Bottle.html#ad5bc9c6a71cde0b2bec814f3b632e28a">yarp::os::Bottle::addString</a></div><div class="ttdeci">void addString(const char *str)</div><div class="ttdoc">Places a string in the bottle, at the end of the list.</div><div class="ttdef"><b>Definition:</b> <a href="Bottle_8cpp_source.html#l00169">Bottle.cpp:169</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bytes_html"><div class="ttname"><a href="classyarp_1_1os_1_1Bytes.html">yarp::os::Bytes</a></div><div class="ttdoc">A simple abstraction for a block of bytes.</div><div class="ttdef"><b>Definition:</b> <a href="Bytes_8h_source.html#l00027">Bytes.h:28</a></div></div>
<div class="ttc" id="aTcpRosStream_8cpp_html_a6d26dbcf5cbf442c42ac03986edf8792"><div class="ttname"><a href="TcpRosStream_8cpp.html#a6d26dbcf5cbf442c42ac03986edf8792">dbg_printf</a></div><div class="ttdeci">#define dbg_printf</div><div class="ttdef"><b>Definition:</b> <a href="TcpRosStream_8cpp_source.html#l00025">TcpRosStream.cpp:25</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Port_html_a1b49511d808f5731e2f7cf9e9831ff5e"><div class="ttname"><a href="classyarp_1_1os_1_1Port.html#a1b49511d808f5731e2f7cf9e9831ff5e">yarp::os::Port::write</a></div><div class="ttdeci">bool write(const PortWriter &amp;writer, const PortWriter *callback=nullptr) const override</div><div class="ttdoc">Write an object to the port.</div><div class="ttdef"><b>Definition:</b> <a href="Port_8cpp_source.html#l00422">Port.cpp:422</a></div></div>
<div class="ttc" id="aclassyarp_1_1wire__rep__utils_1_1WireTwiddler_html"><div class="ttname"><a href="classyarp_1_1wire__rep__utils_1_1WireTwiddler.html">yarp::wire_rep_utils::WireTwiddler</a></div><div class="ttdef"><b>Definition:</b> <a href="WireTwiddler_8h_source.html#l00071">WireTwiddler.h:72</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1InputStream_html_a448b29e1cd20c5ae3bf3a43ba6b49f17"><div class="ttname"><a href="classyarp_1_1os_1_1InputStream.html#a448b29e1cd20c5ae3bf3a43ba6b49f17">yarp::os::InputStream::read</a></div><div class="ttdeci">virtual int read()</div><div class="ttdoc">Read and return a single byte.</div><div class="ttdef"><b>Definition:</b> <a href="InputStream_8cpp_source.html#l00023">InputStream.cpp:23</a></div></div>
<div class="ttc" id="anamespaceyarp_1_1os_html"><div class="ttname"><a href="namespaceyarp_1_1os.html">yarp::os</a></div><div class="ttdoc">An interface to the operating system, including Port based communication.</div><div class="ttdef"><b>Definition:</b> <a href="AbstractCarrier_8h_source.html#l00017">AbstractCarrier.h:17</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Port_html_acabc7339a09ce49ea5341430a5046584"><div class="ttname"><a href="classyarp_1_1os_1_1Port.html#acabc7339a09ce49ea5341430a5046584">yarp::os::Port::openFake</a></div><div class="ttdeci">bool openFake(const std::string &amp;name)</div><div class="ttdoc">Start port without making it accessible from the network.</div><div class="ttdef"><b>Definition:</b> <a href="Port_8cpp_source.html#l00073">Port.cpp:73</a></div></div>
<div class="ttc" id="aWireBottle_8h_html"><div class="ttname"><a href="WireBottle_8h.html">WireBottle.h</a></div></div>
<div class="ttc" id="anamespaceyarp_1_1wire__rep__utils_html"><div class="ttname"><a href="namespaceyarp_1_1wire__rep__utils.html">yarp::wire_rep_utils</a></div><div class="ttdef"><b>Definition:</b> <a href="BlobNetworkHeader_8h_source.html#l00018">BlobNetworkHeader.h:18</a></div></div>
<div class="ttc" id="aTcpRosStream_8h_html"><div class="ttname"><a href="TcpRosStream_8h.html">TcpRosStream.h</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1NetType_html_a180deac631b371563b130ee2f0c7e320"><div class="ttname"><a href="classyarp_1_1os_1_1NetType.html#a180deac631b371563b130ee2f0c7e320">yarp::os::NetType::netInt</a></div><div class="ttdeci">static int netInt(const yarp::os::Bytes &amp;code)</div><div class="ttdef"><b>Definition:</b> <a href="NetType_8cpp_source.html#l00021">NetType.cpp:21</a></div></div>
<div class="ttc" id="aBottle_8h_html"><div class="ttname"><a href="Bottle_8h.html">Bottle.h</a></div></div>
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li><span id="projectname_footer">YARP</span></li>
    <li><span id="projectnumber" class="version_switch">3.3.3</span></li>
    <li class="navelem"><a class="el" href="dir_d946d32291de7db32f6a943fb45d46f4.html">src</a></li><li class="navelem"><a class="el" href="dir_3a6d4fe852bd45072448dc4dcf6430e7.html">carriers</a></li><li class="navelem"><a class="el" href="dir_24d49b75c953ec82f1f8d36e06fab3b2.html">tcpros_carrier</a></li><li class="navelem"><a class="el" href="TcpRosStream_8cpp.html">TcpRosStream.cpp</a></li>
    <li class="footer">Generated on Tue Nov 3 2020 16:56:59 for YARP by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
