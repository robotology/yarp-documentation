<!-- HTML header for doxygen 1.8.12-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>YARP: yarpview: visualize YARP images</title>
<link rel="shortcut icon" href="yarp-favicon.ico" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
    var DOCUMENTATION_OPTIONS = { VERSION: '3.3.3' };
</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="yarp-doxygen-style.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../version_switch.js"></script>
<link rel="stylesheet" type="text/css" href="cookieconsent.min.css" />
<script src="cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#eb6c44",
      "text": "#ffffff"
    },
    "button": {
      "background": "#237afc",
    }
  },
  "theme": "classic",
  "content": {
    "message": "INFORMATION NOTICE ON COOKIES : This website uses only browsing/session cookies. Users can choose whether or not to accept the use of cookies and access the website. By clicking on \"Further information\", the full information notice on the types of cookies will be displayed and you will be able  to choose whether or not to accept them whilst browsing on the website.",
    "dismiss": "ACCEPT and close",
    "link": "Further information",
    "href": "http://www.icub.org/other/personal_data_notice.html"
  }
})});
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="yarp-robot-64.png"/></td>
  <td id="projectalign" style="padding-left: 1.5em;">
   <div id="projectname">YARP</div>
   <div id="projectbrief">Yet Another Robot Platform</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('yarpview.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">yarpview: visualize YARP images </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#yarpview_intro">Introducton</a></li>
<li class="level1"><a href="#yarpview_stats">Debugging connection problems</a></li>
<li class="level1"><a href="#yarpview_getting_clicks">Getting image coordinates</a></li>
<li class="level1"><a href="#yarpview_compact">Sparing space on the screen</a></li>
<li class="level1"><a href="#yarpview_advanced">Some advanced options for scripting</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="yarpview_intro"></a>
Introducton</h1>
<p>yarpview is a standard graphical interface for viewing images transmitted on the network.</p>
<div class="image">
<img src="yarpview.png" alt=""/>
</div>
 <p>Let's experiment with it. We need to create a source of images. The "test_grabber" is a virtual framegrabber which broadcasts images on the network at a given framerate. Let's start test_grabber:</p>
<pre class="fragment">yarpdev --device test_grabber --name /grabber
</pre><p>You can now run yarpview: </p><pre class="fragment">yarpview
</pre><p>By default yarpview uses the port named /yarpview/img:i. You can connect it to the grabber:</p>
<pre class="fragment">yarp connect /grabber /yarpview/img:i
</pre><p>Let's get accustomed with the GUI. It displays in the main window the images that are received. To reduce CPU usage yarpview shows these images with a certain refresh (default is 10Hz). You can change the refresh time using the menu (Image-&gt;Change refresh interval). If you select Image-&gt;Synch display all images will be displayed (assuming there is enough CPU time). Freeze stop the refresh and holds the last images that was displayed.</p>
<p>You can resize and move the window as you like. If you want to restore the size of the GUI to fit the size of the images (1:1 ratio) you have to select Image-&gt;Original Size. If you prefer you can restore only the original aspect ratio (Image-&gt;Original aspect ratio).</p>
<p>From the menu "File" you can also save individual or sequences of frames.</p>
<p>Usually you want to change the port name (especially to execute multiple instances of yarpview):</p>
<pre class="fragment">yarpview --name /portname
</pre><p>Help is displayed with: </p><pre class="fragment">yarpview_help yarpview --help
</pre><p>Print a simple help with all parameters and their usage. This is available only if yarpview has access to a console (it depends on the OS).</p>
<h1><a class="anchor" id="yarpview_stats"></a>
Debugging connection problems</h1>
<p>At its bottom yarpview shows statistics related to the frequency at which it receives and displays images (respectively Port and Display). The Port statistics helps montoring the performacen of the network and it is useful for debugging.</p>
<p>As an example the images above show two instances of yarpview. In this case the port receives data with the framerate of 30Hz while the display runs at 10Hz. Images are from two instances of "test_grabber".</p>
<p>Notice that the values in Port and Display should be approximately equal when the option "Synch display" is selected.</p>
<h1><a class="anchor" id="yarpview_getting_clicks"></a>
Getting image coordinates</h1>
<p>You can also get the coordinates of a given point in the image by clicking on it. To enable ths feature you have to run:</p>
<pre class="fragment">yarpview --name /portname --out /click
</pre><p>Now yarpview will produce on the port /click a pair of coordinates (column, row) every time the user clicks on the video stream. The coordinate system is at the top-let (i.e. 0,0 is the topleft corner of the image).</p>
<p>For example, you can display this output with: </p><pre class="fragment">yarp read /read /CLICK
yarp: Port /tmp/port/1 active at tcp://192.168.1.185:10007
yarp: Receiving input from /click to /tmp/port/1 using tcp
46 60
46 60
3 6
3 6
38 16
38 16
104 34
104 34
118 30
118 30
yarp: Removing input from /click to /tmp/port/1
</pre><p>Note that this will only work if at least one image has been shown by the viewer (the image is needed to establish the scale).</p>
<h1><a class="anchor" id="yarpview_compact"></a>
Sparing space on the screen</h1>
<p>If you want to spare space on the screen you can remove the menu bar and the widget at the bottom:</p>
<pre class="fragment">yarpview --compact
</pre><p>If you really want to see only the images, try this:</p>
<pre class="fragment">yarpview --minimal
</pre><h1><a class="anchor" id="yarpview_advanced"></a>
Some advanced options for scripting</h1>
<p>The following options allows placing the viewer at specific locations. Ths is useful for scripting:</p>
<pre class="fragment">yarpview_pos yarpview --x X_POSITION --y Y_POSITION
</pre><p>To change the size:</p>
<pre class="fragment">\section yarpview_size yarpview --w WIDTH --h HEIGHT
</pre><p>You can set the framerate at with which the viewer updates the image:</p>
<pre class="fragment">yarpview --p framerate
</pre><p>Notice that this substitutes the parameter &ndash;RefreshTime which is now deprecated.</p>
<p>Otherwise you can ask yarpview to display all images that are received on the port: </p><pre class="fragment">yarpview --synch
</pre><p>In this way (if there is enough CPU time) all images received from the port will be displayed in the screen. This is useful if you do not want to lose frames. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li><span id="projectname_footer">YARP</span></li>
    <li><span id="projectnumber" class="version_switch">3.3.3</span></li>
    <li class="footer">Generated on Tue Nov 3 2020 16:57:06 for YARP by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
