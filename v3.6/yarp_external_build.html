<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>YARP: Configuring your external build</title>
<link rel="shortcut icon" href="yarp-favicon.ico" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
    var DOCUMENTATION_OPTIONS = { VERSION: '3.6.0' };
</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="yarp-doxygen-style.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../version_switch.js"></script>
<link rel="stylesheet" type="text/css" href="cookieconsent.min.css" />
<script src="cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#eb6c44",
      "text": "#ffffff"
    },
    "button": {
      "background": "#237afc",
    }
  },
  "theme": "classic",
  "content": {
    "message": "INFORMATION NOTICE ON COOKIES : This website uses only browsing/session cookies. Users can choose whether or not to accept the use of cookies and access the website. By clicking on \"Further information\", the full information notice on the types of cookies will be displayed and you will be able  to choose whether or not to accept them whilst browsing on the website.",
    "dismiss": "ACCEPT and close",
    "link": "Further information",
    "href": "http://www.icub.org/other/personal_data_notice.html"
  }
})});
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="yarp-robot-64.png"/></td>
  <td id="projectalign" style="padding-left: 1.5em;">
   <div id="projectname">YARP</div>
   <div id="projectbrief">Yet Another Robot Platform</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('yarp_external_build.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Configuring your external build </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#data-files-inside-specific-directories">Install data files inside directories specific for your project</a></li>
</ul>
</div>
<div class="textblock"><p>These simple instructions show how to configure your build to install data files (xml and config files for applications and modules) so that they can be easily found by programs that use ResourceFinder objects.</p>
<p>First make sure you find YARP, which brings in a set of YARP variables and commands.</p>
<pre class="fragment"> find_package(YARP REQUIRED)
</pre><p>You can now use YARP's own data directories, e.g.:</p>
<pre class="fragment"> yarp_install(FILES ${conf} DESTINATION ${YARP_CONTEXTS_INSTALL_DIR}/${appname})
 yarp_install(FILES ${templates} DESTINATION ${YARP_APPLICATIONS_TEMPLATES_INSTALL_DIR})
 yarp_install(FILES ${scripts} DESTINATION ${YARP_APPLICATIONS_INSTALL_DIR})
</pre><p>Please note that these CMake variables define relative paths, where data will be installed with respect to the installation prefix you configure your build with (CMAKE_INSTALL_PREFIX CMake variable); for YARP to be able to find these files, you need to make sure that the installation prefix for your build matches the one for YARP, or you will need to tweak your environment by <a class="el" href="yarp_data_dirs.html#datafiles_extendsearch">setting the YARP_DATA_DIRS environment variable</a>.</p>
<h1><a class="anchor" id="data-files-inside-specific-directories"></a>
Install data files inside directories specific for your project</h1>
<p>We recommend you now have a look at the tutorials in <a class="el" href="yarp_resource_finder_tutorials.html">ResourceFinder Tutorials and Specification</a> to see how you can use these variables and the ResourceFinder class in your project.</p>
<p><em> This is an advanced feature that should be considered experimental and can be removed in the future.</em></p>
<p>If you want to install data files inside directories specific to your project, you should add:</p>
<pre class="fragment"> yarp_configure_external_installation(&lt;PACKAGE&gt;
                                      [COMPONENT &lt;component&gt;]
#                                     [NO_PATH_D]
#                                     [WITH_PLUGINS])
# )
</pre><p>Where <em>PACKAGE</em> is the name of your build/project. This command creates the following CMake variables containing paths relative to the install prefix:</p>
<ul>
<li><b>&lt;PACKAGE&gt;_CONTEXTS_INSTALL_DIR</b> for "context" folders, containing configuration files and data that modules look for at runtime </li>
<li><b>&lt;PACKAGE&gt;_PLUGIN_MANIFESTS_INSTALL_DIR</b> for plugin manifest files </li>
<li><b>&lt;PACKAGE&gt;_APPLICATIONS_INSTALL_DIR</b> for XML files describing applications (collections of modules and connections between them) </li>
<li><b>&lt;PACKAGE&gt;_MODULES_INSTALL_DIR</b> for XML files describing modules (including input/output ports) </li>
<li><b>&lt;PACKAGE&gt;_ROBOTS_INSTALL_DIR</b> for robot-specific configuration files </li>
<li><b>&lt;PACKAGE&gt;_TEMPLATES_INSTALL_DIR</b> generic directory for templates; it is however advised to use specific applications/modules templates install directories </li>
<li><b>&lt;PACKAGE&gt;_APPLICATIONS_TEMPLATES_INSTALL_DIR</b> for application templates (XML files with .template extension), which need to be properly customized </li>
<li><b>&lt;PACKAGE&gt;_MODULES_TEMPLATES_INSTALL_DIR</b> for module templates (should not be needed) </li>
<li><b>&lt;PACKAGE&gt;_DATA_INSTALL_DIR</b> generic directory for data; it is however advised to use more specific directories </li>
<li><b>&lt;PACKAGE&gt;_CONFIG_INSTALL_DIR</b> generic directory for configuration files</li>
</ul>
<p>and the analogue variables containing absolute paths:</p>
<ul>
<li><b>&lt;PACKAGE&gt;_CONTEXTS_INSTALL_DIR_FULL</b> </li>
<li><b>&lt;PACKAGE&gt;_PLUGIN_MANIFESTS_INSTALL_DIR_FULL</b> </li>
<li><b>&lt;PACKAGE&gt;_APPLICATIONS_INSTALL_DIR_FULL</b> </li>
<li><b>&lt;PACKAGE&gt;_MODULES_INSTALL_DIR_FULL</b> </li>
<li><b>&lt;PACKAGE&gt;_ROBOTS_INSTALL_DIR_FULL</b> </li>
<li><b>&lt;PACKAGE&gt;_TEMPLATES_INSTALL_DIR_FULL</b> </li>
<li><b>&lt;PACKAGE&gt;_APPLICATIONS_TEMPLATES_INSTALL_DIR_FULL</b> </li>
<li><b>&lt;PACKAGE&gt;_MODULES_TEMPLATES_INSTALL_DIR_FULL</b> </li>
<li><b>&lt;PACKAGE&gt;_DATA_INSTALL_DIR_FULL</b> </li>
<li><b>&lt;PACKAGE&gt;_CONFIG_INSTALL_DIR_FULL</b></li>
</ul>
<p>Now you can install additional data files by using the macro <em>yarp_install</em>, e.g.: </p><pre class="fragment"> set (appname myApplication)
 file(GLOB conf ${CMAKE_CURRENT_SOURCE_DIR}/conf/*.ini)
 file(GLOB templates ${CMAKE_CURRENT_SOURCE_DIR}/scripts/*.template)
 file(GLOB scripts ${CMAKE_CURRENT_SOURCE_DIR}/scripts/*.xml)

 yarp_install(FILES ${conf} DESTINATION ${&lt;PACKAGE&gt;_CONTEXTS_INSTALL_DIR}/${appname})
 yarp_install(FILES ${templates} DESTINATION ${&lt;PACKAGE&gt;_APPLICATIONS_TEMPLATES_INSTALL_DIR})
 yarp_install(FILES ${scripts} DESTINATION ${&lt;PACKAGE&gt;_APPLICATIONS_INSTALL_DIR})
</pre><p>Unless the <em>NO_PATH_D</em> option is passed, this macro checks if the installation directory of the package is the same as YARP's, in which case it sets up automatic recognition of data directories; otherwise, it warns the user to set up appropriately the YARP_DATA_DIRS environment variable.</p>
<p>If the <em>WITH_PLUGINS</em> argument is passed, a plugin manifest file containing the search path for the plugins is generated and installed</p>
<p>An extra <em>COMPONENT</em> argument can be passed to this function to set the component for the installed files. If not set, "configuration" will be used. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li><span id="projectname_footer">YARP</span></li>
    <li><span id="projectnumber" class="version_switch">3.6.0</span></li>
    <li class="footer">Generated on Wed Jun 1 2022 14:48:32 for YARP by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
