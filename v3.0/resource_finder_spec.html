<!-- HTML header for doxygen 1.8.12-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>YARP: The ResourceFinder Specification</title>
<link rel="shortcut icon" href="yarp-favicon.ico" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
    var DOCUMENTATION_OPTIONS = { VERSION: '3.0.1' };
</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="yarp-doxygen-style.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../version_switch.js"></script>
<link rel="stylesheet" type="text/css" href="cookieconsent.min.css" />
<script src="cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#eb6c44",
      "text": "#ffffff"
    },
    "button": {
      "background": "#237afc",
    }
  },
  "theme": "classic",
  "content": {
    "message": "INFORMATION NOTICE ON COOKIES : This website uses only browsing/session cookies. Users can choose whether or not to accept the use of cookies and access the website. By clicking on \"Further information\", the full information notice on the types of cookies will be displayed and you will be able  to choose whether or not to accept them whilst browsing on the website.",
    "dismiss": "ACCEPT and close",
    "link": "Further information",
    "href": "http://www.icub.org/other/personal_data_notice.html"
  }
})});
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="yarp-robot-64.png"/></td>
  <td id="projectalign" style="padding-left: 1.5em;">
   <div id="projectname">YARP</div>
   <div id="projectbrief">Yet Another Robot Platform</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('resource_finder_spec.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">The ResourceFinder Specification </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Lorenzo Natale, Daniele E. Domenichelli, and Elena Ceseracciu</dd></dl>
<h1><a class="anchor" id="autotoc_md182"></a>
Directories used by ResourceFinder</h1>
<p>Broadly speaking, there are three ways in which the ResourceFinder operates to locate files:</p>
<ul>
<li>looking in the current working directory</li>
<li>according to a policy</li>
<li>performing a system-wide search according to the following environment variables</li>
</ul>
<p><b>YARP_CONFIG_HOME</b></p><ul>
<li>Location where user config files are stored <code>&lt;path to a directory&gt;</code></li>
<li>Unless the user wants to test some specific setting, this environment variable should be unset</li>
</ul>
<p><b>YARP_DATA_HOME</b></p><ul>
<li>Location where user data files are stored <code>&lt;path to a directory&gt;</code></li>
<li>Unless the user wants to test some specific setting, this environment variable should be unset</li>
</ul>
<p><b>YARP_CONFIG_DIRS</b></p><ul>
<li>Locations where system administrator data and config files are stored <code>&lt;list of path separated by (semi)colons&gt;</code></li>
<li>These directories can be used by the system administrator to modify some specific setting for the system</li>
</ul>
<p><b>YARP_DATA_DIRS</b></p><ul>
<li>Locations where installed data and config files are stored <code>&lt;list of path separated by (semi)colons&gt;</code>. <br  />
</li>
<li>These are usually the directories where the installers put the data files.</li>
<li>If a user wants to use uninstalled packages, she should modify this environment variable</li>
</ul>
<p>When searching for files and directories, the ResourceFinder looks inside these directories in the above order, so that files modified by the user take precedence over installed ones.</p>
<p>The default value for these variables is dependent on the operating system.</p>
<h2><a class="anchor" id="autotoc_md183"></a>
Linux</h2>
<p>Default values for Linux are based on the XDG Base Directory Specification (see <a href="http://standards.freedesktop.org/basedir-spec/basedir-spec-0.8.html">http://standards.freedesktop.org/basedir-spec/basedir-spec-0.8.html</a>). They rely on XDG environment variables, whose default values are:</p>
<p><b>$XDG_DATA_HOME</b>: </p><blockquote class="doxtable">
<p>$HOME/.local/share/ </p>
</blockquote>
<p><b>$XDG_CONFIG_HOME</b>: </p><blockquote class="doxtable">
<p>$HOME/.config/ </p>
</blockquote>
<p><b>$XDG_DATA_DIRS</b>: </p><blockquote class="doxtable">
<p>/usr/local/share/:/usr/share/ </p>
</blockquote>
<p><b>$XDG_CONFIG_DIRS</b>: </p><blockquote class="doxtable">
<p>/etc/xdg/ <br  />
 </p>
</blockquote>
<p>Default values for Yarp are:</p>
<p><b>$YARP_DATA_HOME</b>: </p><blockquote class="doxtable">
<p>$XDG_DATA_HOME + /yarp/ </p>
</blockquote>
<p><b>$YARP_CONFIG_HOME</b>: </p><blockquote class="doxtable">
<p>$XDG_CONFIG_HOME + /yarp/ </p>
</blockquote>
<p><b>$YARP_DATA_DIRS</b>: </p><blockquote class="doxtable">
<p>$XDG_DATA_DIRS + /yarp/ (appended to each dir) </p>
</blockquote>
<p><b>$YARP_CONFIG_DIRS</b>: </p><blockquote class="doxtable">
<p>$XDG_CONFIG_DIRS + /yarp/ (appended to each dir) [NOTE: /etc/yarp is used as default instead of /etc/xdg/yarp ] <br  />
 </p>
</blockquote>
<h2><a class="anchor" id="autotoc_md184"></a>
Windows</h2>
<p>The following environment variables (with their respective default values) are available on windows:</p>
<p><b>%YARP_DIR%</b>: </p><blockquote class="doxtable">
<p><code>C:\Program Files\robotology\YARP_2.X.XX</code> or <code>C:\Program Files (x86)\robotology\YARP_2.X.XX</code> (Set by the installer or by the user) </p>
</blockquote>
<p><b>%HOMEPATH%</b>: </p><blockquote class="doxtable">
<p><code>C:\Users\&lt;username&gt;</code> or <code>C:\Documents and Settings\&lt;username&gt;</code> (User home) </p>
</blockquote>
<p><b>%APPDATA%</b>: </p><blockquote class="doxtable">
<p><code>%HOMEPATH%\AppData\Roaming</code> (Windows 7) or <code>%HOMEPATH%\Application Data</code> (Windows XP) (Location where applications should store their data by default) </p>
</blockquote>
<p><b>%ALLUSERSPROFILE%</b>: </p><blockquote class="doxtable">
<p><code>C:\ProgramData</code> (Windows Vista) or <code>C:\Documents and Settings\All Users</code> (Windows XP) (Location of the "All Users" or "Common" profile folder) <br  />
 </p>
</blockquote>
<p>Default values for Yarp are therefore:</p>
<p><b>%YARP_DATA_HOME%</b>: </p><blockquote class="doxtable">
<p><code>%APPDATA%\yarp</code> </p>
</blockquote>
<p><b>%YARP_CONFIG_HOME%</b>: </p><blockquote class="doxtable">
<p><code>%APPDATA%\yarp\config\</code> </p>
</blockquote>
<p><b>%YARP_DATA_DIRS%</b>: </p><blockquote class="doxtable">
<p><code>%YARP_DIR%\share\yarp\</code> </p>
</blockquote>
<p><b>%YARP_CONFIG_DIRS%</b>: </p><blockquote class="doxtable">
<p><code>%ALLUSERSPROFILE%\yarp\</code> <br  />
 </p>
</blockquote>
<h2><a class="anchor" id="autotoc_md185"></a>
macOS</h2>
<p>On macOS, the following environment variable is used:</p>
<p><b>$HOME</b>: </p><blockquote class="doxtable">
<p><code>/Users/&lt;username&gt;</code> <br  />
 </p>
</blockquote>
<p>Default values for Yarp are therefore:</p>
<p><b>$YARP_DATA_HOME</b>: </p><blockquote class="doxtable">
<p><code>$HOME/Library/Application Support/yarp</code> </p>
</blockquote>
<p><b>$YARP_CONFIG_HOME</b>: </p><blockquote class="doxtable">
<p><code>$HOME/Library/Preferences/yarp</code> </p>
</blockquote>
<p><b>$YARP_DATA_DIRS</b>: </p><blockquote class="doxtable">
<p><code>/usr/local/share/yarp:/usr/share/yarp</code> </p>
</blockquote>
<p><b>$YARP_CONFIG_DIRS</b>: </p><blockquote class="doxtable">
<p><code>/etc/yarp:Library/Preferences/yarp</code> </p>
</blockquote>
<h1><a class="anchor" id="autotoc_md186"></a>
Configuration Files</h1>
<p>Config files are INI files that contain parameters used by Yarp's own executables.</p>
<ol type="1">
<li>User <code>$YARP_CONFIG_HOME</code></li>
<li>Sysadmin <code>$YARP_CONFIG_DIRS + /config/</code></li>
<li>Installed <code>($YARP_DATA_DIRS &amp;&amp; path.d) + /config/</code></li>
</ol>
<h3><a class="anchor" id="autotoc_md187"></a>
path.d</h3>
<p><b>path.d</b> is a special folder used by yarp to provide a portable way to install 3rd party applications in separate folders (more on this below). It is searched for by the Resource Finder in the same locations as "Installed" configuration files (3) before searching for any "installed" resource. Each file inside this path.d folder contains the path to the "data directory" of the corresponding installed package; this path is therefore appended to the list of paths that make up the Installed locations list (3).</p>
<h1><a class="anchor" id="autotoc_md188"></a>
Data directories contents</h1>
<p>The following directories should be present inside each of the $YARP_DATA_HOME, $YARP_CONFIG_DIRS and $YARP_DATA_DIRS directories so that their content can be found by the Resource Finder</p>
<ul>
<li>contexts</li>
<li>robots</li>
<li>plugins</li>
<li>applications</li>
<li>modules</li>
<li>resources</li>
<li>templates<ul>
<li>applications</li>
<li>modules</li>
</ul>
</li>
</ul>
<p>For any of the above-mentioned directories <code>&lt;dir&gt;</code>, the possible locations are:</p>
<ol type="1">
<li>User <code>$YARP_DATA_HOME + /&lt;dir&gt;/</code></li>
<li>Sysadmin <code>$YARP_CONFIG_DIRS + /&lt;dir&gt;/</code> [should not be normally needed]</li>
<li>Installed <code>($YARP_DATA_DIRS &amp;&amp; path.d) + /&lt;dir&gt;/</code></li>
</ol>
<h2><a class="anchor" id="autotoc_md189"></a>
Contexts and Robots files</h2>
<p>The <em>contexts</em> folders contain multiple sub-folders. Each subfolder represents a context, i.e., a collection of configuration files and data that may be used to configure modules at runtime and read/write any type of files. When the resource finder is configured with a specific context-name (either a default, hard-coded one, or provided as command line parameter to the module), <code>contexts/&lt;context-name&gt;</code> is added to the search path in which the initial configuration file and any additional files are sought. The same <code>&lt;context-name&gt;</code> can appear in user and installed <em>contexts</em> directories, which means that files associated to a context can actually be located in multiple places (i.e., there are both user files and installed files associated to the same context; user files "mask" installed files with the same name).</p>
<p>The <em>robots</em> folders contain multiple sub-folders as well. Each subfolder has the name of a robot, and contains robot-specific files. The ResourceFinder adds <code>robots/$YARP_ROBOT_NAME</code> (default value for this environment variable: default) to the search path, before the context-specific paths.</p>
<h2><a class="anchor" id="autotoc_md190"></a>
Plugins Manifest Files</h2>
<p>Plugin manifest files are INI files that describe which class implements the plugin, the library it is included in, and how to find such library. These files are needed by the yarpdev executable.</p>
<h2><a class="anchor" id="autotoc_md191"></a>
Application deployment files</h2>
<p>Applications*, <em>modules</em> and <em>resources</em> folders contain XML files that describe programs (modules), the resources available to run the programs (resources), and collections of interconnected modules (applications). The <a class="el" href="yarpmanager.html">yarpmanager</a> executable allow to run and monitor applications, while the yarpbuilder executables allows to design new ones.</p>
<p>Templates are XML files with a <code>.template</code> extension. Typical templates are applications that need to be configured (i.e., assigning the node where each module should be run) before they can be executed.</p>
<h1><a class="anchor" id="autotoc_md192"></a>
Generation of the search path</h1>
<p>When looking for an initial configuration file, the ResourceFinder will look inside the following directories (in order):</p>
<ul>
<li>current working directory</li>
<li>robot directory<ul>
<li>user robot directory</li>
<li>installed robot directory (searches also for <code>path.d</code> directory)</li>
</ul>
</li>
<li>(if a context has been specified) context directory<ul>
<li>user context directory</li>
<li>installed context directory</li>
</ul>
</li>
<li>$YARP_CONFIG_HOME</li>
<li>$YARP_DATA_HOME</li>
<li>$YARP_CONFIG_DIRS</li>
<li>$YARP_DATA_DIRS (and <code>path.d</code>)</li>
</ul>
<p>Subsequent searches for files may follow different routes if the initial configuration file was found relative to the "current working directory" ("local" behaviour). In this case, the search path becomes:</p>
<ul>
<li>current working directory</li>
<li>initial configuration file directory (might be different from previous one if the initial configuration file is provided with a relative path)</li>
<li>robot directory<ul>
<li>user robot directory</li>
<li>installed robot directory (searches also for <a href="#_path.d" title="wikilink">path.d</a> directory)</li>
</ul>
</li>
<li>$YARP_CONFIG_HOME</li>
<li>$YARP_DATA_HOME</li>
<li>$YARP_CONFIG_DIRS</li>
<li>$YARP_DATA_DIRS (and <a href="#_path.d" title="wikilink">path.d</a> )</li>
</ul>
<h1><a class="anchor" id="autotoc_md193"></a>
3rd party packages</h1>
<h2><a class="anchor" id="autotoc_md194"></a>
Installed packages</h2>
<p>Yarp exports the following CMake variables:</p>
<ul>
<li>YARP_INSTALL_PREFIX</li>
<li>YARP_CONFIG_INSTALL_DIR</li>
<li>YARP_PLUGIN_MANIFESTS_INSTALL_DIR</li>
<li>YARP_MODULES_INSTALL_DIR</li>
<li>YARP_APPLICATIONS_INSTALL_DIR</li>
<li>YARP_TEMPLATES_INSTALL_DIR</li>
<li>YARP_APPLICATIONS_TEMPLATES_INSTALL_DIR</li>
<li>YARP_MODULES_TEMPLATES_INSTALL_DIR</li>
<li>YARP_CONTEXTS_INSTALL_DIR</li>
<li>YARP_ROBOTS_INSTALL_DIR</li>
</ul>
<p>Using the correct CMake variables when installing files will ensure that those files will be in the correct place on every platform.</p>
<p>Also non-root installation is supported, but both yarp and 3rd party software will require to be configured with the same $PREFIX, and the environment variables will require to be tweaked accordingly.</p>
<h3><a class="anchor" id="autotoc_md195"></a>
Uninstalled packages</h3>
<p>Paths to uninstalled data directories can be appended to the $YARP_DATA_DIRS environment variable. Please note that Yarp will consider these packages as installed; local user data should be put inside $YARP_DATA_HOME</p>
<h3><a class="anchor" id="autotoc_md196"></a>
Packages that want to keep their stuff in their own data directory</h3>
<p>Packages that want to install their files in their own directory, should install a .ini file in $YARP_PREFIX/yarp/config/path.d . This can be done using the <em>yarp_configure_external_installation</em> macro provided in &lt;YARP_SOURCE&gt;/conf/YarpInstallationHelpers.cmake. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li><span id="projectname_footer">YARP</span></li>
    <li><span id="projectnumber" class="version_switch">3.0.1</span></li>
    <li class="footer">Generated on Tue Nov 3 2020 16:37:07 for YARP by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
