<!-- HTML header for doxygen 1.8.12-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>YARP: Contributing to YARP</title>
<link rel="shortcut icon" href="yarp-favicon.ico" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
    var DOCUMENTATION_OPTIONS = { VERSION: '3.0.1' };
</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="yarp-doxygen-style.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../version_switch.js"></script>
<link rel="stylesheet" type="text/css" href="cookieconsent.min.css" />
<script src="cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#eb6c44",
      "text": "#ffffff"
    },
    "button": {
      "background": "#237afc",
    }
  },
  "theme": "classic",
  "content": {
    "message": "INFORMATION NOTICE ON COOKIES : This website uses only browsing/session cookies. Users can choose whether or not to accept the use of cookies and access the website. By clicking on \"Further information\", the full information notice on the types of cookies will be displayed and you will be able  to choose whether or not to accept them whilst browsing on the website.",
    "dismiss": "ACCEPT and close",
    "link": "Further information",
    "href": "http://www.icub.org/other/personal_data_notice.html"
  }
})});
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="yarp-robot-64.png"/></td>
  <td id="projectalign" style="padding-left: 1.5em;">
   <div id="projectname">YARP</div>
   <div id="projectbrief">Yet Another Robot Platform</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('contributing.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Contributing to YARP </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_"></a>.github_CONTRIBUTING</p>
<p><b>Table of Contents</b></p>
<ul>
<li><a href="#code-style">Code Style</a><ul>
<li><a href="#c">C++</a><ul>
<li><a href="#header-guards">Header guards</a></li>
</ul>
</li>
<li><a href="#cmake">CMake</a></li>
<li><a href="#git">Git</a></li>
</ul>
</li>
<li><a href="#workflow">Workflow</a><ul>
<li><a href="#stable-branch-master">Stable branch: <code>master</code></a></li>
<li><a href="#development-branch-devel">Development branch: <code>devel</code></a></li>
<li><a href="#example">Example</a></li>
<li><a href="#terminology">Terminology</a></li>
</ul>
</li>
<li><a href="#policies">Policies</a><ul>
<li><a href="#deprecated-features">Deprecated features</a></li>
<li><a href="#supported-systems">Supported Systems</a></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md207"></a>
Code Style</h1>
<p>This is the recommended code style for YARP.</p>
<h2><a class="anchor" id="autotoc_md208"></a>
C++</h2>
<ul>
<li>4 spaces indentation</li>
<li>No tabs</li>
<li>No white spaces at the end of the line</li>
<li>One EOL at the end of the file</li>
<li>All files should use UNIX end of lines</li>
</ul>
<h3>Header guards</h3>
<ul>
<li>Do not use <code>#pragma once</code>, use instead <code>#ifndef ... #define ... #endif</code> macro.</li>
<li>The defined macro should have this format:<ul>
<li>Main libraries: <code>YARP_&lt;LIB&gt;_&lt;FILENAME_H&gt;</code> i.e. <code>YARP_OS_FOO_H</code></li>
<li>Impl headers: <code>YARP_&lt;LIB&gt;_IMPL_&lt;FILENAME_H&gt;</code> i.e. <code>YARP_OS_IMPL_FOO_H</code></li>
<li>Plugins (carriers and devices): <code>YARP_&lt;NAME&gt;_&lt;CARRIER/DEVICE&gt;_FILENAME_H</code> i.e. <code>YARP_HUMAN_CARRIER_HUMANSTREAM_H</code> and<code>YARP_FAKEBOT_DEVICE_FAKEBOT_H</code></li>
<li>Executables (tools and GUIs): <code>YARP_&lt;NAME&gt;_FILENAME_H</code> i.e. <code>YARP_YARP_YARPROBOT_H</code> and <code>YARP_YARPMANAGER_QT_YSCOPEWINDOW_H</code></li>
</ul>
</li>
<li>Add a comment in the final <code>#endif</code> containing the closed <code>#ifndef</code>.</li>
</ul>
<p>Example:</p>
<div class="fragment"><div class="line">#ifndef YARP_OS_FOO_H</div>
<div class="line">#define YARP_OS_FOO_H</div>
<div class="line"> </div>
<div class="line">[...]</div>
<div class="line"> </div>
<div class="line">#endif // YARP_OS_FOO_H</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md209"></a>
CMake</h2>
<ul>
<li>2 spaces indentation</li>
<li>No tabs.</li>
<li>Lowercase commands, i.e. <code>if</code> instead of <code>IF</code></li>
<li>No spaces between the command and the bracket, i.e. <code>if()</code> instead of <code>if ()</code></li>
<li>Do not repeat the argument in the commands closing blocks, i.e. <code>if(FOO) ... else() ... endif()</code> instead of <code>if(FOO) ... else(FOO) ... endif(FOO)</code></li>
<li>Do not use the new CMake comment style, as that is supported only starting from CMake 3.0</li>
<li>No white spaces at the end of the line</li>
<li>One EOL at the end of the file</li>
<li>All files should use UNIX end of lines</li>
</ul>
<h2><a class="anchor" id="autotoc_md210"></a>
Git</h2>
<ul>
<li>Do not push merges generated by <code>git pull</code>. Always <code>pull --rebase</code>.</li>
<li>Always check what you are pushing using some graphic tool (<code>qgit</code>, <code>gitg</code>, <code>gitk</code>)</li>
<li>Keep the commits small and do one and only one thing in each commit. Use <code>rebase -i</code> and <code>amend</code> to rewrite your <b>local</b> history and keep it clean.</li>
<li>Commit log should be something like this (note the empty line between the summary and the long description): <div class="fragment"><div class="line">Summary of the commit</div>
<div class="line"> </div>
<div class="line">Long description of the commit wrapped at 72 characters.</div>
</div><!-- fragment --></li>
<li>Never force-push on the <code>master</code> and <code>devel</code> branches unless there is a very good reason to do it</li>
</ul>
<h1><a class="anchor" id="autotoc_md211"></a>
Workflow</h1>
<h2><a class="anchor" id="autotoc_md212"></a>
Stable branch: &lt;tt&gt;master&lt;/tt&gt;</h2>
<p>The <code>master</code> branch is stable and <b>should not receive new features</b>. Only <b>bug fixes</b> are accepted.</p>
<p>This is the typical workflow to fix a bug in the master branch.</p>
<ul>
<li>Identify a bug that does not require breaking changes of the API/ABI.</li>
<li>Open an issue on github.</li>
<li>Add some label (FIXME which label?).</li>
<li>Assign the issue to yourself.</li>
<li>Create a new branch starting from the <code>master</code> branch:</li>
</ul>
<div class="fragment"><div class="line">git fetch origin</div>
<div class="line">git checkout -b &lt;branch_name&gt; origin/master</div>
</div><!-- fragment --><ul>
<li>Fix the bug and make one or more commits.</li>
<li><a href="https://help.github.com/categories/collaborating-on-projects-using-pull-requests/">Push the branch on your fork and create a pull request</a>.</li>
<li>Wait for someone else to review your fix and merge your pull request.</li>
<li>Your fix is now in the <code>master</code> branch, now you need to port it to the <code>devel</code> branch.<ul>
<li>Ensure that your branches are in sync with <code>origin</code>:</li>
</ul>
</li>
</ul>
<div class="fragment"><div class="line">git checkout master</div>
<div class="line">git pull --rebase origin master</div>
<div class="line">git checkout devel</div>
<div class="line">git pull --rebase origin devel</div>
</div><!-- fragment --><ul>
<li>Merge master into devel and eventually fix the conflicts.</li>
</ul>
<div class="fragment"><div class="line">git merge master</div>
</div><!-- fragment --><h4>Work in progress PR</h4>
<p>As final note, in case you need to start a PR but you deem it still <b>work-in-progress</b> and don't want anyone to merge it by mistake, do the following:</p><ul>
<li>Put <code>[WIP]</code> at the beginning of the PR title.</li>
<li>Mark the PR with the label <code>"Status: In Progress"</code>.</li>
</ul>
<p>Once you're happy about your work, just remove the <code>[WIP]</code> tag as well as the label, and drop a message within the PR to notify the community that reviews are welcome and merging is now possible.</p>
<h2><a class="anchor" id="autotoc_md213"></a>
Development branch: &lt;tt&gt;devel&lt;/tt&gt;</h2>
<p>We use the branch <code>devel</code> to collect the ongoing work, which is given in terms of <b>new features</b> and <b>bug fixes</b>.</p>
<p>When we introduce a new feature that will cause downstream projects to be aware of such update, we do increase the tweak number (always sticking to <em>odd numbers</em>).</p>
<p>When we decide to publish these new features in a new software release (roughly each <em>3 months</em>), we merge the new modifications into <code>master</code>, doing:</p>
<div class="fragment"><div class="line">git checkout master</div>
<div class="line">git merge --no-ff devel</div>
<div class="line">git push origin master</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md214"></a>
Example</h2>
<p>This is an example of workflow involving:</p><ul>
<li>A bug fixed in the <code>bugfix_xxx</code> branch (gray) and later merged on the <code>master</code> branch (blue).</li>
<li>A few stable tags in the <code>master</code> branch:<ul>
<li><b>v2.3.64.5</b> is latest stable tag for the YARP 2.3.64 release series.</li>
<li><b>v2.3.66</b> is the first stable tag for the YARP 2.3.66 release series.</li>
<li><b>v2.3.66.1</b> is a stable tag (bug fixes only) for the YARP 2.3.66 release series. <b>v2.3.66</b> and <b>v2.3.66.1</b> are compatible (both API and ABI).</li>
</ul>
</li>
<li>The development of a new feature developed in the <code>feature_foo</code> branch (orange) and later merged in the <code>devel</code> branch (purple).</li>
<li>Two fake development tag in the <code>devel</code> branch:<ul>
<li><b>v2.3.67</b> that represents the beginning of the development of the next stable release.</li>
<li><b>v2.3.67.1</b> that includes one new feature. These are not tagged for real in the repository, but represents the actual version number that other projects can check in order to require a specific feature and print an error that is easy to understand when that feature is not available (i.e. in CMake <code>find_package(YARP 2.3.67.1 REQUIRED)</code>)</li>
</ul>
</li>
</ul>
<p><img src="workflow.png" alt="" class="inline" title="YARP Workflow"/>   </p>
<h2><a class="anchor" id="autotoc_md215"></a>
Terminology</h2>
<ul>
<li><b>Downstream projects</b>: code repositories that depend on the project under subject.</li>
<li><b>Versioning format</b>: the versioning system we adopt complies with the format &lt;<b>major</b>&gt;.&lt;<b>minor</b>&gt;.&lt;<b>patch</b>&gt;.&lt;<b>tweak</b>&gt;. Starting with YARP 2.3.66, the <em>patch</em> version number is an <em>even</em> number for stable releases (tagged in <code>master</code>), and an <em>odd</em> number for unstable releases (tagged in <code>devel</code>).</li>
</ul>
<h1><a class="anchor" id="autotoc_md216"></a>
Policies</h1>
<h2><a class="anchor" id="autotoc_md217"></a>
Deprecated features</h2>
<p>Deprecated methods, features, classes, and tools are marked as deprecated instead of removed. This will generate a warning when using these from other projects, or an error if YARP is built with <code>YARP_NO_DEPRECATED</code></p>
<p>No bugfixes or new features will be added to these, unless it is absolutely necessary for some reason.</p>
<p>Deprecated features are definitely removed in the following major release, with the exception of the features removed during the development between the last minor release and the new major release, that are kept until the following major release, in order to simplify as much as possible the migration. During this period, it is also allowed to do breaking changes that cannot be deprecated using the <code>YARP_DEPRECATED</code> methods.</p>
<h2><a class="anchor" id="autotoc_md218"></a>
Supported Systems</h2>
<ul>
<li><b>Linux</b>: See <a href="http://wiki.icub.org/wiki/YARP_Supported_Distributions">YARP Supported Distributions</a></li>
<li><b>Windows</b>:<ul>
<li>Visual Studio 12 2013 32/64 bit</li>
<li>Visual Studio 14 2015 32/64 bit</li>
<li>Visual Studio 15 2017 32/64 bit (work in progress)</li>
</ul>
</li>
<li><b>macOS</b>:<ul>
<li>10.11 El Capitan</li>
<li>10.12 Sierra </li>
</ul>
</li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li><span id="projectname_footer">YARP</span></li>
    <li><span id="projectnumber" class="version_switch">3.0.1</span></li>
    <li class="footer">Generated on Tue Nov 3 2020 16:37:07 for YARP by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
