<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>YARP: src/guis/yarplaserscannergui/main.cpp Source File</title>
<link rel="shortcut icon" href="yarp-favicon.ico" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
    var DOCUMENTATION_OPTIONS = { VERSION: '3.12.0' };
</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="yarp-doxygen-style.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../version_switch.js"></script>
<script src="https://cookiehub.net/c2/44d56061.js"></script>
<script type="text/javascript">
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('consent', 'default', {'ad_storage': 'denied', 'analytics_storage': 'denied', 'wait_for_update': 500});
document.addEventListener("DOMContentLoaded", function(event) {
var cpm = {};
window.cookiehub.load(cpm);
});
</script>
<!--
<link rel="stylesheet" type="text/css" href="cookieconsent.min.css" />
<script src="cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#eb6c44",
      "text": "#ffffff"
    },
    "button": {
      "background": "#237afc",
    }
  },
  "theme": "classic",
  "content": {
    "message": "INFORMATION NOTICE ON COOKIES : This website uses only browsing/session cookies. Users can choose whether or not to accept the use of cookies and access the website. By clicking on \"Further information\", the full information notice on the types of cookies will be displayed and you will be able  to choose whether or not to accept them whilst browsing on the website.",
    "dismiss": "ACCEPT and close",
    "link": "Further information",
    "href": "http://www.icub.eu/other/personal_data_notice.html"
  }
})});
</script>
-->
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="yarp-robot-64.png"/></td>
  <td id="projectalign" style="padding-left: 1.5em;">
   <div id="projectname">YARP</div>
   <div id="projectbrief">Yet Another Robot Platform</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('guis_2yarplaserscannergui_2main_8cpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">main.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="guis_2yarplaserscannergui_2main_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/*</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment"> * SPDX-FileCopyrightText: 2006-2021 Istituto Italiano di Tecnologia (IIT)</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment"> * SPDX-License-Identifier: LGPL-2.1-or-later</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment"> */</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span> </div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno"><a class="line" href="guis_2yarplaserscannergui_2main_8cpp.html#a525335710b53cb064ca56b936120431e">    6</a></span><span class="preprocessor">#define _USE_MATH_DEFINES</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span> </div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#include &lt;iomanip&gt;</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="preprocessor">#include &lt;sstream&gt;</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#include &lt;fstream&gt;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#include &lt;cstdio&gt;</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#include &lt;limits&gt;</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#include &lt;cmath&gt;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &lt;opencv2/opencv.hpp&gt;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &lt;opencv2/core/version.hpp&gt;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &lt;opencv2/highgui/highgui_c.h&gt;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &lt;opencv2/highgui.hpp&gt;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span> </div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &lt;<a class="code" href="Drivers_8h.html">yarp/dev/Drivers.h</a>&gt;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &lt;<a class="code" href="Network_8h.html">yarp/os/Network.h</a>&gt;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &lt;<a class="code" href="Bottle_8h.html">yarp/os/Bottle.h</a>&gt;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &lt;<a class="code" href="BufferedPort_8h.html">yarp/os/BufferedPort.h</a>&gt;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &lt;<a class="code" href="Time_8h.html">yarp/os/Time.h</a>&gt;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &lt;<a class="code" href="Log_8h.html">yarp/os/Log.h</a>&gt;</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#include &lt;<a class="code" href="ResourceFinder_8h.html">yarp/os/ResourceFinder.h</a>&gt;</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#include &lt;<a class="code" href="LogStream_8h.html">yarp/os/LogStream.h</a>&gt;</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="preprocessor">#include &lt;<a class="code" href="Vector_8h.html">yarp/sig/Vector.h</a>&gt;</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="preprocessor">#include &lt;<a class="code" href="Image_8h.html">yarp/sig/Image.h</a>&gt;</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="preprocessor">#include &lt;<a class="code" href="IRangefinder2D_8h.html">yarp/dev/IRangefinder2D.h</a>&gt;</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="preprocessor">#include &lt;<a class="code" href="PolyDriver_8h.html">yarp/dev/PolyDriver.h</a>&gt;</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span> </div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespaceyarp_1_1os.html">yarp::os</a>;</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespaceyarp_1_1sig.html">yarp::sig</a>;</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span> </div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="preprocessor">#ifndef DEG2RAD</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno"><a class="line" href="guis_2yarplaserscannergui_2main_8cpp.html#af7e8592d0a634bd3642e9fd508ea8022">   39</a></span><span class="preprocessor">#define DEG2RAD M_PI/180.0</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span> </div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno"><a class="line" href="guis_2yarplaserscannergui_2main_8cpp.html#ae8330da2399dafbfcb21f63af66e41f8">   42</a></span><span class="keyword">const</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">CvScalar</a> <a class="code hl_variable" href="guis_2yarplaserscannergui_2main_8cpp.html#ae8330da2399dafbfcb21f63af66e41f8">color_bwhite</a> = <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvScalar</a>(200,200,255);</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno"><a class="line" href="guis_2yarplaserscannergui_2main_8cpp.html#a8e7a7351e14f5493a1bb7e0bbcbb4273">   43</a></span><span class="keyword">const</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">CvScalar</a> <a class="code hl_variable" href="guis_2yarplaserscannergui_2main_8cpp.html#a8e7a7351e14f5493a1bb7e0bbcbb4273">color_white</a>  = <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvScalar</a>(255,255,255);</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno"><a class="line" href="guis_2yarplaserscannergui_2main_8cpp.html#a337e3c1d898d90d09ae1e6907f95e8c8">   44</a></span><span class="keyword">const</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">CvScalar</a> <a class="code hl_variable" href="guis_2yarplaserscannergui_2main_8cpp.html#a337e3c1d898d90d09ae1e6907f95e8c8">color_red</a>    = <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvScalar</a>(0,0,255);</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno"><a class="line" href="guis_2yarplaserscannergui_2main_8cpp.html#a87d5ba3624a29d8f730c1ec2749bec19">   45</a></span><span class="keyword">const</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">CvScalar</a> <a class="code hl_variable" href="guis_2yarplaserscannergui_2main_8cpp.html#a87d5ba3624a29d8f730c1ec2749bec19">color_yellow</a> = <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvScalar</a>(0,255,255);</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno"><a class="line" href="guis_2yarplaserscannergui_2main_8cpp.html#ae9896befbb50a72c58eba3bc0228fffb">   46</a></span><span class="keyword">const</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">CvScalar</a> <a class="code hl_variable" href="guis_2yarplaserscannergui_2main_8cpp.html#ae9896befbb50a72c58eba3bc0228fffb">color_black</a>  = <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvScalar</a>(0,0,0);</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno"><a class="line" href="guis_2yarplaserscannergui_2main_8cpp.html#a39ec8db75e7cd717eb12573eb44e0e1d">   47</a></span><span class="keyword">const</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">CvScalar</a> <a class="code hl_variable" href="guis_2yarplaserscannergui_2main_8cpp.html#a39ec8db75e7cd717eb12573eb44e0e1d">color_gray</a>   = <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvScalar</a>(100,100,100);</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span> </div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno"><a class="line" href="guis_2yarplaserscannergui_2main_8cpp.html#a4d1839bc7bd4d17286541220fa0f491d">   49</a></span><span class="preprocessor">#define ASPECT_LINE  0</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno"><a class="line" href="guis_2yarplaserscannergui_2main_8cpp.html#a43540b18fe33ec1df3e8630f5d7a1fac">   50</a></span><span class="preprocessor">#define ASPECT_POINT 1</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span> </div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno"><a class="line" href="guis_2yarplaserscannergui_2main_8cpp.html#af9a3bdfd33be48b0e9c64cd1cd05cab8">   52</a></span><span class="keywordtype">bool</span> <a class="code hl_variable" href="guis_2yarplaserscannergui_2main_8cpp.html#af9a3bdfd33be48b0e9c64cd1cd05cab8">g_lidar_debug_nan</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno"><a class="line" href="guis_2yarplaserscannergui_2main_8cpp.html#afa50cd0bf10d6601753ab2698fe51fcd">   53</a></span><span class="keywordtype">bool</span> <a class="code hl_variable" href="guis_2yarplaserscannergui_2main_8cpp.html#afa50cd0bf10d6601753ab2698fe51fcd">g_lidar_debug_inf</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span> </div>
<div class="foldopen" id="foldopen00055" data-start="{" data-end="}">
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno"><a class="line" href="guis_2yarplaserscannergui_2main_8cpp.html#a44286eadb0f01d7db309ba681d6833c8">   55</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="guis_2yarplaserscannergui_2main_8cpp.html#a44286eadb0f01d7db309ba681d6833c8">drawGrid</a>(cv::Mat&amp; img, <span class="keywordtype">double</span> scale)</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>{</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>    cv::line(img,<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvPoint</a>(0,0),<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvPoint</a>(img.cols,img.rows),<a class="code hl_variable" href="guis_2yarplaserscannergui_2main_8cpp.html#ae9896befbb50a72c58eba3bc0228fffb">color_black</a>);</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>    cv::line(img,<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvPoint</a>(img.cols,0),<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvPoint</a>(0,img.rows),<a class="code hl_variable" href="guis_2yarplaserscannergui_2main_8cpp.html#ae9896befbb50a72c58eba3bc0228fffb">color_black</a>);</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>    cv::line(img,<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvPoint</a>(img.cols/2,0),<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvPoint</a>(img.cols/2,img.rows),<a class="code hl_variable" href="guis_2yarplaserscannergui_2main_8cpp.html#ae9896befbb50a72c58eba3bc0228fffb">color_black</a>);</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>    cv::line(img,<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvPoint</a>(0,img.rows/2),<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvPoint</a>(img.cols,img.rows/2),<a class="code hl_variable" href="guis_2yarplaserscannergui_2main_8cpp.html#ae9896befbb50a72c58eba3bc0228fffb">color_black</a>);</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> step = (0.5 * scale); <span class="comment">//mm</span></div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span><span class="comment">/*</span></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span><span class="comment">    for (int xi=0; xi&lt;img-&gt;width; xi+=step)</span></div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span><span class="comment">        cvLine(img,cvPoint(xi,0),cvPoint(xi,img-&gt;height),color_black);</span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span><span class="comment">    for (int yi=0; yi&lt;img-&gt;height; yi+=step)</span></div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span><span class="comment">        cvLine(img,cvPoint(0,yi),cvPoint(img-&gt;width,yi),color_black);</span></div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span><span class="comment">*/</span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>    <span class="keywordtype">char</span> buff [10];</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>    <span class="keywordtype">float</span>  <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">rad_step</a>=0;</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>    std::string <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">fmt</a> = <span class="stringliteral">&quot;%3.1fm&quot;</span>;</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>    <span class="keywordflow">if</span> (scale &gt; 174)</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>    {</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>        <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">rad_step</a> = 0.5;</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>        <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">fmt</a> = <span class="stringliteral">&quot;%3.2fm&quot;</span>;</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>    }</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (scale &gt; 50 &amp;&amp; scale &lt;=174)</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>    {</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>        <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">rad_step</a>=1;</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>    }</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (scale &gt; 22 &amp;&amp; scale &lt;= 50)</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>    {</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>        <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">rad_step</a> = 2;</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>    }</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (scale &gt; 9 &amp;&amp; scale &lt;= 22)</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>    {</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>        <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">rad_step</a> = 4;</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>    }</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>    {</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>        <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">rad_step</a> = 8;</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>    }</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>    <span class="keywordflow">for</span> (<span class="keywordtype">float</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">rad</a>=0; <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">rad</a>&lt;80; <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">rad</a>+=<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">rad_step</a>)</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>    {</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>        <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sprintf</a> (buff,<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">fmt</a>.c_str(),<span class="keywordtype">float</span>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">rad</a>)/2);</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>        cv::putText(img, buff, <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvPoint</a>(img.cols / 2, <span class="keywordtype">int</span>(<span class="keywordtype">float</span>(img.rows) / 2.0 - <span class="keywordtype">float</span>(step) * <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">rad</a>)), cv::FONT_HERSHEY_SIMPLEX, 0.4, <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvScalar</a>(0, 0, 0), 1, cv::LINE_AA);</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>        cv::circle(img,<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvPoint</a>(img.cols/2,img.rows/2),(<span class="keywordtype">int</span>)(step*<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">rad</a>),<a class="code hl_variable" href="guis_2yarplaserscannergui_2main_8cpp.html#ae9896befbb50a72c58eba3bc0228fffb">color_black</a>);</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>    }</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span> </div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>}</div>
</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span> </div>
<div class="foldopen" id="foldopen00101" data-start="{" data-end="}">
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno"><a class="line" href="guis_2yarplaserscannergui_2main_8cpp.html#aa1fe6c0f1f8147b588c8ad597208c27d">  101</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="guis_2yarplaserscannergui_2main_8cpp.html#aa1fe6c0f1f8147b588c8ad597208c27d">drawRobot</a> (cv::Mat&amp; img, <span class="keywordtype">double</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">robot_radius</a>, <span class="keywordtype">double</span> scale)</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>{</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>    cv::rectangle(img,<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvPoint</a>(0,0),<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvPoint</a>(img.cols,img.rows),<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvScalar</a>(0,0,0),<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">CV_FILLED</a>);</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span> </div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>    <span class="comment">//draw a circle</span></div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>    <span class="keywordtype">double</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">v1</a> = <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">robot_radius</a>*scale;</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">v1</a> &lt; 0) {</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>        <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">v1</a> = 0;</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>    }</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>    <span class="keywordtype">double</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">v2</a> = <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">robot_radius</a>*scale - 1;</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">v2</a> &lt; 0) {</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>        <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">v2</a> = 0;</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>    }</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>    <span class="keywordtype">double</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">v3</a> = <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">robot_radius</a>*scale - 2;</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">v3</a> &lt; 0) {</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>        <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">v3</a> = 0;</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>    }</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span> </div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>    cv::circle(img, cv::Point(img.cols/2, img.rows/2), (<span class="keywordtype">int</span>)(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">v1</a>),<a class="code hl_variable" href="guis_2yarplaserscannergui_2main_8cpp.html#a39ec8db75e7cd717eb12573eb44e0e1d">color_gray</a>,<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">CV_FILLED</a>);</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>    cv::circle(img, cv::Point(img.cols/2, img.rows/2), (<span class="keywordtype">int</span>)(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">v2</a>), <a class="code hl_variable" href="guis_2yarplaserscannergui_2main_8cpp.html#ae9896befbb50a72c58eba3bc0228fffb">color_black</a>);</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>    cv::circle(img, cv::Point(img.cols/2, img.rows/2), (<span class="keywordtype">int</span>)(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">v3</a>), <a class="code hl_variable" href="guis_2yarplaserscannergui_2main_8cpp.html#ae9896befbb50a72c58eba3bc0228fffb">color_black</a>);</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>}</div>
</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span> </div>
<div class="foldopen" id="foldopen00124" data-start="{" data-end="}">
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno"><a class="line" href="guis_2yarplaserscannergui_2main_8cpp.html#a29eca74fba241e52a516d2505d053167">  124</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="guis_2yarplaserscannergui_2main_8cpp.html#a29eca74fba241e52a516d2505d053167">drawCompass</a>(<span class="keyword">const</span> <a class="code hl_class" href="classyarp_1_1sig_1_1VectorOf.html">yarp::sig::Vector</a>* comp, cv::Mat&amp; img, <span class="keywordtype">bool</span> <a class="code hl_function" href="newapplicationwizard_8cpp.html#a7feb41dd4732a0a24487a60c42efe374">absolute</a>)</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>{</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>    <span class="keywordtype">int</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sx</a> = 0;</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>    <span class="keywordtype">int</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sy</a> = 0;</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>    <span class="keywordtype">int</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ex</a> = 0;</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>    <span class="keywordtype">int</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ey</a> = 0;</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>    <span class="keywordtype">int</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">tx</a> = 0;</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>    <span class="keywordtype">int</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ty</a> = 0;</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>    <span class="keywordtype">char</span> buff [20];</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>    cv::circle(img,<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvPoint</a>(img.cols/2,img.rows/2),250,<a class="code hl_variable" href="guis_2yarplaserscannergui_2main_8cpp.html#ae9896befbb50a72c58eba3bc0228fffb">color_black</a>);</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;360; i+=10)</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>    {</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>        <span class="keywordtype">double</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ang</a>;</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="newapplicationwizard_8cpp.html#a7feb41dd4732a0a24487a60c42efe374">absolute</a>) {</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>            <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ang</a> = i + 180;</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>            <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ang</a> = i + (*comp)[0] + 180;</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>        }</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>        <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sx</a> = <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">int</a>(-250*<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sin</a>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ang</a>/180.0*<a class="code hl_define" href="FakeLocalizer_8cpp.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>)+img.cols/2);</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>        <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sy</a> = <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">int</a>(250*<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cos</a>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ang</a>/180.0*<a class="code hl_define" href="FakeLocalizer_8cpp.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>)+img.rows/2);</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>        <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ex</a> = <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">int</a>(-260*<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sin</a>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ang</a>/180.0*<a class="code hl_define" href="FakeLocalizer_8cpp.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>)+img.cols/2);</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>        <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ey</a> = <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">int</a>(260*<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cos</a>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ang</a>/180.0*<a class="code hl_define" href="FakeLocalizer_8cpp.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>)+img.rows/2);</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>        <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">tx</a> = <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">int</a>(-275*<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sin</a>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ang</a>/180.0*<a class="code hl_define" href="FakeLocalizer_8cpp.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>)+img.cols/2);</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>        <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ty</a> = <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">int</a>(275*<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cos</a>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ang</a>/180.0*<a class="code hl_define" href="FakeLocalizer_8cpp.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>)+img.rows/2);</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>        cv::line(img,<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvPoint</a>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sx</a>,<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sy</a>),<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvPoint</a>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ex</a>,<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ey</a>),<a class="code hl_variable" href="guis_2yarplaserscannergui_2main_8cpp.html#ae9896befbb50a72c58eba3bc0228fffb">color_black</a>);</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>        cv::Size <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">tempSize</a>;</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>        <span class="keywordtype">int</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">lw</a>;</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>        <span class="keywordflow">if</span>      (i==0)     {<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sprintf</a>(buff,<span class="stringliteral">&quot;N&quot;</span>);    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">tempSize</a> = cv::getTextSize( buff, cv::FONT_HERSHEY_SIMPLEX, 0.8, 1, &amp;<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">lw</a> ); cv::putText(img, buff, <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvPoint</a>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">tx</a>-<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">tempSize</a>.width/2,<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ty</a>+<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">tempSize</a>.height/2), cv::FONT_HERSHEY_SIMPLEX, 0.8, <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvScalar</a>(0, 0, 0), 1, cv::LINE_AA);}</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (i==90)    {<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sprintf</a>(buff,<span class="stringliteral">&quot;E&quot;</span>);    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">tempSize</a> = cv::getTextSize( buff, cv::FONT_HERSHEY_SIMPLEX, 0.8, 1, &amp;<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">lw</a> ); cv::putText(img, buff, <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvPoint</a>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">tx</a>-<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">tempSize</a>.width/2,<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ty</a>+<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">tempSize</a>.height/2), cv::FONT_HERSHEY_SIMPLEX, 0.8, <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvScalar</a>(0, 0, 0), 1, cv::LINE_AA);}</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (i==180)   {<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sprintf</a>(buff,<span class="stringliteral">&quot;S&quot;</span>);    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">tempSize</a> = cv::getTextSize( buff, cv::FONT_HERSHEY_SIMPLEX, 0.8, 1, &amp;<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">lw</a> ); cv::putText(img, buff, <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvPoint</a>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">tx</a>-<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">tempSize</a>.width/2,<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ty</a>+<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">tempSize</a>.height/2), cv::FONT_HERSHEY_SIMPLEX, 0.8, <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvScalar</a>(0, 0, 0), 1, cv::LINE_AA);}</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (i==270)   {<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sprintf</a>(buff,<span class="stringliteral">&quot;W&quot;</span>);    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">tempSize</a> = cv::getTextSize( buff, cv::FONT_HERSHEY_SIMPLEX, 0.8, 1, &amp;<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">lw</a> ); cv::putText(img, buff, <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvPoint</a>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">tx</a>-<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">tempSize</a>.width/2,<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ty</a>+<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">tempSize</a>.height/2), cv::FONT_HERSHEY_SIMPLEX, 0.8, <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvScalar</a>(0, 0, 0), 1, cv::LINE_AA);}</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>        <span class="keywordflow">else</span>               {<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sprintf</a>(buff,<span class="stringliteral">&quot;%d&quot;</span>,i); <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">tempSize</a> = cv::getTextSize( buff, cv::FONT_HERSHEY_SIMPLEX, 0.4, 1, &amp;<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">lw</a> ); cv::putText(img, buff, <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvPoint</a>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">tx</a>-<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">tempSize</a>.width/2,<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ty</a>+<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">tempSize</a>.height/2), cv::FONT_HERSHEY_SIMPLEX, 0.4, <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvScalar</a>(0, 0, 0), 1, cv::LINE_AA);}</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>    }</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>}</div>
</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span> </div>
<div class="foldopen" id="foldopen00159" data-start="{" data-end="}">
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno"><a class="line" href="guis_2yarplaserscannergui_2main_8cpp.html#a3a79e53f20d0deb6afac0c27723c9af0">  159</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="guis_2yarplaserscannergui_2main_8cpp.html#a3a79e53f20d0deb6afac0c27723c9af0">drawNav</a>(<span class="keyword">const</span> <a class="code hl_class" href="classyarp_1_1os_1_1Bottle.html">yarp::os::Bottle</a> *display, cv::Mat&amp; img, <span class="keywordtype">double</span> scale)</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>{</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>    <span class="keywordflow">if</span> (display-&gt;<a class="code hl_function" href="classyarp_1_1os_1_1Bottle.html#a4d2e210ab875bff598973ab0a6919c31">size</a>()==8)</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>    {</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>        <a class="code hl_define" href="Log_8h.html#a0aeaf63530b16a1bc47ad5cf6121504a">yError</a> (<span class="stringliteral">&quot;wrong image format!&quot;</span>);</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>    }</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>    <span class="keywordtype">double</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">c0</a> = display-&gt;<a class="code hl_function" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(0).<a class="code hl_function" href="classyarp_1_1os_1_1Value.html#a0003d9cf199c58ecd412825528fe10d0">asFloat64</a>();</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span><span class="comment">//     double c1 = display-&gt;get(1).asFloat64();</span></div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span><span class="comment">//     double c2 = display-&gt;get(2).asFloat64();</span></div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>    <span class="keywordtype">double</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">angle_f</a> = display-&gt;<a class="code hl_function" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(3).<a class="code hl_function" href="classyarp_1_1os_1_1Value.html#a0003d9cf199c58ecd412825528fe10d0">asFloat64</a>();</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span><span class="comment">//     double angle_t = display-&gt;get(4).asFloat64();</span></div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span><span class="comment">//     double w_f = display-&gt;get(5).asFloat64();</span></div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span><span class="comment">//     double w_t = display-&gt;get(6).asFloat64();</span></div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>    <span class="keywordtype">double</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">max_obs_dist</a> = display-&gt;<a class="code hl_function" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(7).<a class="code hl_function" href="classyarp_1_1os_1_1Value.html#a0003d9cf199c58ecd412825528fe10d0">asFloat64</a>();</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>    <span class="keywordtype">double</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">angle_g</a> = display-&gt;<a class="code hl_function" href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">get</a>(8).<a class="code hl_function" href="classyarp_1_1os_1_1Value.html#a0003d9cf199c58ecd412825528fe10d0">asFloat64</a>();</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span> </div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">CvPoint</a> center;</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>    center.x = (<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">int</a>)(img.cols/2  );</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>    center.y = (<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">int</a>)(img.rows/2 );</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span> </div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">CvPoint</a> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray</a>;</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray</a>.x=<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">int</a>(200*<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sin</a>(<a class="code hl_define" href="guis_2yarplaserscannergui_2main_8cpp.html#af7e8592d0a634bd3642e9fd508ea8022">DEG2RAD</a>*<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">angle_f</a>));</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray</a>.y=-<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">int</a>(200*<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cos</a>(<a class="code hl_define" href="guis_2yarplaserscannergui_2main_8cpp.html#af7e8592d0a634bd3642e9fd508ea8022">DEG2RAD</a>*<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">angle_f</a>));</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray</a>.x += center.x;</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray</a>.y += center.y;</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span> </div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>    <span class="keywordtype">int</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">thickness</a> = 3;</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>    cv::line(img,center,<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray</a>,<a class="code hl_variable" href="guis_2yarplaserscannergui_2main_8cpp.html#ae8330da2399dafbfcb21f63af66e41f8">color_bwhite</a>,<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">thickness</a>);</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span> </div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray</a>.x=<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">int</a>(100*<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sin</a>(<a class="code hl_define" href="guis_2yarplaserscannergui_2main_8cpp.html#af7e8592d0a634bd3642e9fd508ea8022">DEG2RAD</a>*<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">c0</a>));</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray</a>.y=-<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">int</a>(100*<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cos</a>(<a class="code hl_define" href="guis_2yarplaserscannergui_2main_8cpp.html#af7e8592d0a634bd3642e9fd508ea8022">DEG2RAD</a>*<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">c0</a>));</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray</a>.x += center.x;</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray</a>.y += center.y;</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>    cv::line(img,center,<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray</a>,<a class="code hl_variable" href="guis_2yarplaserscannergui_2main_8cpp.html#a337e3c1d898d90d09ae1e6907f95e8c8">color_red</a>,<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">thickness</a>);</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span> </div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray</a>.x=<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">int</a>(150*<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sin</a>(<a class="code hl_define" href="guis_2yarplaserscannergui_2main_8cpp.html#af7e8592d0a634bd3642e9fd508ea8022">DEG2RAD</a>*<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">angle_g</a>));</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray</a>.y=-<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">int</a>(150*<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cos</a>(<a class="code hl_define" href="guis_2yarplaserscannergui_2main_8cpp.html#af7e8592d0a634bd3642e9fd508ea8022">DEG2RAD</a>*<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">angle_g</a>));</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray</a>.x += center.x;</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray</a>.y += center.y;</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>    cv::line(img,center,<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray</a>,<a class="code hl_variable" href="guis_2yarplaserscannergui_2main_8cpp.html#a87d5ba3624a29d8f730c1ec2749bec19">color_yellow</a>,<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">thickness</a>);</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span> </div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>    cv::circle(img,<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvPoint</a>(img.cols/2,img.rows/2),(<span class="keywordtype">int</span>)(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">max_obs_dist</a>*scale-1),<a class="code hl_variable" href="guis_2yarplaserscannergui_2main_8cpp.html#ae9896befbb50a72c58eba3bc0228fffb">color_black</a>);</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>}</div>
</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span> </div>
<div class="foldopen" id="foldopen00204" data-start="{" data-end="}">
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno"><a class="line" href="guis_2yarplaserscannergui_2main_8cpp.html#a00925ea0e3478042ad7fd5c07036a2a7">  204</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="guis_2yarplaserscannergui_2main_8cpp.html#a00925ea0e3478042ad7fd5c07036a2a7">drawLaser</a>(<span class="keyword">const</span> <a class="code hl_class" href="classyarp_1_1sig_1_1VectorOf.html">Vector</a> *comp, std::vector&lt;yarp::sig::LaserMeasurementData&gt; *<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">las</a>, std::vector&lt;yarp::sig::LaserMeasurementData&gt; *<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">lmap</a>, cv::Mat&amp; img, <span class="keywordtype">double</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">angle_tot</a>, <span class="keywordtype">int</span> scans, <span class="keywordtype">double</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sens_position_x</a>, <span class="keywordtype">double</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sens_position_y</a>, <span class="keywordtype">double</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sens_position_t</a>, <span class="keywordtype">double</span> scale, <span class="keywordtype">bool</span> <a class="code hl_function" href="newapplicationwizard_8cpp.html#a7feb41dd4732a0a24487a60c42efe374">absolute</a>, <span class="keywordtype">bool</span> verbose, <span class="keywordtype">int</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">aspect</a>)</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>{</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>    img.setTo(cv::Scalar(0, 0, 0));</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>    cv::rectangle(img, <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvPoint</a>(0, 0), <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvPoint</a>(img.cols, img.rows), <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvScalar</a>(255, 0, 0), -1);</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">CvPoint</a> center;</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span> </div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>    <span class="keywordtype">double</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">center_angle</a>=<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sens_position_t</a>;</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="newapplicationwizard_8cpp.html#a7feb41dd4732a0a24487a60c42efe374">absolute</a>) {</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>        <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">center_angle</a> = 0;</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>        <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">center_angle</a> = -180 - (*comp)[0];</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>    }</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>    center.x = (<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">int</a>)(img.cols / 2 + (<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sens_position_x</a>*scale)*<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sin</a>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">center_angle</a> / 180 * <a class="code hl_define" href="FakeLocalizer_8cpp.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>));</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>    center.y = (<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">int</a>)(img.rows / 2 - (<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sens_position_y</a>*scale)*<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cos</a>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">center_angle</a> / 180 * <a class="code hl_define" href="FakeLocalizer_8cpp.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>));</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span> </div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>    <span class="keyword">static</span> <span class="keywordtype">double</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">old_time</a> = 0;</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span> </div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">las</a>==<span class="keyword">nullptr</span> || comp==<span class="keyword">nullptr</span>)</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>    {</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>    }</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span> </div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>    <span class="keywordtype">double</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">curr_time</a> = <a class="code hl_function" href="namespaceyarp_1_1os_1_1Time.html#a9909c5613bb1daee8f1fd92e1f4c95f6">yarp::os::Time::now</a>();</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>    <span class="keywordflow">if</span> (verbose) {</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>        <a class="code hl_define" href="Log_8h.html#a0aeaf63530b16a1bc47ad5cf6121504a">yError</a>(<span class="stringliteral">&quot;received vector size:%d &quot;</span>, <span class="keywordtype">int</span>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">las</a>-&gt;size()));</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>    }</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>    <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">timeout_count</a> = 0;</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">curr_time</a> - <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">old_time</a> &gt; 0.40) {</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>        <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">timeout_count</a>++;</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>    }</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>    <span class="keywordflow">if</span> (verbose) {</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>        <a class="code hl_define" href="Log_8h.html#abdff5cf78d1af37fd4a5d4be078eb2f6">yWarning</a>(<span class="stringliteral">&quot;time:%f timeout:%d\n&quot;</span>, <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">curr_time</a> - <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">old_time</a>, <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">timeout_count</a>);</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>    }</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">old_time</a> = <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">curr_time</a>;</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i&lt;scans; i++)</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>    {</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>        <span class="keywordtype">double</span> x = 0;</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>        <span class="keywordtype">double</span> y = 0;</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>        (*las)[i].get_cartesian(x, y);</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span><span class="preprocessor"> #if 0</span></div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>        <span class="keywordflow">if</span> (x == std::numeric_limits&lt;double&gt;::infinity() ||</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>            y == std::numeric_limits&lt;double&gt;::infinity()) <span class="keywordflow">continue</span>; <span class="comment">//this is not working</span></div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span><span class="preprocessor"> #endif</span></div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>        <span class="keywordflow">if</span> (std::isinf(x) || std::isinf(y))</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>        {</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="guis_2yarplaserscannergui_2main_8cpp.html#afa50cd0bf10d6601753ab2698fe51fcd">g_lidar_debug_inf</a>)</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>            {</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>                <span class="comment">//the following rotation is performed to have x axis aligned with screen vertical</span></div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>                <span class="comment">//double rr;</span></div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>                <span class="keywordtype">double</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">tt</a>;</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>                <span class="keywordtype">double</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sensor_resolution</a> = 0.5; <span class="comment">//@@@fixme</span></div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>                <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">tt</a> = -i * <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sensor_resolution</a> - 90;</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>                <span class="comment">//(*las)[i].get_polar(rr,tt);</span></div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>                <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">CvPoint</a> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray</a>;</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>                <span class="comment">//yDebug() &lt;&lt; rr &lt;&lt; tt;</span></div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>                <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray</a>.x = 1.0 * <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cos</a>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">tt</a> * <a class="code hl_define" href="guis_2yarplaserscannergui_2main_8cpp.html#af7e8592d0a634bd3642e9fd508ea8022">DEG2RAD</a>) * scale;</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>                <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray</a>.y = 1.0 * <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sin</a>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">tt</a> * <a class="code hl_define" href="guis_2yarplaserscannergui_2main_8cpp.html#af7e8592d0a634bd3642e9fd508ea8022">DEG2RAD</a>) * scale;</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>                <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray</a>.x += center.x;</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>                <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray</a>.y += center.y;</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span> </div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>                <span class="keywordtype">int</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">thickness</a> = 2;</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>                <span class="comment">//draw a line</span></div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>                cv::line(img, center, <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray</a>, <a class="code hl_variable" href="guis_2yarplaserscannergui_2main_8cpp.html#a87d5ba3624a29d8f730c1ec2749bec19">color_yellow</a>, <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">thickness</a>);</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>            }</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>        }</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span> </div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>        <span class="keywordflow">if</span> (std::isnan(x) || std::isnan(y))</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>        {</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="guis_2yarplaserscannergui_2main_8cpp.html#af9a3bdfd33be48b0e9c64cd1cd05cab8">g_lidar_debug_nan</a>)</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>            {</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>                <span class="comment">//the following rotation is performed to have x axis aligned with screen vertical</span></div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>                <span class="comment">//double rr;</span></div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>                <span class="keywordtype">double</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">tt</a>;</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>                <span class="keywordtype">double</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sensor_resolution</a> = 0.5; <span class="comment">//@@@fixme</span></div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>                <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">tt</a>= - i * <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sensor_resolution</a> - 90;</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>                <span class="comment">//(*las)[i].get_polar(rr,tt);</span></div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>                <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">CvPoint</a> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray</a>;</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>                <span class="comment">//yDebug() &lt;&lt; rr &lt;&lt; tt;</span></div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>                <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray</a>.x = 1.0 * <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cos</a>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">tt</a>*<a class="code hl_define" href="guis_2yarplaserscannergui_2main_8cpp.html#af7e8592d0a634bd3642e9fd508ea8022">DEG2RAD</a>) * scale;</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>                <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray</a>.y = 1.0 * <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sin</a>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">tt</a>*<a class="code hl_define" href="guis_2yarplaserscannergui_2main_8cpp.html#af7e8592d0a634bd3642e9fd508ea8022">DEG2RAD</a>) * scale;</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>                <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray</a>.x += center.x;</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>                <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray</a>.y += center.y;</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span> </div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>                <span class="keywordtype">int</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">thickness</a> = 2;</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>                <span class="comment">//draw a line</span></div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>                cv::line(img, center, <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray</a>, <a class="code hl_variable" href="guis_2yarplaserscannergui_2main_8cpp.html#a337e3c1d898d90d09ae1e6907f95e8c8">color_red</a>, <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">thickness</a>);</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>            }</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>        }</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span> </div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>        <span class="comment">//if (length&lt;0)     length = 0;</span></div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>        <span class="comment">//else if (length&gt;15)    length = 15; //15m maximum</span></div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span> </div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>        <span class="comment">//the following rotation is performed to have x axis aligned with screen vertical</span></div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>        <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">CvPoint</a> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray</a>;</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>        <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray</a>.x = <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">int</a>(-y*scale);</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>        <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray</a>.y = <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">int</a>(-x*scale);</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>        <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray</a>.x += center.x;</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>        <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray</a>.y += center.y;</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span> </div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>        <span class="keywordtype">int</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">thickness</a> = 2;</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>        <span class="comment">//draw a line</span></div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>        <span class="keywordflow">if</span> (<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">aspect</a> == <a class="code hl_define" href="guis_2yarplaserscannergui_2main_8cpp.html#a4d1839bc7bd4d17286541220fa0f491d">ASPECT_LINE</a>)</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>        {</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>            cv::line(img, center, <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray</a>, <a class="code hl_variable" href="guis_2yarplaserscannergui_2main_8cpp.html#a8e7a7351e14f5493a1bb7e0bbcbb4273">color_white</a>, <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">thickness</a>);</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>        }</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">aspect</a> == <a class="code hl_define" href="guis_2yarplaserscannergui_2main_8cpp.html#a43540b18fe33ec1df3e8630f5d7a1fac">ASPECT_POINT</a>)</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>        {</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>            cv::line(img, <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray</a>, <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray</a>, <a class="code hl_variable" href="guis_2yarplaserscannergui_2main_8cpp.html#a8e7a7351e14f5493a1bb7e0bbcbb4273">color_white</a>, 3);</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>        }</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span> </div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>        <span class="keywordflow">if</span> (<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">lmap</a>)</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>        {</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>            <span class="keywordtype">double</span> x = 0;</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>            <span class="keywordtype">double</span> y = 0;</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>            (*lmap)[i].get_cartesian(x, y);</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>            <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">CvPoint</a> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray2</a>;</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>            <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray2</a>.x = -<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">int</a>(x*scale);</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>            <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray2</a>.y = -<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">int</a>(y*scale);</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>            <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray2</a>.x += (center.x - <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">int</a>((<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sens_position_x</a>*scale)*<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sin</a>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">center_angle</a> / 180 * <a class="code hl_define" href="FakeLocalizer_8cpp.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>)));</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>            <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray2</a>.y += (center.y + <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">int</a>((<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sens_position_y</a>*scale)*<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cos</a>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">center_angle</a> / 180 * <a class="code hl_define" href="FakeLocalizer_8cpp.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>)));</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>            cv::line(img, center, <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">ray2</a>, <a class="code hl_variable" href="guis_2yarplaserscannergui_2main_8cpp.html#ae8330da2399dafbfcb21f63af66e41f8">color_bwhite</a>, <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">thickness</a>);</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>        }</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>    }</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>}</div>
</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span> </div>
<div class="foldopen" id="foldopen00331" data-start="{" data-end="}">
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno"><a class="line" href="guis_2yarplaserscannergui_2main_8cpp.html#a8f0b63bf650a5ceefc36d7e3bcb02f63">  331</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="guis_2yarplaserscannergui_2main_8cpp.html#a8f0b63bf650a5ceefc36d7e3bcb02f63">display_help</a>()</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>{</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>    <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>() &lt;&lt; <span class="stringliteral">&quot;Available options:&quot;</span>;</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>    <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>() &lt;&lt; <span class="stringliteral">&quot;--scale &lt;double&gt; zoom factor (default 100)&quot;</span>;</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>    <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>() &lt;&lt; <span class="stringliteral">&quot;--robot_radius &lt;double&gt; the radius of the displayed robot footprint &quot;</span>;</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>    <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>() &lt;&lt; <span class="stringliteral">&quot;--sens_position_x &lt;double&gt; the position in meters of the laser center respect to the center of the robot (default 0 m)&quot;</span>;</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>    <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>() &lt;&lt; <span class="stringliteral">&quot;--sens_position_y &lt;double&gt; the position in meters of the laser center respect to the center of the robot (default 0 m)&quot;</span>;</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>    <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>() &lt;&lt; <span class="stringliteral">&quot;--sens_position_theta &lt;double&gt; the orientation in degrees of the laser sensor respect to the center of the robot (default 0 deg)&quot;</span>;</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>    <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>() &lt;&lt; <span class="stringliteral">&quot;--verbose &lt;bool&gt; toggles debug messages on/off (default false)&quot;</span>;</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>    <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>() &lt;&lt; <span class="stringliteral">&quot;--absolute &lt;bool&gt; display the laser in absolute o relative mode (default false)&quot;</span>;</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>    <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>() &lt;&lt; <span class="stringliteral">&quot;--compass &lt;bool&gt; displays the compass (default true) &quot;</span>;</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>    <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>() &lt;&lt; <span class="stringliteral">&quot;--period &lt;double&gt; the refresh period (default 50 ms)&quot;</span>;</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>    <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>() &lt;&lt; <span class="stringliteral">&quot;--aspect &lt;0/1&gt; draws line/points (default 0=lines)&quot;</span>;</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>    <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>() &lt;&lt; <span class="stringliteral">&quot;--sens_port &lt;string&gt; the name of the port used by rangefinder2D_nwc_yarp to connect to the laser device. (mandatory)&quot;</span>;</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>    <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>() &lt;&lt; <span class="stringliteral">&quot;--carrier &lt;string&gt; the name of the carrier used by rangefinder2D_nwc_yarp for connection to the server&quot;</span>;</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>    <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>() &lt;&lt; <span class="stringliteral">&quot;--lidar_debug shows NaN values&quot;</span>;</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>    <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>() &lt;&lt; <span class="stringliteral">&quot;--local &lt;string&gt; the prefix for the client port. By default /laserScannerGui. Useful in case of multiple instances.&quot;</span>;</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>    <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>() &lt;&lt; <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>    <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>() &lt;&lt; <span class="stringliteral">&quot;Available commands (pressing the key during execution):&quot;</span>;</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>    <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>() &lt;&lt; <span class="stringliteral">&quot;c ...... enables/disables compass.&quot;</span>;</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>    <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>() &lt;&lt; <span class="stringliteral">&quot;a ...... set absolute/relative mode.&quot;</span>;</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>    <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>() &lt;&lt; <span class="stringliteral">&quot;w ...... zoom in.&quot;</span>;</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>    <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>() &lt;&lt; <span class="stringliteral">&quot;s ...... zoom out.&quot;</span>;</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>    <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>() &lt;&lt; <span class="stringliteral">&quot;v ...... set verbose mode on/off.&quot;</span>;</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>    <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>() &lt;&lt; <span class="stringliteral">&quot;r ...... set refresh period (50/100/200ms).&quot;</span>;</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>    <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>() &lt;&lt; <span class="stringliteral">&quot;b ...... change aspect (lines/points)&quot;</span>;</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>}</div>
</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span> </div>
<div class="foldopen" id="foldopen00359" data-start="{" data-end="}">
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno"><a class="line" href="guis_2yarplaserscannergui_2main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">  359</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="guis_2yarplaserscannergui_2main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>{</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>    <a class="code hl_class" href="classyarp_1_1os_1_1Network.html">yarp::os::Network</a> <a class="code hl_namespace" href="namespaceyarp.html">yarp</a>(<a class="code hl_enumvalue" href="namespaceyarp_1_1os.html#ae0ae51936d9fca34f3fc1c0e2642cc01a9beffa5f9b8c68cb1c3af681e145a178">yarp::os::YARP_CLOCK_SYSTEM</a>);</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span> </div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>    <a class="code hl_class" href="classyarp_1_1os_1_1ResourceFinder.html">ResourceFinder</a> rf;</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span> </div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>    <span class="comment">//retrieve information for the list of parts</span></div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>    rf.<a class="code hl_function" href="classyarp_1_1os_1_1ResourceFinder.html#ae9ccc74e3bce19a27c64b3a3388ebdc2">setDefaultConfigFile</a>(<span class="stringliteral">&quot;yarplaserscannergui.ini&quot;</span>);</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>    rf.<a class="code hl_function" href="classyarp_1_1os_1_1ResourceFinder.html#a3a93050284000a2b177babe81e474445">configure</a>(argc, argv);</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>    <span class="keywordflow">if</span> (rf.<a class="code hl_function" href="classyarp_1_1os_1_1ResourceFinder.html#a0319a04b0f777210a4205cf1e10a3afb">check</a>(<span class="stringliteral">&quot;help&quot;</span>))</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>    {</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>        <a class="code hl_function" href="guis_2yarplaserscannergui_2main_8cpp.html#a8f0b63bf650a5ceefc36d7e3bcb02f63">display_help</a>();</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>    }</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>    <span class="keywordtype">double</span> scale = rf.<a class="code hl_function" href="classyarp_1_1os_1_1ResourceFinder.html#a0319a04b0f777210a4205cf1e10a3afb">check</a>(<span class="stringliteral">&quot;scale&quot;</span>, <a class="code hl_class" href="classyarp_1_1os_1_1Value.html">Value</a>(100), <span class="stringliteral">&quot;global scale factor&quot;</span>).asFloat64();</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>    <span class="keywordtype">double</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">robot_radius</a> = rf.<a class="code hl_function" href="classyarp_1_1os_1_1ResourceFinder.html#a0319a04b0f777210a4205cf1e10a3afb">check</a>(<span class="stringliteral">&quot;robot_radius&quot;</span>, <a class="code hl_class" href="classyarp_1_1os_1_1Value.html">Value</a>(0.001), <span class="stringliteral">&quot;robot radius [m]&quot;</span>).asFloat64();</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>    <span class="keywordtype">double</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sens_position_x</a> = rf.<a class="code hl_function" href="classyarp_1_1os_1_1ResourceFinder.html#a0319a04b0f777210a4205cf1e10a3afb">check</a>(<span class="stringliteral">&quot;sens_position_x&quot;</span>, <a class="code hl_class" href="classyarp_1_1os_1_1Value.html">Value</a>(0), <span class="stringliteral">&quot;sens_position_x [m]&quot;</span>).asFloat64();</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>    <span class="keywordtype">double</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sens_position_y</a> = rf.<a class="code hl_function" href="classyarp_1_1os_1_1ResourceFinder.html#a0319a04b0f777210a4205cf1e10a3afb">check</a>(<span class="stringliteral">&quot;sens_position_y&quot;</span>, <a class="code hl_class" href="classyarp_1_1os_1_1Value.html">Value</a>(0), <span class="stringliteral">&quot;sens_position_y [m]&quot;</span>).asFloat64();</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>    <span class="keywordtype">double</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sens_position_t</a> = rf.<a class="code hl_function" href="classyarp_1_1os_1_1ResourceFinder.html#a0319a04b0f777210a4205cf1e10a3afb">check</a>(<span class="stringliteral">&quot;sens_position_theta&quot;</span>, <a class="code hl_class" href="classyarp_1_1os_1_1Value.html">Value</a>(0), <span class="stringliteral">&quot;sens_position_theta [m]&quot;</span>).asFloat64();</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>    <span class="keywordtype">bool</span> verbose = rf.<a class="code hl_function" href="classyarp_1_1os_1_1ResourceFinder.html#a0319a04b0f777210a4205cf1e10a3afb">check</a>(<span class="stringliteral">&quot;verbose&quot;</span>, <a class="code hl_class" href="classyarp_1_1os_1_1Value.html">Value</a>(<span class="keyword">false</span>), <span class="stringliteral">&quot;verbose [0/1]&quot;</span>).asBool();</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="newapplicationwizard_8cpp.html#a7feb41dd4732a0a24487a60c42efe374">absolute</a> = rf.<a class="code hl_function" href="classyarp_1_1os_1_1ResourceFinder.html#a0319a04b0f777210a4205cf1e10a3afb">check</a>(<span class="stringliteral">&quot;absolute&quot;</span>, <a class="code hl_class" href="classyarp_1_1os_1_1Value.html">Value</a>(<span class="keyword">false</span>), <span class="stringliteral">&quot;absolute [0/1]&quot;</span>).asBool();</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>    <span class="keywordtype">bool</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">compass</a> = rf.<a class="code hl_function" href="classyarp_1_1os_1_1ResourceFinder.html#a0319a04b0f777210a4205cf1e10a3afb">check</a>(<span class="stringliteral">&quot;compass&quot;</span>, <a class="code hl_class" href="classyarp_1_1os_1_1Value.html">Value</a>(<span class="keyword">true</span>), <span class="stringliteral">&quot;compass [0/1]&quot;</span>).asBool();</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>    <span class="keywordtype">int</span> period = rf.<a class="code hl_function" href="classyarp_1_1os_1_1ResourceFinder.html#a0319a04b0f777210a4205cf1e10a3afb">check</a>(<span class="stringliteral">&quot;period&quot;</span>,<a class="code hl_class" href="classyarp_1_1os_1_1Value.html">Value</a>(50),<span class="stringliteral">&quot;period [ms]&quot;</span>).asInt32(); <span class="comment">//ms</span></div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>    <span class="keywordtype">int</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">aspect</a> = rf.<a class="code hl_function" href="classyarp_1_1os_1_1ResourceFinder.html#a0319a04b0f777210a4205cf1e10a3afb">check</a>(<span class="stringliteral">&quot;aspect&quot;</span>, <a class="code hl_class" href="classyarp_1_1os_1_1Value.html">Value</a>(0), <span class="stringliteral">&quot;0 draw lines, 1 draw points&quot;</span>).asInt32();</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>    std::string <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">laserport</a> = rf.<a class="code hl_function" href="classyarp_1_1os_1_1ResourceFinder.html#a0319a04b0f777210a4205cf1e10a3afb">check</a>(<span class="stringliteral">&quot;sens_port&quot;</span>, <a class="code hl_class" href="classyarp_1_1os_1_1Value.html">Value</a>(<span class="stringliteral">&quot;/laser:o&quot;</span>), <span class="stringliteral">&quot;laser port name&quot;</span>).asString();</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>    std::string carrier  = rf.<a class="code hl_function" href="classyarp_1_1os_1_1ResourceFinder.html#a0319a04b0f777210a4205cf1e10a3afb">check</a>(<span class="stringliteral">&quot;carrier&quot;</span>, <a class="code hl_class" href="classyarp_1_1os_1_1Value.html">Value</a>(<span class="stringliteral">&quot;tcp&quot;</span>), <span class="stringliteral">&quot;rangefinder2D_nwc_yarp connection carrier&quot;</span>).asString();</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>    std::string <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">localprefix</a> = rf.<a class="code hl_function" href="classyarp_1_1os_1_1ResourceFinder.html#a0319a04b0f777210a4205cf1e10a3afb">check</a>(<span class="stringliteral">&quot;local&quot;</span>, <a class="code hl_class" href="classyarp_1_1os_1_1Value.html">Value</a>(<span class="stringliteral">&quot;/laserScannerGui&quot;</span>), <span class="stringliteral">&quot;prefix for the client port&quot;</span>).asString();</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>    <span class="keywordflow">if</span> (rf.<a class="code hl_function" href="classyarp_1_1os_1_1ResourceFinder.html#a0319a04b0f777210a4205cf1e10a3afb">check</a> (<span class="stringliteral">&quot;lidar_debug&quot;</span>))     { <a class="code hl_variable" href="guis_2yarplaserscannergui_2main_8cpp.html#af9a3bdfd33be48b0e9c64cd1cd05cab8">g_lidar_debug_nan</a> = <a class="code hl_variable" href="guis_2yarplaserscannergui_2main_8cpp.html#afa50cd0bf10d6601753ab2698fe51fcd">g_lidar_debug_inf</a> = <span class="keyword">true</span>;}</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>    <span class="keywordflow">if</span> (rf.<a class="code hl_function" href="classyarp_1_1os_1_1ResourceFinder.html#a0319a04b0f777210a4205cf1e10a3afb">check</a> (<span class="stringliteral">&quot;lidar_debug_nan&quot;</span>)) { <a class="code hl_variable" href="guis_2yarplaserscannergui_2main_8cpp.html#af9a3bdfd33be48b0e9c64cd1cd05cab8">g_lidar_debug_nan</a> = <span class="keyword">true</span>; }</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>    <span class="keywordflow">if</span> (rf.<a class="code hl_function" href="classyarp_1_1os_1_1ResourceFinder.html#a0319a04b0f777210a4205cf1e10a3afb">check</a> (<span class="stringliteral">&quot;lidar_debug_inf&quot;</span>)) { <a class="code hl_variable" href="guis_2yarplaserscannergui_2main_8cpp.html#afa50cd0bf10d6601753ab2698fe51fcd">g_lidar_debug_inf</a> = <span class="keyword">true</span>; }</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span> </div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>    std::string <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">laser_map_port_name</a>;</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">laser_map_port_name</a> = <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">localprefix</a> + <span class="stringliteral">&quot;/laser_map:i&quot;</span>;</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>    std::string <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">compass_port_name</a>;</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">compass_port_name</a> = <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">localprefix</a> + <span class="stringliteral">&quot;/compass:i&quot;</span>;</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>    std::string <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">nav_display</a>;</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">nav_display</a> = <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">localprefix</a> + <span class="stringliteral">&quot;/nav_display:i&quot;</span>;</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span> </div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>    <span class="keywordtype">int</span> width = 600;</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>    <span class="keywordtype">int</span> height = 600;</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span> </div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>    <a class="code hl_class" href="classyarp_1_1dev_1_1PolyDriver.html">yarp::dev::PolyDriver</a>* drv = <span class="keyword">new</span> <a class="code hl_class" href="classyarp_1_1dev_1_1PolyDriver.html">yarp::dev::PolyDriver</a>;</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>    <a class="code hl_class" href="classyarp_1_1os_1_1Property.html">Property</a>   <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">lasOptions</a>;</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">lasOptions</a>.put(<span class="stringliteral">&quot;device&quot;</span>, <span class="stringliteral">&quot;rangefinder2D_nwc_yarp&quot;</span>);</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">lasOptions</a>.put(<span class="stringliteral">&quot;local&quot;</span>, <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">localprefix</a> + <span class="stringliteral">&quot;/laser:i&quot;</span>);</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">lasOptions</a>.put(<span class="stringliteral">&quot;remote&quot;</span>, <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">laserport</a>);</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">lasOptions</a>.put(<span class="stringliteral">&quot;carrier&quot;</span>, carrier);</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>    <span class="keywordtype">bool</span> b = drv-&gt;<a class="code hl_function" href="classyarp_1_1dev_1_1PolyDriver.html#ae4b6b61460d13835e363f371a72f1ba0">open</a>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">lasOptions</a>);</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>    <span class="keywordflow">if</span> (!b)</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>    {</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>        <a class="code hl_define" href="Log_8h.html#a0aeaf63530b16a1bc47ad5cf6121504a">yError</a>() &lt;&lt; <span class="stringliteral">&quot;Unable to open polydriver&quot;</span>;</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>        <span class="keyword">delete</span> drv;</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>    }</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>    <a class="code hl_class" href="classyarp_1_1dev_1_1IRangefinder2D.html">yarp::dev::IRangefinder2D</a>* <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">iLas</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>    drv-&gt;<a class="code hl_function" href="classyarp_1_1dev_1_1DeviceDriver.html#ad2a1b10de5dda3160d687ebb5f20577c">view</a>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">iLas</a>);</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">iLas</a> == <span class="keyword">nullptr</span>)</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>    {</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>        <a class="code hl_define" href="Log_8h.html#a0aeaf63530b16a1bc47ad5cf6121504a">yError</a>() &lt;&lt; <span class="stringliteral">&quot;Unable to get IRangefinder2D interface&quot;</span>;</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>        <span class="keyword">delete</span> drv;</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>    }</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span> </div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>    <span class="keywordtype">double</span> angle_min = 0;</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>    <span class="keywordtype">double</span> angle_max = 0;</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>    <span class="keywordtype">double</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">angle_step</a> = 0;</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">iLas</a>-&gt;getScanLimits(angle_min, angle_max);</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>    <span class="keywordtype">double</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">angle_tot</a> = (angle_max - angle_min);</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">iLas</a>-&gt;getHorizontalResolution(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">angle_step</a>);</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>    <span class="keywordtype">int</span> scans = (<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">int</a>)(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">angle_tot</a> / <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">angle_step</a>);</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>    std::vector&lt;yarp::sig::LaserMeasurementData&gt; laser_data;</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span> </div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">BufferedPort&lt;yarp::os::Bottle&gt;</a> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">laserMapInPort</a>;</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">laserMapInPort</a>.<a class="code hl_function" href="classyarp_1_1os_1_1BufferedPort.html#a938b0e335554aa0e7fb1d919e51a665f">open</a>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">laser_map_port_name</a>);</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">BufferedPort&lt;yarp::sig::Vector&gt;</a> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">compassInPort</a>;</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">compassInPort</a>.<a class="code hl_function" href="classyarp_1_1os_1_1BufferedPort.html#a938b0e335554aa0e7fb1d919e51a665f">open</a>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">compass_port_name</a>);</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">BufferedPort&lt;yarp::os::Bottle&gt;</a> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">navDisplayInPort</a>;</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">navDisplayInPort</a>.<a class="code hl_function" href="classyarp_1_1os_1_1BufferedPort.html#a938b0e335554aa0e7fb1d919e51a665f">open</a>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">nav_display</a>);</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span> </div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>    std::string <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">window_name</a> = <span class="stringliteral">&quot;LaserScannerGui connected to &quot;</span> + <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">laserport</a>;</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>    cv::Mat img = cv::Mat(width, height, <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">CV_8UC3</a>);</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>    cv::Mat <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">img2</a> = cv::Mat(width, height, <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">CV_8UC3</a>);</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvNamedWindow</a>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">window_name</a>.c_str(),<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">CV_WINDOW_AUTOSIZE</a>);</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span> </div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>    <span class="keywordtype">bool</span> exit = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>    <a class="code hl_class" href="classyarp_1_1sig_1_1VectorOf.html">yarp::sig::Vector</a> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">compass_data</a>;</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">compass_data</a>.resize(3, 0.0);</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span> </div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>    <span class="keywordflow">while</span>(!exit)</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>    {</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>        <span class="keywordtype">void</span> *v = <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvGetWindowHandle</a>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">window_name</a>.c_str());</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>        <span class="keywordflow">if</span> (v == <span class="keyword">nullptr</span>)</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>        {</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>            exit = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>        }</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span> </div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>        <span class="keywordflow">if</span> (<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">compass</a>)</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>        {</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>            <a class="code hl_class" href="classyarp_1_1sig_1_1VectorOf.html">yarp::sig::Vector</a> *<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cmp</a> = <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">compassInPort</a>.<a class="code hl_function" href="classyarp_1_1os_1_1BufferedPort.html#ad88d8d901b29e3776281b943a4f47596">read</a>(<span class="keyword">false</span>);</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>            <span class="keywordflow">if</span> (<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cmp</a>) {</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>                <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">compass_data</a> = *<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cmp</a>;</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>            }</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>        }</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span> </div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>        <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">iLas</a>-&gt;getLaserMeasurement(laser_data);</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>        <span class="keywordtype">int</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">laser_data_size</a> = laser_data.size();</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span> </div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>        <span class="comment">/*yarp::os::Bottle *las_map = laserMapInPort.read(false);</span></div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span><span class="comment">        if (las_map)</span></div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span><span class="comment">        {</span></div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span><span class="comment">            for (unsigned int i=0; i&lt;1080; i++)</span></div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span><span class="comment">            {</span></div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span><span class="comment">                Bottle* b = las_map-&gt;get(i).asList();</span></div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span><span class="comment">                lasermap_data[i].x = b-&gt;get(0).asFloat64();</span></div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span><span class="comment">                lasermap_data[i].y = b-&gt;get(1).asFloat64();</span></div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span><span class="comment">            }</span></div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span><span class="comment">        }*/</span></div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span> </div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>        <span class="comment">//The drawing functions.</span></div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>        {</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>            <span class="comment">/*if (las_map)</span></div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span><span class="comment">            {</span></div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span><span class="comment">                if (laser_data_size != scans)</span></div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span><span class="comment">                {</span></div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span><span class="comment">                    drawLaser(&amp;compass_data, &amp;laser_data, lasermap_data, img, angle_tot, scans, sens_position, scale, absolute, verbose, aspect);</span></div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span><span class="comment">                }</span></div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span><span class="comment">                else</span></div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span><span class="comment">                {</span></div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span><span class="comment">                    drawLaser(&amp;compass_data, &amp;laser_data, 0, img, angle_tot, scans, sens_position, scale, absolute, verbose, aspect);</span></div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span><span class="comment">                }</span></div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span><span class="comment">            }</span></div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span><span class="comment">            else*/</span></div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>            {</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>                <span class="keywordflow">if</span> (<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">laser_data_size</a> != scans)</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>                {</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>                    <a class="code hl_define" href="Log_8h.html#abdff5cf78d1af37fd4a5d4be078eb2f6">yWarning</a>() &lt;&lt; <span class="stringliteral">&quot;Problem detected in size of laser measurement vector&quot;</span>;</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>                }</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>                <span class="keywordflow">else</span></div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>                {</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>                    <a class="code hl_function" href="guis_2yarplaserscannergui_2main_8cpp.html#a00925ea0e3478042ad7fd5c07036a2a7">drawLaser</a>(&amp;<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">compass_data</a>, &amp;laser_data, <span class="keyword">nullptr</span>, img, <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">angle_tot</a>, scans, <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sens_position_x</a>, <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sens_position_y</a>, <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">sens_position_t</a>, scale, <a class="code hl_function" href="newapplicationwizard_8cpp.html#a7feb41dd4732a0a24487a60c42efe374">absolute</a>, verbose, <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">aspect</a>);</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>                }</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span> </div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>            }</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>            <a class="code hl_function" href="guis_2yarplaserscannergui_2main_8cpp.html#aa1fe6c0f1f8147b588c8ad597208c27d">drawRobot</a>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">img2</a>,<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">robot_radius</a>, scale);</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>            <a class="code hl_function" href="guis_2yarplaserscannergui_2main_8cpp.html#a44286eadb0f01d7db309ba681d6833c8">drawGrid</a>(img,scale);</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>            <span class="keywordflow">if</span> (<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">compass</a>) {</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>                <a class="code hl_function" href="guis_2yarplaserscannergui_2main_8cpp.html#a29eca74fba241e52a516d2505d053167">drawCompass</a>(&amp;<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">compass_data</a>, img, <a class="code hl_function" href="newapplicationwizard_8cpp.html#a7feb41dd4732a0a24487a60c42efe374">absolute</a>);</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>            }</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span> </div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>            <a class="code hl_class" href="classyarp_1_1os_1_1Bottle.html">yarp::os::Bottle</a> *<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">nav_display</a> = <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">navDisplayInPort</a>.<a class="code hl_function" href="classyarp_1_1os_1_1BufferedPort.html#ad88d8d901b29e3776281b943a4f47596">read</a>(<span class="keyword">false</span>);</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>            <span class="keywordflow">if</span> (<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">nav_display</a>)</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>            {</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>                <a class="code hl_function" href="guis_2yarplaserscannergui_2main_8cpp.html#a3a79e53f20d0deb6afac0c27723c9af0">drawNav</a>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">nav_display</a>,img,scale);</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>            }</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span> </div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>            cv::addWeighted(img, 0.7, <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">img2</a>, 0.3, 0.0, img);</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>            cv::imshow(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">window_name</a>.c_str(), img);</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>        }</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span> </div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>        <a class="code hl_function" href="classyarp_1_1os_1_1SystemClock.html#af9eba2d0a597ba1a53e6be7a47941314">SystemClock::delaySystem</a>(<span class="keywordtype">double</span>(period)/1000.0+0.005);</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span> </div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>        <span class="comment">//if ESC is pressed, exit.</span></div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>        <span class="keywordtype">int</span> <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">keypressed</a> = <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvWaitKey</a>(2); <span class="comment">//wait 2ms. Lower values do not work under Linux</span></div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>        <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">keypressed</a> &amp;= 0xFF; <span class="comment">//this mask is required in Linux systems</span></div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>        <span class="keywordflow">if</span> (<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">keypressed</a> == 27) {</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>            exit = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>        }</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>        <span class="keywordflow">if</span>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">keypressed</a> == <span class="charliteral">&#39;w&#39;</span> &amp;&amp; scale &lt;500)</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>        {</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>            <span class="comment">//scale+=0.001;</span></div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>            scale*=1.02;</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>            <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>(<span class="stringliteral">&quot;scale factor is now:%.3f&quot;</span>,scale);</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>        }</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>        <span class="keywordflow">if</span>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">keypressed</a> == <span class="charliteral">&#39;s&#39;</span> &amp;&amp; scale &gt;8)</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>        {</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>           <span class="comment">//scale-=0.001;</span></div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>           scale/=1.02;</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>           <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>(<span class="stringliteral">&quot;scale factor is now:%.3f&quot;</span>, scale);</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>        }</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>        <span class="keywordflow">if</span>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">keypressed</a> == <span class="charliteral">&#39;v&#39;</span> )</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>        {</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>           verbose= (!verbose);</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>           <span class="keywordflow">if</span> (verbose) {</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>               <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>(<span class="stringliteral">&quot;verbose mode is now ON&quot;</span>);</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>           } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>               <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>(<span class="stringliteral">&quot;verbose mode is now OFF&quot;</span>);</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>           }</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>        }</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>        <span class="keywordflow">if</span>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">keypressed</a> == <span class="charliteral">&#39;a&#39;</span> )</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>        {</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>            <a class="code hl_function" href="newapplicationwizard_8cpp.html#a7feb41dd4732a0a24487a60c42efe374">absolute</a>= (!<a class="code hl_function" href="newapplicationwizard_8cpp.html#a7feb41dd4732a0a24487a60c42efe374">absolute</a>);</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="newapplicationwizard_8cpp.html#a7feb41dd4732a0a24487a60c42efe374">absolute</a>) {</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>                <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>(<span class="stringliteral">&quot;display is now in ABSOLUTE mode&quot;</span>);</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>                <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>(<span class="stringliteral">&quot;display is now in RELATIVE mode&quot;</span>);</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>            }</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>        }</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>        <span class="keywordflow">if</span>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">keypressed</a> == <span class="charliteral">&#39;r&#39;</span> )</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>        {</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>            <span class="keywordflow">if</span> (period == 0) {</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>                period = 50;</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (period == 50) {</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>                period = 100;</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (period == 100) {</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>                period = 200;</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (period == 200) {</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>                period = 0;</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>            }</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>            <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>(<span class="stringliteral">&quot;refresh period set to %d ms.&quot;</span>, period);</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>        }</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>        <span class="keywordflow">if</span>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">keypressed</a> == <span class="charliteral">&#39;c&#39;</span> )</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>        {</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>            <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">compass</a>= (!<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">compass</a>);</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>            <span class="keywordflow">if</span> (<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">compass</a>) { <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>( <span class="stringliteral">&quot;compass is now ON&quot;</span>); }</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>            <span class="keywordflow">else</span>         { <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>( <span class="stringliteral">&quot;compass is now OFF&quot;</span>); <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">compass_data</a>.zero(); }</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>        }</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>        <span class="keywordflow">if</span> (<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">keypressed</a> == <span class="charliteral">&#39;b&#39;</span>)</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>        {</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>            <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">aspect</a> = <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">aspect</a> + 1;</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>            <span class="keywordflow">if</span> (<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">aspect</a> &gt; 1) {</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>                <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">aspect</a> = 0;</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>            }</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>        }</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>        <span class="keywordflow">if</span>(<a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">keypressed</a> == <span class="charliteral">&#39;h&#39;</span> ||</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>            <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">keypressed</a> == <span class="charliteral">&#39;H&#39;</span>)</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>        {</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>            <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>(<span class="stringliteral">&quot;available commands:&quot;</span>);</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>            <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>(<span class="stringliteral">&quot;c ...... enables/disables compass.&quot;</span>);</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>            <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>(<span class="stringliteral">&quot;a ...... set absolute/relative mode.&quot;</span>);</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>            <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>(<span class="stringliteral">&quot;w ...... zoom in.&quot;</span>);</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>            <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>(<span class="stringliteral">&quot;s ...... zoom out.&quot;</span>);</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>            <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>(<span class="stringliteral">&quot;v ...... set verbose mode on/off.&quot;</span>);</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>            <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>(<span class="stringliteral">&quot;r ...... set refresh rate.&quot;</span>);</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>            <a class="code hl_define" href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a>(<span class="stringliteral">&quot;b ...... change aspect&quot;</span>);</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>        }</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>    }</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span> </div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">compassInPort</a>.<a class="code hl_function" href="classyarp_1_1os_1_1BufferedPort.html#a63c41364f3bf71d1ce68165a28f53998">close</a>();</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">laserMapInPort</a>.<a class="code hl_function" href="classyarp_1_1os_1_1BufferedPort.html#a63c41364f3bf71d1ce68165a28f53998">close</a>();</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">navDisplayInPort</a>.<a class="code hl_function" href="classyarp_1_1os_1_1BufferedPort.html#a63c41364f3bf71d1ce68165a28f53998">close</a>();</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>    <a class="code hl_class" href="classyarp_1_1os_1_1BufferedPort.html">cvDestroyAllWindows</a>();</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>    <span class="keywordflow">if</span> (drv) {</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>        <span class="keyword">delete</span> drv;</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>    }</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>}</div>
</div>
<div class="ttc" id="aBottle_8h_html"><div class="ttname"><a href="Bottle_8h.html">Bottle.h</a></div></div>
<div class="ttc" id="aBufferedPort_8h_html"><div class="ttname"><a href="BufferedPort_8h.html">BufferedPort.h</a></div></div>
<div class="ttc" id="aDrivers_8h_html"><div class="ttname"><a href="Drivers_8h.html">Drivers.h</a></div></div>
<div class="ttc" id="aFakeLocalizer_8cpp_html_ae71449b1cc6e6250b91f539153a7a0d3"><div class="ttname"><a href="FakeLocalizer_8cpp.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a></div><div class="ttdeci">#define M_PI</div><div class="ttdef"><b>Definition</b> <a href="FakeLocalizer_8cpp_source.html#l00030">FakeLocalizer.cpp:30</a></div></div>
<div class="ttc" id="aIRangefinder2D_8h_html"><div class="ttname"><a href="IRangefinder2D_8h.html">IRangefinder2D.h</a></div></div>
<div class="ttc" id="aImage_8h_html"><div class="ttname"><a href="Image_8h.html">Image.h</a></div></div>
<div class="ttc" id="aLogStream_8h_html"><div class="ttname"><a href="LogStream_8h.html">LogStream.h</a></div></div>
<div class="ttc" id="aLog_8h_html"><div class="ttname"><a href="Log_8h.html">Log.h</a></div></div>
<div class="ttc" id="aLog_8h_html_a09e0b22ac4baddf249df4a9d9702c938"><div class="ttname"><a href="Log_8h.html#a09e0b22ac4baddf249df4a9d9702c938">yInfo</a></div><div class="ttdeci">#define yInfo(...)</div><div class="ttdef"><b>Definition</b> <a href="Log_8h_source.html#l00319">Log.h:319</a></div></div>
<div class="ttc" id="aLog_8h_html_a0aeaf63530b16a1bc47ad5cf6121504a"><div class="ttname"><a href="Log_8h.html#a0aeaf63530b16a1bc47ad5cf6121504a">yError</a></div><div class="ttdeci">#define yError(...)</div><div class="ttdef"><b>Definition</b> <a href="Log_8h_source.html#l00361">Log.h:361</a></div></div>
<div class="ttc" id="aLog_8h_html_abdff5cf78d1af37fd4a5d4be078eb2f6"><div class="ttname"><a href="Log_8h.html#abdff5cf78d1af37fd4a5d4be078eb2f6">yWarning</a></div><div class="ttdeci">#define yWarning(...)</div><div class="ttdef"><b>Definition</b> <a href="Log_8h_source.html#l00340">Log.h:340</a></div></div>
<div class="ttc" id="aNetwork_8h_html"><div class="ttname"><a href="Network_8h.html">Network.h</a></div></div>
<div class="ttc" id="aPolyDriver_8h_html"><div class="ttname"><a href="PolyDriver_8h.html">PolyDriver.h</a></div></div>
<div class="ttc" id="aResourceFinder_8h_html"><div class="ttname"><a href="ResourceFinder_8h.html">ResourceFinder.h</a></div></div>
<div class="ttc" id="aTime_8h_html"><div class="ttname"><a href="Time_8h.html">Time.h</a></div></div>
<div class="ttc" id="aVector_8h_html"><div class="ttname"><a href="Vector_8h.html">Vector.h</a></div><div class="ttdoc">contains the definition of a Vector type</div></div>
<div class="ttc" id="aclassyarp_1_1dev_1_1DeviceDriver_html_ad2a1b10de5dda3160d687ebb5f20577c"><div class="ttname"><a href="classyarp_1_1dev_1_1DeviceDriver.html#ad2a1b10de5dda3160d687ebb5f20577c">yarp::dev::DeviceDriver::view</a></div><div class="ttdeci">bool view(T *&amp;x)</div><div class="ttdoc">Get an interface to the device driver.</div><div class="ttdef"><b>Definition</b> <a href="DeviceDriver_8h_source.html#l00087">DeviceDriver.h:87</a></div></div>
<div class="ttc" id="aclassyarp_1_1dev_1_1IRangefinder2D_html"><div class="ttname"><a href="classyarp_1_1dev_1_1IRangefinder2D.html">yarp::dev::IRangefinder2D</a></div><div class="ttdoc">A generic interface for planar laser range finders.</div><div class="ttdef"><b>Definition</b> <a href="IRangefinder2D_8h_source.html#l00033">IRangefinder2D.h:34</a></div></div>
<div class="ttc" id="aclassyarp_1_1dev_1_1PolyDriver_html"><div class="ttname"><a href="classyarp_1_1dev_1_1PolyDriver.html">yarp::dev::PolyDriver</a></div><div class="ttdoc">A container for a device driver.</div><div class="ttdef"><b>Definition</b> <a href="PolyDriver_8h_source.html#l00021">PolyDriver.h:23</a></div></div>
<div class="ttc" id="aclassyarp_1_1dev_1_1PolyDriver_html_ae4b6b61460d13835e363f371a72f1ba0"><div class="ttname"><a href="classyarp_1_1dev_1_1PolyDriver.html#ae4b6b61460d13835e363f371a72f1ba0">yarp::dev::PolyDriver::open</a></div><div class="ttdeci">bool open(const std::string &amp;txt)</div><div class="ttdoc">Construct and configure a device by its common name.</div><div class="ttdef"><b>Definition</b> <a href="PolyDriver_8cpp_source.html#l00077">PolyDriver.cpp:77</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bottle_html"><div class="ttname"><a href="classyarp_1_1os_1_1Bottle.html">yarp::os::Bottle</a></div><div class="ttdoc">A simple collection of objects that can be described and transmitted in a portable way.</div><div class="ttdef"><b>Definition</b> <a href="Bottle_8h_source.html#l00063">Bottle.h:64</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bottle_html_a4d2e210ab875bff598973ab0a6919c31"><div class="ttname"><a href="classyarp_1_1os_1_1Bottle.html#a4d2e210ab875bff598973ab0a6919c31">yarp::os::Bottle::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdoc">Gets the number of elements in the bottle.</div><div class="ttdef"><b>Definition</b> <a href="Bottle_8cpp_source.html#l00251">Bottle.cpp:251</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Bottle_html_a6cd61ddbda2c4970bbe8087cf5986e42"><div class="ttname"><a href="classyarp_1_1os_1_1Bottle.html#a6cd61ddbda2c4970bbe8087cf5986e42">yarp::os::Bottle::get</a></div><div class="ttdeci">Value &amp; get(size_type index) const</div><div class="ttdoc">Reads a Value v from a certain part of the list.</div><div class="ttdef"><b>Definition</b> <a href="Bottle_8cpp_source.html#l00246">Bottle.cpp:246</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1BufferedPort_html"><div class="ttname"><a href="classyarp_1_1os_1_1BufferedPort.html">yarp::os::BufferedPort</a></div><div class="ttdoc">A mini-server for performing network communication in the background.</div><div class="ttdef"><b>Definition</b> <a href="BufferedPort_8h_source.html#l00059">BufferedPort.h:60</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1BufferedPort_html_a63c41364f3bf71d1ce68165a28f53998"><div class="ttname"><a href="classyarp_1_1os_1_1BufferedPort.html#a63c41364f3bf71d1ce68165a28f53998">yarp::os::BufferedPort::close</a></div><div class="ttdeci">void close() override</div><div class="ttdoc">Stop port activity.</div><div class="ttdef"><b>Definition</b> <a href="BufferedPort-inl_8h_source.html#l00070">BufferedPort-inl.h:70</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1BufferedPort_html_a938b0e335554aa0e7fb1d919e51a665f"><div class="ttname"><a href="classyarp_1_1os_1_1BufferedPort.html#a938b0e335554aa0e7fb1d919e51a665f">yarp::os::BufferedPort::open</a></div><div class="ttdeci">bool open(const std::string &amp;name) override</div><div class="ttdoc">Start port operation, with a specific name, with automatically-chosen network parameters.</div><div class="ttdef"><b>Definition</b> <a href="BufferedPort-inl_8h_source.html#l00038">BufferedPort-inl.h:38</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1BufferedPort_html_ad88d8d901b29e3776281b943a4f47596"><div class="ttname"><a href="classyarp_1_1os_1_1BufferedPort.html#ad88d8d901b29e3776281b943a4f47596">yarp::os::BufferedPort::read</a></div><div class="ttdeci">T * read(bool shouldWait=true) override</div><div class="ttdoc">Read an available object from the port.</div><div class="ttdef"><b>Definition</b> <a href="BufferedPort-inl_8h_source.html#l00151">BufferedPort-inl.h:151</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Network_html"><div class="ttname"><a href="classyarp_1_1os_1_1Network.html">yarp::os::Network</a></div><div class="ttdoc">Utilities for manipulating the YARP network, including initialization and shutdown.</div><div class="ttdef"><b>Definition</b> <a href="Network_8h_source.html#l00705">Network.h:706</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Property_html"><div class="ttname"><a href="classyarp_1_1os_1_1Property.html">yarp::os::Property</a></div><div class="ttdoc">A class for storing options and configuration information.</div><div class="ttdef"><b>Definition</b> <a href="Property_8h_source.html#l00030">Property.h:33</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1ResourceFinder_html"><div class="ttname"><a href="classyarp_1_1os_1_1ResourceFinder.html">yarp::os::ResourceFinder</a></div><div class="ttdoc">Helper class for finding config files and other external resources.</div><div class="ttdef"><b>Definition</b> <a href="ResourceFinder_8h_source.html#l00028">ResourceFinder.h:29</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1ResourceFinder_html_a0319a04b0f777210a4205cf1e10a3afb"><div class="ttname"><a href="classyarp_1_1os_1_1ResourceFinder.html#a0319a04b0f777210a4205cf1e10a3afb">yarp::os::ResourceFinder::check</a></div><div class="ttdeci">bool check(const std::string &amp;key) const override</div><div class="ttdoc">Check if there exists a property of the given name.</div><div class="ttdef"><b>Definition</b> <a href="ResourceFinder_8cpp_source.html#l00903">ResourceFinder.cpp:903</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1ResourceFinder_html_a3a93050284000a2b177babe81e474445"><div class="ttname"><a href="classyarp_1_1os_1_1ResourceFinder.html#a3a93050284000a2b177babe81e474445">yarp::os::ResourceFinder::configure</a></div><div class="ttdeci">bool configure(int argc, char *argv[], bool skipFirstArgument=true)</div><div class="ttdoc">Sets up the ResourceFinder.</div><div class="ttdef"><b>Definition</b> <a href="ResourceFinder_8cpp_source.html#l00786">ResourceFinder.cpp:786</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1ResourceFinder_html_ae9ccc74e3bce19a27c64b3a3388ebdc2"><div class="ttname"><a href="classyarp_1_1os_1_1ResourceFinder.html#ae9ccc74e3bce19a27c64b3a3388ebdc2">yarp::os::ResourceFinder::setDefaultConfigFile</a></div><div class="ttdeci">bool setDefaultConfigFile(const std::string &amp;fname)</div><div class="ttdoc">Provide a default value for the configuration file (can be overridden from command line with the fro...</div><div class="ttdef"><b>Definition</b> <a href="ResourceFinder_8h_source.html#l00103">ResourceFinder.h:103</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1SystemClock_html_af9eba2d0a597ba1a53e6be7a47941314"><div class="ttname"><a href="classyarp_1_1os_1_1SystemClock.html#af9eba2d0a597ba1a53e6be7a47941314">yarp::os::SystemClock::delaySystem</a></div><div class="ttdeci">static void delaySystem(double seconds)</div><div class="ttdef"><b>Definition</b> <a href="SystemClock_8cpp_source.html#l00029">SystemClock.cpp:29</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Value_html"><div class="ttname"><a href="classyarp_1_1os_1_1Value.html">yarp::os::Value</a></div><div class="ttdoc">A single value (typically within a Bottle).</div><div class="ttdef"><b>Definition</b> <a href="Value_8h_source.html#l00042">Value.h:43</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1Value_html_a0003d9cf199c58ecd412825528fe10d0"><div class="ttname"><a href="classyarp_1_1os_1_1Value.html#a0003d9cf199c58ecd412825528fe10d0">yarp::os::Value::asFloat64</a></div><div class="ttdeci">virtual yarp::conf::float64_t asFloat64() const</div><div class="ttdoc">Get 64-bit floating point value.</div><div class="ttdef"><b>Definition</b> <a href="Value_8cpp_source.html#l00222">Value.cpp:222</a></div></div>
<div class="ttc" id="aclassyarp_1_1sig_1_1VectorOf_html"><div class="ttname"><a href="classyarp_1_1sig_1_1VectorOf.html">yarp::sig::VectorOf&lt; double &gt;</a></div></div>
<div class="ttc" id="aguis_2yarplaserscannergui_2main_8cpp_html_a00925ea0e3478042ad7fd5c07036a2a7"><div class="ttname"><a href="guis_2yarplaserscannergui_2main_8cpp.html#a00925ea0e3478042ad7fd5c07036a2a7">drawLaser</a></div><div class="ttdeci">void drawLaser(const Vector *comp, std::vector&lt; yarp::sig::LaserMeasurementData &gt; *las, std::vector&lt; yarp::sig::LaserMeasurementData &gt; *lmap, cv::Mat &amp;img, double angle_tot, int scans, double sens_position_x, double sens_position_y, double sens_position_t, double scale, bool absolute, bool verbose, int aspect)</div><div class="ttdef"><b>Definition</b> <a href="guis_2yarplaserscannergui_2main_8cpp_source.html#l00204">main.cpp:204</a></div></div>
<div class="ttc" id="aguis_2yarplaserscannergui_2main_8cpp_html_a0ddf1224851353fc92bfbff6f499fa97"><div class="ttname"><a href="guis_2yarplaserscannergui_2main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a></div><div class="ttdeci">int main(int argc, char *argv[])</div><div class="ttdef"><b>Definition</b> <a href="guis_2yarplaserscannergui_2main_8cpp_source.html#l00359">main.cpp:359</a></div></div>
<div class="ttc" id="aguis_2yarplaserscannergui_2main_8cpp_html_a29eca74fba241e52a516d2505d053167"><div class="ttname"><a href="guis_2yarplaserscannergui_2main_8cpp.html#a29eca74fba241e52a516d2505d053167">drawCompass</a></div><div class="ttdeci">void drawCompass(const yarp::sig::Vector *comp, cv::Mat &amp;img, bool absolute)</div><div class="ttdef"><b>Definition</b> <a href="guis_2yarplaserscannergui_2main_8cpp_source.html#l00124">main.cpp:124</a></div></div>
<div class="ttc" id="aguis_2yarplaserscannergui_2main_8cpp_html_a337e3c1d898d90d09ae1e6907f95e8c8"><div class="ttname"><a href="guis_2yarplaserscannergui_2main_8cpp.html#a337e3c1d898d90d09ae1e6907f95e8c8">color_red</a></div><div class="ttdeci">const CvScalar color_red</div><div class="ttdef"><b>Definition</b> <a href="guis_2yarplaserscannergui_2main_8cpp_source.html#l00044">main.cpp:44</a></div></div>
<div class="ttc" id="aguis_2yarplaserscannergui_2main_8cpp_html_a39ec8db75e7cd717eb12573eb44e0e1d"><div class="ttname"><a href="guis_2yarplaserscannergui_2main_8cpp.html#a39ec8db75e7cd717eb12573eb44e0e1d">color_gray</a></div><div class="ttdeci">const CvScalar color_gray</div><div class="ttdef"><b>Definition</b> <a href="guis_2yarplaserscannergui_2main_8cpp_source.html#l00047">main.cpp:47</a></div></div>
<div class="ttc" id="aguis_2yarplaserscannergui_2main_8cpp_html_a3a79e53f20d0deb6afac0c27723c9af0"><div class="ttname"><a href="guis_2yarplaserscannergui_2main_8cpp.html#a3a79e53f20d0deb6afac0c27723c9af0">drawNav</a></div><div class="ttdeci">void drawNav(const yarp::os::Bottle *display, cv::Mat &amp;img, double scale)</div><div class="ttdef"><b>Definition</b> <a href="guis_2yarplaserscannergui_2main_8cpp_source.html#l00159">main.cpp:159</a></div></div>
<div class="ttc" id="aguis_2yarplaserscannergui_2main_8cpp_html_a43540b18fe33ec1df3e8630f5d7a1fac"><div class="ttname"><a href="guis_2yarplaserscannergui_2main_8cpp.html#a43540b18fe33ec1df3e8630f5d7a1fac">ASPECT_POINT</a></div><div class="ttdeci">#define ASPECT_POINT</div><div class="ttdef"><b>Definition</b> <a href="guis_2yarplaserscannergui_2main_8cpp_source.html#l00050">main.cpp:50</a></div></div>
<div class="ttc" id="aguis_2yarplaserscannergui_2main_8cpp_html_a44286eadb0f01d7db309ba681d6833c8"><div class="ttname"><a href="guis_2yarplaserscannergui_2main_8cpp.html#a44286eadb0f01d7db309ba681d6833c8">drawGrid</a></div><div class="ttdeci">void drawGrid(cv::Mat &amp;img, double scale)</div><div class="ttdef"><b>Definition</b> <a href="guis_2yarplaserscannergui_2main_8cpp_source.html#l00055">main.cpp:55</a></div></div>
<div class="ttc" id="aguis_2yarplaserscannergui_2main_8cpp_html_a4d1839bc7bd4d17286541220fa0f491d"><div class="ttname"><a href="guis_2yarplaserscannergui_2main_8cpp.html#a4d1839bc7bd4d17286541220fa0f491d">ASPECT_LINE</a></div><div class="ttdeci">#define ASPECT_LINE</div><div class="ttdef"><b>Definition</b> <a href="guis_2yarplaserscannergui_2main_8cpp_source.html#l00049">main.cpp:49</a></div></div>
<div class="ttc" id="aguis_2yarplaserscannergui_2main_8cpp_html_a87d5ba3624a29d8f730c1ec2749bec19"><div class="ttname"><a href="guis_2yarplaserscannergui_2main_8cpp.html#a87d5ba3624a29d8f730c1ec2749bec19">color_yellow</a></div><div class="ttdeci">const CvScalar color_yellow</div><div class="ttdef"><b>Definition</b> <a href="guis_2yarplaserscannergui_2main_8cpp_source.html#l00045">main.cpp:45</a></div></div>
<div class="ttc" id="aguis_2yarplaserscannergui_2main_8cpp_html_a8e7a7351e14f5493a1bb7e0bbcbb4273"><div class="ttname"><a href="guis_2yarplaserscannergui_2main_8cpp.html#a8e7a7351e14f5493a1bb7e0bbcbb4273">color_white</a></div><div class="ttdeci">const CvScalar color_white</div><div class="ttdef"><b>Definition</b> <a href="guis_2yarplaserscannergui_2main_8cpp_source.html#l00043">main.cpp:43</a></div></div>
<div class="ttc" id="aguis_2yarplaserscannergui_2main_8cpp_html_a8f0b63bf650a5ceefc36d7e3bcb02f63"><div class="ttname"><a href="guis_2yarplaserscannergui_2main_8cpp.html#a8f0b63bf650a5ceefc36d7e3bcb02f63">display_help</a></div><div class="ttdeci">void display_help()</div><div class="ttdef"><b>Definition</b> <a href="guis_2yarplaserscannergui_2main_8cpp_source.html#l00331">main.cpp:331</a></div></div>
<div class="ttc" id="aguis_2yarplaserscannergui_2main_8cpp_html_aa1fe6c0f1f8147b588c8ad597208c27d"><div class="ttname"><a href="guis_2yarplaserscannergui_2main_8cpp.html#aa1fe6c0f1f8147b588c8ad597208c27d">drawRobot</a></div><div class="ttdeci">void drawRobot(cv::Mat &amp;img, double robot_radius, double scale)</div><div class="ttdef"><b>Definition</b> <a href="guis_2yarplaserscannergui_2main_8cpp_source.html#l00101">main.cpp:101</a></div></div>
<div class="ttc" id="aguis_2yarplaserscannergui_2main_8cpp_html_ae8330da2399dafbfcb21f63af66e41f8"><div class="ttname"><a href="guis_2yarplaserscannergui_2main_8cpp.html#ae8330da2399dafbfcb21f63af66e41f8">color_bwhite</a></div><div class="ttdeci">const CvScalar color_bwhite</div><div class="ttdef"><b>Definition</b> <a href="guis_2yarplaserscannergui_2main_8cpp_source.html#l00042">main.cpp:42</a></div></div>
<div class="ttc" id="aguis_2yarplaserscannergui_2main_8cpp_html_ae9896befbb50a72c58eba3bc0228fffb"><div class="ttname"><a href="guis_2yarplaserscannergui_2main_8cpp.html#ae9896befbb50a72c58eba3bc0228fffb">color_black</a></div><div class="ttdeci">const CvScalar color_black</div><div class="ttdef"><b>Definition</b> <a href="guis_2yarplaserscannergui_2main_8cpp_source.html#l00046">main.cpp:46</a></div></div>
<div class="ttc" id="aguis_2yarplaserscannergui_2main_8cpp_html_af7e8592d0a634bd3642e9fd508ea8022"><div class="ttname"><a href="guis_2yarplaserscannergui_2main_8cpp.html#af7e8592d0a634bd3642e9fd508ea8022">DEG2RAD</a></div><div class="ttdeci">#define DEG2RAD</div><div class="ttdef"><b>Definition</b> <a href="guis_2yarplaserscannergui_2main_8cpp_source.html#l00039">main.cpp:39</a></div></div>
<div class="ttc" id="aguis_2yarplaserscannergui_2main_8cpp_html_af9a3bdfd33be48b0e9c64cd1cd05cab8"><div class="ttname"><a href="guis_2yarplaserscannergui_2main_8cpp.html#af9a3bdfd33be48b0e9c64cd1cd05cab8">g_lidar_debug_nan</a></div><div class="ttdeci">bool g_lidar_debug_nan</div><div class="ttdef"><b>Definition</b> <a href="guis_2yarplaserscannergui_2main_8cpp_source.html#l00052">main.cpp:52</a></div></div>
<div class="ttc" id="aguis_2yarplaserscannergui_2main_8cpp_html_afa50cd0bf10d6601753ab2698fe51fcd"><div class="ttname"><a href="guis_2yarplaserscannergui_2main_8cpp.html#afa50cd0bf10d6601753ab2698fe51fcd">g_lidar_debug_inf</a></div><div class="ttdeci">bool g_lidar_debug_inf</div><div class="ttdef"><b>Definition</b> <a href="guis_2yarplaserscannergui_2main_8cpp_source.html#l00053">main.cpp:53</a></div></div>
<div class="ttc" id="anamespaceyarp_1_1os_1_1Time_html_a9909c5613bb1daee8f1fd92e1f4c95f6"><div class="ttname"><a href="namespaceyarp_1_1os_1_1Time.html#a9909c5613bb1daee8f1fd92e1f4c95f6">yarp::os::Time::now</a></div><div class="ttdeci">double now()</div><div class="ttdoc">Return the current time in seconds, relative to an arbitrary starting point.</div><div class="ttdef"><b>Definition</b> <a href="Time_8cpp_source.html#l00121">Time.cpp:121</a></div></div>
<div class="ttc" id="anamespaceyarp_1_1os_html"><div class="ttname"><a href="namespaceyarp_1_1os.html">yarp::os</a></div><div class="ttdoc">An interface to the operating system, including Port based communication.</div><div class="ttdef"><b>Definition</b> <a href="AbstractCarrier_8h_source.html#l00013">AbstractCarrier.h:13</a></div></div>
<div class="ttc" id="anamespaceyarp_1_1os_html_ae0ae51936d9fca34f3fc1c0e2642cc01a9beffa5f9b8c68cb1c3af681e145a178"><div class="ttname"><a href="namespaceyarp_1_1os.html#ae0ae51936d9fca34f3fc1c0e2642cc01a9beffa5f9b8c68cb1c3af681e145a178">yarp::os::YARP_CLOCK_SYSTEM</a></div><div class="ttdeci">@ YARP_CLOCK_SYSTEM</div><div class="ttdef"><b>Definition</b> <a href="Time_8h_source.html#l00028">Time.h:28</a></div></div>
<div class="ttc" id="anamespaceyarp_1_1sig_html"><div class="ttname"><a href="namespaceyarp_1_1sig.html">yarp::sig</a></div><div class="ttdef"><b>Definition</b> <a href="audioBufferSizeData_8cpp_source.html#l00013">audioBufferSizeData.cpp:13</a></div></div>
<div class="ttc" id="anamespaceyarp_html"><div class="ttname"><a href="namespaceyarp.html">yarp</a></div><div class="ttdoc">The main, catch-all namespace for YARP.</div><div class="ttdef"><b>Definition</b> <a href="dirs_8h_source.html#l00016">dirs.h:16</a></div></div>
<div class="ttc" id="anewapplicationwizard_8cpp_html_a7feb41dd4732a0a24487a60c42efe374"><div class="ttname"><a href="newapplicationwizard_8cpp.html#a7feb41dd4732a0a24487a60c42efe374">absolute</a></div><div class="ttdeci">bool absolute(const char *path)</div><div class="ttdef"><b>Definition</b> <a href="newapplicationwizard_8cpp_source.html#l00017">newapplicationwizard.cpp:17</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li><span id="projectname_footer">YARP</span></li>
    <li><span id="projectnumber" class="version_switch">3.12.0</span></li>
    <li class="navelem"><a class="el" href="dir_d946d32291de7db32f6a943fb45d46f4.html">src</a></li><li class="navelem"><a class="el" href="dir_a286f50c45f7ef3977a1f1ce0f17ff04.html">guis</a></li><li class="navelem"><a class="el" href="dir_f021866abd8cddd6a20c2d342e0a8075.html">yarplaserscannergui</a></li><li class="navelem"><a class="el" href="guis_2yarplaserscannergui_2main_8cpp.html">main.cpp</a></li>
    <li class="footer">Generated on Tue Jul 1 2025 14:56:28 for YARP by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
