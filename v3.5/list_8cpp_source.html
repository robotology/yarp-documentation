<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>YARP: src/devices/usbCamera/linux/list.cpp Source File</title>
<link rel="shortcut icon" href="yarp-favicon.ico" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
    var DOCUMENTATION_OPTIONS = { VERSION: '3.5.1' };
</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="yarp-doxygen-style.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../version_switch.js"></script>
<link rel="stylesheet" type="text/css" href="cookieconsent.min.css" />
<script src="cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#eb6c44",
      "text": "#ffffff"
    },
    "button": {
      "background": "#237afc",
    }
  },
  "theme": "classic",
  "content": {
    "message": "INFORMATION NOTICE ON COOKIES : This website uses only browsing/session cookies. Users can choose whether or not to accept the use of cookies and access the website. By clicking on \"Further information\", the full information notice on the types of cookies will be displayed and you will be able  to choose whether or not to accept them whilst browsing on the website.",
    "dismiss": "ACCEPT and close",
    "link": "Further information",
    "href": "http://www.icub.org/other/personal_data_notice.html"
  }
})});
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="yarp-robot-64.png"/></td>
  <td id="projectalign" style="padding-left: 1.5em;">
   <div id="projectname">YARP</div>
   <div id="projectbrief">Yet Another Robot Platform</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('list_8cpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">list.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="list_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * SPDX-FileCopyrightText: 2006-2021 Istituto Italiano di Tecnologia (IIT)</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * SPDX-License-Identifier: LGPL-2.1-or-later</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160; </div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160; </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="list_8h.html">list.h</a>&quot;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="USBcameraLogComponent_8h.html">USBcameraLogComponent.h</a>&quot;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160; </div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="LogStream_8h.html">yarp/os/LogStream.h</a>&gt;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160; </div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;cerrno&gt;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;cstdio&gt;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;cstring&gt;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;linux/videodev2.h&gt;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;sys/ioctl.h&gt;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160; </div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160; </div>
<div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="list_8cpp.html#a0fc27527b6fd00946a14eb29012b6bd4">   19</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="list_8cpp.html#a0fc27527b6fd00946a14eb29012b6bd4">enum_image_fmt_v4l2</a>(<span class="keywordtype">int</span> fd)</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;{</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    <span class="keyword">struct </span>v4l2_fmtdesc fmtd;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;============================================&quot;</span>);</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;Querying image format&quot;</span>);</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>);</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    memset(&amp;fmtd, 0, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> v4l2_fmtdesc));</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    fmtd.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    fmtd.index = 0;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160; </div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keywordflow">while</span> (ioctl(fd, VIDIOC_ENUM_FMT, &amp;fmtd) &gt;= 0) {</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>,</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;               <span class="stringliteral">&quot;%d - %s (compressed : %d) (%#x)&quot;</span>,</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;               fmtd.index,</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;               fmtd.description,</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;               fmtd.flags,</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;               fmtd.pixelformat);</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        fmtd.index++;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    }</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>);</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;}</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; </div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="list_8cpp.html#ab7b03a3048121e5a8640ff5623a5e72b">   44</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="list_8cpp.html#ab7b03a3048121e5a8640ff5623a5e72b">query_current_image_fmt_v4l2</a>(<span class="keywordtype">int</span> fd)</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;{</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keyword">struct </span>v4l2_format fmt;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keyword">struct </span>v4l2_fmtdesc fmtd; <span class="comment">//to find a text description of the image format</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    memset(&amp;fmt, 0, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> v4l2_format));</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    fmt.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    memset(&amp;fmtd, 0, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> v4l2_fmtdesc));</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    fmtd.index = 0;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    fmtd.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;============================================&quot;</span>);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;Querying current image format settings&quot;</span>);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keywordflow">if</span> (-1 == ioctl(fd, VIDIOC_G_FMT, &amp;fmt)) {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a224fd66c5d833ba0367a2ed54bcc279a">yCError</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;Failed to get image format: %d, %s&quot;</span>, errno, strerror(errno));</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;Current width: %d&quot;</span>, fmt.fmt.pix.width);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;Current height: %d&quot;</span>, fmt.fmt.pix.height);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;Current bytes per line: %d&quot;</span>, fmt.fmt.pix.bytesperline);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;Current image size: %d&quot;</span>, fmt.fmt.pix.sizeimage);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;Current color space: %d&quot;</span>, fmt.fmt.pix.colorspace);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;Current pixel format: &quot;</span>);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <span class="keywordflow">while</span> (ioctl(fd, VIDIOC_ENUM_FMT, &amp;fmtd) &gt;= 0) {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            <span class="keywordflow">if</span> (fmt.fmt.pix.pixelformat == fmtd.pixelformat) {</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;%s&quot;</span>, fmtd.description);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            }</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            fmtd.index++;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    }</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;}</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="list_8cpp.html#ad2dc68fcf591e60a019b10a5457fbea9">   80</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="list_8cpp.html#ad2dc68fcf591e60a019b10a5457fbea9">query_capture_intf_v4l2</a>(<span class="keywordtype">int</span> fd)</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;{</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keyword">struct </span>v4l2_input vin;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keyword">struct </span>v4l2_tuner tun;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keyword">struct </span>v4l2_frequency freq;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    memset(&amp;vin, 0, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> v4l2_input));</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    vin.index = 0;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;============================================&quot;</span>);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;Querying capture capabilities&quot;</span>);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">while</span> (ioctl(fd, VIDIOC_ENUMINPUT, &amp;vin) &gt;= 0) {</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;Input number: %d&quot;</span>, vin.index);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;Name: %s&quot;</span>, vin.<a class="code" href="classyarp_1_1os_1_1LogComponent.html#abf10e88a6a59afdc3022a0a8e5e0be0c">name</a>);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;Type: (%d) &quot;</span>, vin.type);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <span class="keywordflow">if</span> (vin.type &amp; V4L2_INPUT_TYPE_TUNER) {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;Tuner&quot;</span>);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;Tuner index: %d&quot;</span>, vin.tuner);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            memset(&amp;tun, 0, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> v4l2_tuner));</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            tun.index = vin.tuner;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <span class="keywordflow">if</span> (ioctl(fd, VIDIOC_G_TUNER, &amp;tun) == 0) {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;Name: %s&quot;</span>, tun.<a class="code" href="classyarp_1_1os_1_1LogComponent.html#abf10e88a6a59afdc3022a0a8e5e0be0c">name</a>);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                <span class="keywordflow">if</span> (tun.type == V4L2_TUNER_RADIO) {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                    <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;It is a RADIO tuner&quot;</span>);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                <span class="keywordflow">if</span> (tun.type == V4L2_TUNER_ANALOG_TV) {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                    <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;It is a TV tuner&quot;</span>);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                }</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                <span class="keywordflow">if</span> (tun.capability &amp; V4L2_TUNER_CAP_LOW) {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                    <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;Frequencies in units of 62.5Hz&quot;</span>);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                    <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;Frequencies in units of 62.5kHz&quot;</span>);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                <span class="keywordflow">if</span> (tun.capability &amp; V4L2_TUNER_CAP_NORM) {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                    <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;Multi-standard tuner&quot;</span>);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                }</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                <span class="keywordflow">if</span> (tun.capability &amp; V4L2_TUNER_CAP_STEREO) {</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                    <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;Stereo reception supported&quot;</span>);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                }</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                <span class="comment">/* More flags here */</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>,</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                       <span class="stringliteral">&quot;lowest tunable frequency: %.2f %s&quot;</span>,</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                       tun.rangelow * 62.5,</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                       (tun.capability &amp; V4L2_TUNER_CAP_LOW) ? <span class="stringliteral">&quot;Hz&quot;</span> : <span class="stringliteral">&quot;kHz&quot;</span>);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>,</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                       <span class="stringliteral">&quot;highest tunable frequency: %.2f %s&quot;</span>,</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                       tun.rangehigh * 62.5,</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                       (tun.capability &amp; V4L2_TUNER_CAP_LOW) ? <span class="stringliteral">&quot;Hz&quot;</span> : <span class="stringliteral">&quot;kHz&quot;</span>);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                memset(&amp;freq, 0, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> v4l2_frequency));</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                freq.tuner = vin.tuner;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                <span class="keywordflow">if</span> (ioctl(fd, VIDIOC_G_FREQUENCY, &amp;freq) == 0) {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                    <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>,</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                           <span class="stringliteral">&quot;Current frequency: %.2f %s&quot;</span>,</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                           freq.frequency * 62.5,</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                           (tun.capability &amp; V4L2_TUNER_CAP_LOW) ? <span class="stringliteral">&quot;Hz&quot;</span> : <span class="stringliteral">&quot;kHz&quot;</span>);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                }</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            }</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <span class="keywordflow">if</span> (vin.type &amp; V4L2_INPUT_TYPE_CAMERA) {</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;Camera&quot;</span>);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        }</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;Supported standards: (%d) &quot;</span>, (<span class="keywordtype">int</span>)vin.std);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="keywordflow">if</span> (vin.std &amp; V4L2_STD_PAL) {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;PAL &quot;</span>);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        }</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="keywordflow">if</span> (vin.std &amp; V4L2_STD_NTSC) {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;NTSC &quot;</span>);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        }</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="keywordflow">if</span> (vin.std &amp; V4L2_STD_SECAM) {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;SECAM &quot;</span>);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        }</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        vin.index++;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    }</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;}</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160; </div>
<div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="list_8cpp.html#a0a1a9fee4f8c4e807a5919460cec5c30">  159</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="list_8cpp.html#a0a1a9fee4f8c4e807a5919460cec5c30">query_frame_sizes_v4l2</a>(<span class="keywordtype">int</span> fd)</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;{</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keyword">struct </span>v4l2_frmsizeenum frms;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keyword">struct </span>v4l2_fmtdesc fmtd;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    memset(&amp;frms, 0, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> v4l2_frmsizeenum));</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    memset(&amp;fmtd, 0, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> v4l2_fmtdesc));</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    fmtd.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    fmtd.index = 0;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;============================================&quot;</span>);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;Querying supported frame sizes&quot;</span>);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">while</span> (ioctl(fd, VIDIOC_ENUM_FMT, &amp;fmtd) &gt;= 0) {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;Image format: %s&quot;</span>, fmtd.description);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        frms.index = 0;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        frms.pixel_format = fmtd.pixelformat;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="keywordflow">while</span> (ioctl(fd, VIDIOC_ENUM_FRAMESIZES, &amp;frms) &gt;= 0) {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            <span class="keywordflow">if</span> (frms.type == V4L2_FRMSIZE_TYPE_DISCRETE) {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>,</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                       <span class="stringliteral">&quot;index %2d:  Width: %4d - Height: %d&quot;</span>,</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                       frms.index,</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                       frms.discrete.width,</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                       frms.discrete.height);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                frms.index++;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>,</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                       <span class="stringliteral">&quot;index %2d\tMin, max &amp; step height: %d - %d - %d Min, max &amp; step width: %d - %d - %d&quot;</span>,</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                       frms.index,</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                       frms.stepwise.min_height,</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                       frms.stepwise.max_height,</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                       frms.stepwise.step_height,</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                       frms.stepwise.min_width,</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                       frms.stepwise.max_width,</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                       frms.stepwise.step_width);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        }</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        fmtd.index++;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    }</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;}</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="list_8cpp.html#a38174908869d6b04b6acc79d4d01db23">  203</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="list_8cpp.html#a38174908869d6b04b6acc79d4d01db23">print_v4l2_control</a>(<span class="keyword">struct</span> v4l2_queryctrl* qc)</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;{</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>,</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;           <span class="stringliteral">&quot;Control: id: 0x%x - name: %s - min: %d -max: %d - step: %d - type: %d(%s) - flags: %d (%s%s%s%s%s%s)&quot;</span>,</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;           qc-&gt;id,</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;           (<span class="keywordtype">char</span>*)&amp;qc-&gt;<a class="code" href="classyarp_1_1os_1_1LogComponent.html#abf10e88a6a59afdc3022a0a8e5e0be0c">name</a>,</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;           qc-&gt;minimum,</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;           qc-&gt;maximum,</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;           qc-&gt;step,</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;           qc-&gt;type,</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;           (qc-&gt;type == V4L2_CTRL_TYPE_INTEGER ? <span class="stringliteral">&quot;Integer&quot;</span> :</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            qc-&gt;type == V4L2_CTRL_TYPE_BOOLEAN ? <span class="stringliteral">&quot;Boolean&quot;</span> :</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            qc-&gt;type == V4L2_CTRL_TYPE_MENU ? <span class="stringliteral">&quot;Menu&quot;</span> :</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            qc-&gt;type == V4L2_CTRL_TYPE_BUTTON ? <span class="stringliteral">&quot;Button&quot;</span> :</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            qc-&gt;type == V4L2_CTRL_TYPE_INTEGER64 ? <span class="stringliteral">&quot;Integer64&quot;</span> :</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            qc-&gt;type == V4L2_CTRL_TYPE_CTRL_CLASS ? <span class="stringliteral">&quot;Class&quot;</span> :</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            <span class="stringliteral">&quot;&quot;</span>),</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;           qc-&gt;flags,</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;           qc-&gt;flags &amp; V4L2_CTRL_FLAG_DISABLED ? <span class="stringliteral">&quot;Disabled &quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;           qc-&gt;flags &amp; V4L2_CTRL_FLAG_GRABBED ? <span class="stringliteral">&quot;Grabbed &quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;           qc-&gt;flags &amp; V4L2_CTRL_FLAG_READ_ONLY ? <span class="stringliteral">&quot;ReadOnly &quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;           qc-&gt;flags &amp; V4L2_CTRL_FLAG_UPDATE ? <span class="stringliteral">&quot;Update &quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;           qc-&gt;flags &amp; V4L2_CTRL_FLAG_INACTIVE ? <span class="stringliteral">&quot;Inactive &quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;           qc-&gt;flags &amp; V4L2_CTRL_FLAG_SLIDER ? <span class="stringliteral">&quot;slider &quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;}</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">// void query_controls_v4l2(int fd)</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">// {</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">//     int i;</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">//     struct v4l2_queryctrl qctrl;</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">//     CLEAR(qctrl);</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">//     struct v4lconvert_data *d = v4lconvert_create(fd);</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">//     yCInfo(USBCAMERA, &quot;============================================&quot;);</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">//     yCInfo(USBCAMERA, &quot;Querying standard controls&quot;);</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">//     yCInfo(USBCAMERA);</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment">//     // std ctrls</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">//     for( i = V4L2_CID_BASE; i&lt; V4L2_CID_LASTP1; i++) {</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">//         qctrl.id = i;</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">//         //if((ioctl(fd, VIDIOC_QUERYCTRL, &amp;qctrl) == 0))</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">//         if(v4lconvert_vidioc_queryctrl(d,&amp;qctrl)==0) {</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">//             print_v4l2_control(&amp;qctrl);</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">//         }</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">//     }</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">//     yCInfo(USBCAMERA, &quot;============================================&quot;);</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">//     yCInfo(USBCAMERA, &quot;Querying private controls&quot;);</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">//     yCInfo(USBCAMERA);</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">//     // priv ctrls</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">//     for (qctrl.id = V4L2_CID_PRIVATE_BASE;; qctrl.id++) {</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">//         if(v4lconvert_vidioc_queryctrl(d,&amp;qctrl)==0) {</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">//             print_v4l2_control(&amp;qctrl);</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">//         } else {</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">//             if (errno == EINVAL)</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">//                 break;</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">//             yCError(USBCAMERA, &quot;we shouldnt be here...&quot;);</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">//         }</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">//     }</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">//     yCInfo(USBCAMERA, &quot;============================================&quot;);</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">//     yCInfo(USBCAMERA, &quot;Querying extended controls&quot;);</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">//     yCInfo(USBCAMERA);</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">//       //checking extended controls</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">//     qctrl.id = V4L2_CTRL_FLAG_NEXT_CTRL;</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">//     while (v4lconvert_vidioc_queryctrl(d,&amp;qctrl)==0) {</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">//             print_v4l2_control(&amp;qctrl);</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">//             qctrl.id |= V4L2_CTRL_FLAG_NEXT_CTRL;</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">//     }</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">//     v4lconvert_destroy(d);</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">// }</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160; </div>
<div class="line"><a name="l00278"></a><span class="lineno"><a class="line" href="list_8cpp.html#a6795b0f37503488654aff05f6459e6f2">  278</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="list_8cpp.html#a6795b0f37503488654aff05f6459e6f2">list_cap_v4l2</a>(<span class="keywordtype">int</span> fd)</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;{</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keyword">struct </span>v4l2_capability cap;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;============================================&quot;</span>);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;Querying general capabilities&quot;</span>);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160; </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">if</span> (ioctl(fd, VIDIOC_QUERYCAP, &amp;cap) &lt; 0) {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a224fd66c5d833ba0367a2ed54bcc279a">yCError</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;v4l2 not supported. Maybe a v4l1 device ...&quot;</span>);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <span class="comment">//print capabilities</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;Driver name: %s&quot;</span>, cap.driver);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;Device name: %s&quot;</span>, cap.card);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;bus_info: %s&quot;</span>, cap.bus_info);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>,</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;               <span class="stringliteral">&quot;version: %u.%u.%u&quot;</span>,</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;               (cap.version &gt;&gt; 16) &amp; 0xFF,</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;               (cap.version &gt;&gt; 8) &amp; 0xFF,</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;               cap.version &amp; 0xFF);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;%s capture capability&quot;</span>,            (cap.capabilities &amp; V4L2_CAP_VIDEO_CAPTURE)      ? <span class="stringliteral">&quot;Has&quot;</span> : <span class="stringliteral">&quot;Does NOT have&quot;</span>);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;%s output capability&quot;</span>,             (cap.capabilities &amp; V4L2_CAP_VIDEO_OUTPUT)       ? <span class="stringliteral">&quot;Has&quot;</span> : <span class="stringliteral">&quot;Does NOT have&quot;</span>);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;%s overlay capability&quot;</span>,            (cap.capabilities &amp; V4L2_CAP_VIDEO_OVERLAY)      ? <span class="stringliteral">&quot;Has&quot;</span> : <span class="stringliteral">&quot;Does NOT have&quot;</span>);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;%s VBI capture capability&quot;</span>,        (cap.capabilities &amp; V4L2_CAP_VBI_CAPTURE)        ? <span class="stringliteral">&quot;Has&quot;</span> : <span class="stringliteral">&quot;Does NOT have&quot;</span>);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;%s VBI output capability&quot;</span>,         (cap.capabilities &amp; V4L2_CAP_VBI_OUTPUT)         ? <span class="stringliteral">&quot;Has&quot;</span> : <span class="stringliteral">&quot;Does NOT have&quot;</span>);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;%s SLICED VBI capture capability&quot;</span>, (cap.capabilities &amp; V4L2_CAP_SLICED_VBI_CAPTURE) ? <span class="stringliteral">&quot;Has&quot;</span> : <span class="stringliteral">&quot;Does NOT have&quot;</span>);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;%s SLICED VBI output capability&quot;</span>,  (cap.capabilities &amp; V4L2_CAP_SLICED_VBI_OUTPUT)  ? <span class="stringliteral">&quot;Has&quot;</span> : <span class="stringliteral">&quot;Does NOT have&quot;</span>);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;%s RDS capability&quot;</span>,                (cap.capabilities &amp; V4L2_CAP_RDS_CAPTURE)        ? <span class="stringliteral">&quot;Has&quot;</span> : <span class="stringliteral">&quot;Does NOT have&quot;</span>);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;%s tuner capability&quot;</span>,              (cap.capabilities &amp; V4L2_CAP_TUNER)              ? <span class="stringliteral">&quot;Has&quot;</span> : <span class="stringliteral">&quot;Does NOT have&quot;</span>);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;%s audio capability&quot;</span>,              (cap.capabilities &amp; V4L2_CAP_AUDIO)              ? <span class="stringliteral">&quot;Has&quot;</span> : <span class="stringliteral">&quot;Does NOT have&quot;</span>);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;%s radio capability&quot;</span>,              (cap.capabilities &amp; V4L2_CAP_RADIO)              ? <span class="stringliteral">&quot;Has&quot;</span> : <span class="stringliteral">&quot;Does NOT have&quot;</span>);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;%s read/write capability&quot;</span>,         (cap.capabilities &amp; V4L2_CAP_READWRITE)          ? <span class="stringliteral">&quot;Has&quot;</span> : <span class="stringliteral">&quot;Does NOT have&quot;</span>);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;%s async IO capability&quot;</span>,           (cap.capabilities &amp; V4L2_CAP_ASYNCIO)            ? <span class="stringliteral">&quot;Has&quot;</span> : <span class="stringliteral">&quot;Does NOT have&quot;</span>);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>, <span class="stringliteral">&quot;%s streaming capability&quot;</span>,          (cap.capabilities &amp; V4L2_CAP_STREAMING)          ? <span class="stringliteral">&quot;Has&quot;</span> : <span class="stringliteral">&quot;Does NOT have&quot;</span>);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <a class="code" href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a>(<a class="code" href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a>);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160; </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <span class="keywordflow">if</span> (cap.capabilities &amp; V4L2_CAP_VIDEO_CAPTURE) {</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            <a class="code" href="list_8cpp.html#ad2dc68fcf591e60a019b10a5457fbea9">query_capture_intf_v4l2</a>(fd);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        }</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="comment">// FIXME Enumerate other capabilites (output, overlay,...</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160; </div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <a class="code" href="list_8cpp.html#a0fc27527b6fd00946a14eb29012b6bd4">enum_image_fmt_v4l2</a>(fd);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <a class="code" href="list_8cpp.html#ab7b03a3048121e5a8640ff5623a5e72b">query_current_image_fmt_v4l2</a>(fd);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        <a class="code" href="list_8cpp.html#a0a1a9fee4f8c4e807a5919460cec5c30">query_frame_sizes_v4l2</a>(fd);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="comment">//                query_controls_v4l2(fd);</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    }</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;}</div>
<div class="ttc" id="aLogStream_8h_html"><div class="ttname"><a href="LogStream_8h.html">LogStream.h</a></div></div>
<div class="ttc" id="aUSBcameraLogComponent_8cpp_html_aba21069a8d6b182ca5be92a45e7a6208"><div class="ttname"><a href="USBcameraLogComponent_8cpp.html#aba21069a8d6b182ca5be92a45e7a6208">USBCAMERA</a></div><div class="ttdeci">const yarp::os::LogComponent &amp; USBCAMERA()</div><div class="ttdef"><b>Definition:</b> <a href="USBcameraLogComponent_8cpp_source.html#l00008">USBcameraLogComponent.cpp:8</a></div></div>
<div class="ttc" id="aUSBcameraLogComponent_8h_html"><div class="ttname"><a href="USBcameraLogComponent_8h.html">USBcameraLogComponent.h</a></div></div>
<div class="ttc" id="aclassyarp_1_1os_1_1LogComponent_html_abf10e88a6a59afdc3022a0a8e5e0be0c"><div class="ttname"><a href="classyarp_1_1os_1_1LogComponent.html#abf10e88a6a59afdc3022a0a8e5e0be0c">yarp::os::LogComponent::name</a></div><div class="ttdeci">constexpr const char * name() const</div><div class="ttdef"><b>Definition:</b> <a href="libYARP__os_2src_2yarp_2os_2LogComponent_8h_source.html#l00039">LogComponent.h:39</a></div></div>
<div class="ttc" id="alibYARP__os_2src_2yarp_2os_2LogComponent_8h_html_a18e11e963a9867766b3ac49614348799"><div class="ttname"><a href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a18e11e963a9867766b3ac49614348799">yCInfo</a></div><div class="ttdeci">#define yCInfo(component,...)</div><div class="ttdef"><b>Definition:</b> <a href="libYARP__os_2src_2yarp_2os_2LogComponent_8h_source.html#l00132">LogComponent.h:132</a></div></div>
<div class="ttc" id="alibYARP__os_2src_2yarp_2os_2LogComponent_8h_html_a224fd66c5d833ba0367a2ed54bcc279a"><div class="ttname"><a href="libYARP__os_2src_2yarp_2os_2LogComponent_8h.html#a224fd66c5d833ba0367a2ed54bcc279a">yCError</a></div><div class="ttdeci">#define yCError(component,...)</div><div class="ttdef"><b>Definition:</b> <a href="libYARP__os_2src_2yarp_2os_2LogComponent_8h_source.html#l00154">LogComponent.h:154</a></div></div>
<div class="ttc" id="alist_8cpp_html_a0a1a9fee4f8c4e807a5919460cec5c30"><div class="ttname"><a href="list_8cpp.html#a0a1a9fee4f8c4e807a5919460cec5c30">query_frame_sizes_v4l2</a></div><div class="ttdeci">void query_frame_sizes_v4l2(int fd)</div><div class="ttdef"><b>Definition:</b> <a href="list_8cpp_source.html#l00159">list.cpp:159</a></div></div>
<div class="ttc" id="alist_8cpp_html_a0fc27527b6fd00946a14eb29012b6bd4"><div class="ttname"><a href="list_8cpp.html#a0fc27527b6fd00946a14eb29012b6bd4">enum_image_fmt_v4l2</a></div><div class="ttdeci">void enum_image_fmt_v4l2(int fd)</div><div class="ttdef"><b>Definition:</b> <a href="list_8cpp_source.html#l00019">list.cpp:19</a></div></div>
<div class="ttc" id="alist_8cpp_html_a38174908869d6b04b6acc79d4d01db23"><div class="ttname"><a href="list_8cpp.html#a38174908869d6b04b6acc79d4d01db23">print_v4l2_control</a></div><div class="ttdeci">void print_v4l2_control(struct v4l2_queryctrl *qc)</div><div class="ttdef"><b>Definition:</b> <a href="list_8cpp_source.html#l00203">list.cpp:203</a></div></div>
<div class="ttc" id="alist_8cpp_html_a6795b0f37503488654aff05f6459e6f2"><div class="ttname"><a href="list_8cpp.html#a6795b0f37503488654aff05f6459e6f2">list_cap_v4l2</a></div><div class="ttdeci">void list_cap_v4l2(int fd)</div><div class="ttdef"><b>Definition:</b> <a href="list_8cpp_source.html#l00278">list.cpp:278</a></div></div>
<div class="ttc" id="alist_8cpp_html_ab7b03a3048121e5a8640ff5623a5e72b"><div class="ttname"><a href="list_8cpp.html#ab7b03a3048121e5a8640ff5623a5e72b">query_current_image_fmt_v4l2</a></div><div class="ttdeci">void query_current_image_fmt_v4l2(int fd)</div><div class="ttdef"><b>Definition:</b> <a href="list_8cpp_source.html#l00044">list.cpp:44</a></div></div>
<div class="ttc" id="alist_8cpp_html_ad2dc68fcf591e60a019b10a5457fbea9"><div class="ttname"><a href="list_8cpp.html#ad2dc68fcf591e60a019b10a5457fbea9">query_capture_intf_v4l2</a></div><div class="ttdeci">void query_capture_intf_v4l2(int fd)</div><div class="ttdef"><b>Definition:</b> <a href="list_8cpp_source.html#l00080">list.cpp:80</a></div></div>
<div class="ttc" id="alist_8h_html"><div class="ttname"><a href="list_8h.html">list.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li><span id="projectname_footer">YARP</span></li>
    <li><span id="projectnumber" class="version_switch">3.5.1</span></li>
    <li class="navelem"><a class="el" href="dir_d946d32291de7db32f6a943fb45d46f4.html">src</a></li><li class="navelem"><a class="el" href="dir_abd80c029d214e783ff905e909ed9db6.html">devices</a></li><li class="navelem"><a class="el" href="dir_6e74fbd2f2f2c7670fff8fc7066466c6.html">usbCamera</a></li><li class="navelem"><a class="el" href="dir_f2daf63d1f6e5fcf080504ae184218c2.html">linux</a></li><li class="navelem"><a class="el" href="list_8cpp.html">list.cpp</a></li>
    <li class="footer">Generated on Sat Dec 25 2021 02:23:02 for YARP by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
