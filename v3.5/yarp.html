<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>YARP: yarp: the main YARP command-line interface</title>
<link rel="shortcut icon" href="yarp-favicon.ico" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
    var DOCUMENTATION_OPTIONS = { VERSION: '3.5.1' };
</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="yarp-doxygen-style.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../version_switch.js"></script>
<link rel="stylesheet" type="text/css" href="cookieconsent.min.css" />
<script src="cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#eb6c44",
      "text": "#ffffff"
    },
    "button": {
      "background": "#237afc",
    }
  },
  "theme": "classic",
  "content": {
    "message": "INFORMATION NOTICE ON COOKIES : This website uses only browsing/session cookies. Users can choose whether or not to accept the use of cookies and access the website. By clicking on \"Further information\", the full information notice on the types of cookies will be displayed and you will be able  to choose whether or not to accept them whilst browsing on the website.",
    "dismiss": "ACCEPT and close",
    "link": "Further information",
    "href": "http://www.icub.org/other/personal_data_notice.html"
  }
})});
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="yarp-robot-64.png"/></td>
  <td id="projectalign" style="padding-left: 1.5em;">
   <div id="projectname">YARP</div>
   <div id="projectbrief">Yet Another Robot Platform</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('yarp.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">yarp: the main YARP command-line interface </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#yarp_base">yarp</a></li>
<li class="level1"><a href="#yarp_check">yarp check</a></li>
<li class="level1"><a href="#yarp_clean">yarp clean</a></li>
<li class="level1"><a href="#yarp_cmake">yarp cmake</a></li>
<li class="level1"><a href="#yarp_conf">yarp conf</a></li>
<li class="level1"><a href="#yarp_connect">yarp connect</a></li>
<li class="level1"><a href="#yarp_detect">yarp detect</a></li>
<li class="level1"><a href="#yarp_disconnect">yarp disconnect</a></li>
<li class="level1"><a href="#yarp_exists">yarp exists</a></li>
<li class="level1"><a href="#yarp_help">yarp help</a></li>
<li class="level1"><a href="#yarp_merge">yarp merge</a></li>
<li class="level1"><a href="#yarp_name">yarp name</a></li>
<li class="level1"><a href="#name_help">yarp name help</a></li>
<li class="level1"><a href="#name_query">yarp name query</a></li>
<li class="level1"><a href="#name_register">yarp name register</a></li>
<li class="level1"><a href="#name_unregister">yarp name unregister</a></li>
<li class="level1"><a href="#name_list">yarp name list</a></li>
<li class="level1"><a href="#name_set">yarp name set</a></li>
<li class="level1"><a href="#name_get">yarp name get</a></li>
<li class="level1"><a href="#name_check">yarp name check</a></li>
<li class="level1"><a href="#name_route">yarp name route</a></li>
<li class="level1"><a href="#name_gc">yarp name gc</a></li>
<li class="level1"><a href="#yarp_namespace">yarp namespace</a></li>
<li class="level1"><a href="#yarp_ping">yarp ping</a></li>
<li class="level1"><a href="#yarp_read">yarp read</a></li>
<li class="level1"><a href="#yarp_regression">yarp regression</a></li>
<li class="level1"><a href="#yarp_resource">yarp resource</a></li>
<li class="level1"><a href="#yarp_rpc">yarp rpc</a></li>
<li class="level1"><a href="#yarp_rpcserver">yarp rpcserver</a></li>
<li class="level1"><a href="#yarp_run">yarp run</a></li>
<li class="level1"><a href="#yarp_sample">yarp sample</a></li>
<li class="level1"><a href="#yarp_server">yarp server</a></li>
<li class="level1"><a href="#yarp_terminate">yarp terminate</a></li>
<li class="level1"><a href="#yarp_topic">yarp topic</a></li>
<li class="level1"><a href="#yarp_version">yarp version</a></li>
<li class="level1"><a href="#yarp_wait">yarp wait</a></li>
<li class="level1"><a href="#yarp_where">yarp where</a></li>
<li class="level1"><a href="#yarp_write">yarp write</a></li>
<li class="level1"><a href="#companion_extended">An extended example</a></li>
</ul>
</div>
<div class="textblock"><p>The command-line utility "yarp" performs a set of useful operations for a YARP network.</p>
<p>It can give status information, make and break connections between ports, and send/receive data to/from ports. For an example of usage, see this section: <a class="el" href="yarp.html#companion_extended">An extended example</a>.</p>
<p>Here are the ways you can call yarp:</p><ul>
<li><a class="el" href="yarp.html#yarp_base">yarp</a></li>
<li><a class="el" href="yarp.html#yarp_help">yarp help</a></li>
<li><a class="el" href="yarp.html#yarp_check">yarp check</a></li>
<li><a class="el" href="yarp.html#yarp_clean">yarp clean</a></li>
<li><a class="el" href="yarp.html#yarp_cmake">yarp cmake</a></li>
<li><a class="el" href="yarp.html#yarp_conf">yarp conf</a></li>
<li><a class="el" href="yarp.html#yarp_connect">yarp connect</a></li>
<li><a class="el" href="yarp.html#yarp_detect">yarp detect</a></li>
<li><a class="el" href="yarp.html#yarp_disconnect">yarp disconnect</a></li>
<li><a class="el" href="yarp.html#yarp_exists">yarp exists</a></li>
<li><a class="el" href="yarp.html#yarp_help">yarp help</a></li>
<li><a class="el" href="yarp.html#yarp_merge">yarp merge</a></li>
<li><a class="el" href="yarp.html#yarp_name">yarp name</a></li>
<li><a class="el" href="yarp.html#name_check">yarp name check</a></li>
<li><a class="el" href="yarp.html#name_get">yarp name get</a></li>
<li><a class="el" href="yarp.html#name_list">yarp name list</a></li>
<li><a class="el" href="yarp.html#name_register">yarp name register</a></li>
<li><a class="el" href="yarp.html#name_set">yarp name set</a></li>
<li><a class="el" href="yarp.html#name_unregister">yarp name unregister</a></li>
<li><a class="el" href="yarp.html#yarp_namespace">yarp namespace</a></li>
<li><a class="el" href="yarp.html#yarp_ping">yarp ping</a></li>
<li><a class="el" href="yarp.html#yarp_read">yarp read</a></li>
<li><a class="el" href="yarp.html#yarp_regression">yarp regression</a></li>
<li><a class="el" href="yarp.html#yarp_resource">yarp resource</a></li>
<li><a class="el" href="yarp.html#yarp_rpc">yarp rpc</a></li>
<li><a class="el" href="yarp.html#yarp_rpcserver">yarp rpcserver</a></li>
<li><a class="el" href="yarp.html#yarp_run">yarp run</a></li>
<li><a class="el" href="yarp.html#yarp_sample">yarp sample</a></li>
<li><a class="el" href="yarp.html#yarp_server">yarp server</a></li>
<li><a class="el" href="yarp.html#yarp_terminate">yarp terminate</a></li>
<li><a class="el" href="yarp.html#yarp_topic">yarp topic</a></li>
<li><a class="el" href="yarp.html#yarp_version">yarp version</a></li>
<li><a class="el" href="yarp.html#yarp_wait">yarp wait</a></li>
<li><a class="el" href="yarp.html#yarp_where">yarp where</a></li>
<li><a class="el" href="yarp.html#yarp_write">yarp write</a></li>
</ul>
<h1><a class="anchor" id="yarp_base"></a>
yarp</h1>
<p>The utility gives a friendly message if called with no arguments to confirm that it exists, and to give tips on where to get started using it. Our current implementation says:</p>
<pre class="fragment">This is the YARP network companion.
Call with the argument "help" to see a list of ways to use this program.
</pre><h1><a class="anchor" id="yarp_check"></a>
yarp check</h1>
<p>Does some sanity tests of your setup. If you run "yarp server" in one terminal, and then run this command ("yarp check") in another, you should see something like:</p>
<pre class="fragment">yarp: ==================================================================
yarp: === Trying to register some ports
yarp: ==================================================================
yarp: === Trying to connect some ports
yarp: Receiving input from /tmp/port/2 to /tmp/port/1 using tcp
yarp: Sending output from /tmp/port/2 to /tmp/port/1 using tcp
yarp: ==================================================================
yarp: === Trying to write some data
yarp: ==================================================================
yarp: === Trying to read some data
yarp: *** Read number 42
yarp: ==================================================================
yarp: === Trying to close some ports
yarp: Removing input from /tmp/port/2 to /tmp/port/1
yarp: Removing output from /tmp/port/2 to /tmp/port/1
yarp: *** YARP seems okay!
</pre><h1><a class="anchor" id="yarp_clean"></a>
yarp clean</h1>
<pre class="fragment">yarp clean
yarp clean --timeout 10
</pre><p>This command gets a list of all registered ports from the name server, and checks them one by one to see if they are responding (using <a class="el" href="yarp.html#yarp_exists">yarp exists</a>). If they do not respond within a few seconds they are unregistered (using <a class="el" href="yarp.html#name_unregister">yarp name unregister</a>).</p>
<p>If you run into troubles with this command seeming to hang on a port name (in fact it is a very loooooong timeout), you may want to <a class="el" href="yarp.html#name_unregister">unregister</a> that port name yourself. Alternatively, you may specify a timeout in seconds after which YARP should give up on reaching a port.</p>
<h1><a class="anchor" id="yarp_cmake"></a>
yarp cmake</h1>
<pre class="fragment">yarp cmake
</pre><p>Generates a "CMakeLists.txt" that is suitable for compiling code with YARP. It is intended to help new users get started on new projects quickly.</p>
<h1><a class="anchor" id="yarp_conf"></a>
yarp conf</h1>
<pre class="fragment">  yarp conf
  yarp conf --clean
  yarp conf IP SOCKETPORT
</pre><p>This will report the location of the file in which the name server location is configured. For the author's machine, the result is: </p><pre class="fragment">/home/paulfitz/.config/yarp/conf/yarp.conf
</pre><p> The first line of that file looks like this: </p><pre class="fragment"> 15.255.112.22 10000
</pre><p> This is simply the IP address and the port number of the yarp name server. The file can be modified by hand, but will be overwritten if the name server does not respond and is discovered running somewhere else. You are also free to delete the file, which will force autodetection of the server.</p>
<p>The name of this file will be different if <a class="el" href="name_server.html#name_server_namespaces">namespaces</a> are in use. The file will be in the same directory, but its name will be the name of the namespace, with all non-alphanumeric characters replaced by "_", and ".conf" appended.</p>
<p>With the "--clean" option, the configuration file will be set to a blank, empty state.</p>
<p>If an ip address and socket port number for the name server are supplied, the configuration file will be rewritten to contain that information.</p>
<h1><a class="anchor" id="yarp_connect"></a>
yarp connect</h1>
<pre class="fragment">yarp connect OUTPUT_PORT INPUT_PORT
yarp connect OUTPUT_PORT INPUT_PORT CARRIER
yarp connect --persist OUTPUT_PORT INPUT_PORT
yarp connect --persist OUTPUT_PORT INPUT_PORT CARRIER
yarp connect --persist TOPIC INPUT_PORT
yarp connect --persist OUTPUT_PORT TOPIC
yarp connect --persist PORT
yarp connect --persist
</pre><p>This will request the specified output port to send its output in future to the specified input port. Optionally, the carrier to be used can be added as an extra argument (e.g. tcp, udp, mcast, ...). Ordinarily, ports must already exist in order to be connected, and connections last until one of the ports is removed (or the connection is removed with <a class="el" href="yarp.html#yarp_disconnect">yarp disconnect</a>). If "--persist" is specified, the ports do not need to already exist, they will be connected whenever they are both present. A list of all persistent connections involving a port can be retrieved by providing the name of that port alone. A list of all persistent connections can be retrieved by omitting port names completely. Persistent connections can be made to bundles of ports called "topics", see <a class="el" href="yarp.html#yarp_topic">yarp topic</a>.</p>
<h1><a class="anchor" id="yarp_detect"></a>
yarp detect</h1>
<pre class="fragment">  yarp detect
  yarp detect --write
</pre><p>This will search for the YARP name server using multicast.</p>
<p>With the "--write" option, a configuration file will be written with the address for the name server, if found. This will let regular YARP programs find the name server.</p>
<h1><a class="anchor" id="yarp_disconnect"></a>
yarp disconnect</h1>
<pre class="fragment">yarp disconnect OUTPUT_PORT INPUT_PORT
</pre><p>This will request the specified output port to cease sending its output to the specified input port.</p>
<h1><a class="anchor" id="yarp_exists"></a>
yarp exists</h1>
<pre class="fragment">yarp exists /PORT
</pre><p>Check if a port is alive. This can be useful as a quick test of whether the process that owns the port is running. It is designed for use in scripts &ndash; nothing is printed, the result is encoded in the return value of the program (0 = port exists).</p>
<p>A variant of this command checks if a connection between two ports exists:</p>
<pre class="fragment">yarp exists /SOURCE_PORT /TARGET_PORT
</pre><h1><a class="anchor" id="yarp_help"></a>
yarp help</h1>
<p>This lists a human-readable summary of the ways the utility can be used. It is a short version of what you are reading right now.</p>
<h1><a class="anchor" id="yarp_merge"></a>
yarp merge</h1>
<pre class="fragment">  yarp merge /PORT1 /PORT2
  yarp merge --input /PORT1 /PORT2 --output /PORT3 --worker /PORT/PREFIX --carrier udp
</pre><p>This command merges input from several ports into a single message, sending that on from an output port.</p>
<p>The user has to specifies a list of streaming ports (i0, i1, ..., iN) that he wants to merge in a single output port (o0). The module creates a corresponding number of input ports and automatically makes the connections. The values read from the input ports are merged and synchronized into the output port according to the following rules:</p><ul>
<li>the data are appended in the output vector using the same order in which the input ports are specified by the user, i.e. o0 = [i0 | i1 | ... | iN].</li>
<li>the timestamp of the output port o0 is assigned by the module.</li>
<li>if in a time instant no data is received from ALL the input ports (i0, i1, ..., iN), no data is sent on the output port (o0).</li>
<li>if in a time instant no data is received from SOME ports (e.g. iJ), the output vector will be o0 = [i0 | i1 | ... |iJ-1| ... |in], i.e. the previous sample will be used.</li>
</ul>
<p>The output of the module can be logged in order to obtain a quick log of multiple data streams on a single file.</p>
<p>For example:</p>
<div class="fragment"><div class="line"><a class="code" href="namespaceyarp.html">yarp</a> merge /icub/left_arm/state:o /icub/left_arm/analog:o</div>
<div class="ttc" id="anamespaceyarp_html"><div class="ttname"><a href="namespaceyarp.html">yarp</a></div><div class="ttdoc">The main, catch-all namespace for YARP.</div><div class="ttdef"><b>Definition:</b> <a href="dirs_8h_source.html#l00016">dirs.h:16</a></div></div>
</div><!-- fragment --><p>the output of the module can be logged on a file:</p>
<div class="fragment"><div class="line"><a class="code" href="namespaceyarp.html">yarp</a> <a class="code" href="namespaceyarp_1_1sig_1_1file.html#a07569dcd80588910b9f97d167185e870">read</a> ... /portsMerge/o0 envelope &amp;&gt; logfile.txt</div>
<div class="ttc" id="anamespaceyarp_1_1sig_1_1file_html_a07569dcd80588910b9f97d167185e870"><div class="ttname"><a href="namespaceyarp_1_1sig_1_1file.html#a07569dcd80588910b9f97d167185e870">yarp::sig::file::read</a></div><div class="ttdeci">bool read(ImageOf&lt; PixelRgb &gt; &amp;dest, const std::string &amp;src, image_fileformat format=FORMAT_ANY)</div><div class="ttdef"><b>Definition:</b> <a href="ImageFile_8cpp_source.html#l00922">ImageFile.cpp:922</a></div></div>
</div><!-- fragment --><h1><a class="anchor" id="yarp_name"></a>
yarp name</h1>
<pre class="fragment">yarp name COMMAND ARG_1 ARG_2 ...
</pre><p>This will send the given command and arguments to the YARP name server and report the results. Here are the possible commands:</p><ul>
<li><a class="el" href="yarp.html#name_help">yarp name help</a></li>
<li><a class="el" href="yarp.html#name_query">yarp name query</a></li>
<li><a class="el" href="yarp.html#name_register">yarp name register</a></li>
<li><a class="el" href="yarp.html#name_unregister">yarp name unregister</a></li>
<li><a class="el" href="yarp.html#name_list">yarp name list</a></li>
<li><a class="el" href="yarp.html#name_set">yarp name set</a></li>
<li><a class="el" href="yarp.html#name_get">yarp name get</a></li>
<li><a class="el" href="yarp.html#name_check">yarp name check</a></li>
<li><a class="el" href="yarp.html#name_route">yarp name route</a></li>
<li><a class="el" href="yarp.html#name_gc">yarp name gc</a></li>
</ul>
<p>For example: </p><pre class="fragment"># user types...
yarp name list
   # system responds...
   registration name root ip 172.16.232.1 port 10000 type text
   registration name fallback ip 224.2.1.1 port 10001 type mcast
   registration name /read ip 172.16.232.1 port 10002 type tcp
   registration name /write ip 172.16.232.1 port 10012 type tcp
   *** end of message
</pre><p>This is equivalent to:</p>
<pre class="fragment"># user types...
yarp where
   # system responds...
   Name server is available at ip 172.16.232.1 port 10000
   Name server can be browsed at http://172.16.232.1:10000/
# user types...
telnet 172.16.232.1 10000
   # system responds...
   Trying 172.16.232.1...
   Connected to 172.16.232.1.
   Escape character is '^]'.
# user types...
NAME_SERVER list
   # system responds...
   registration name /read ip 172.16.232.1 port 10002 type tcp
   registration name root ip 172.16.232.1 port 10000 type text
   registration name fallback ip 224.2.1.1 port 10001 type mcast
   registration name /write ip 172.16.232.1 port 10012 type tcp
   *** end of message
# user types...
^]
   # system responds...
   telnet&gt; quit
   Connection closed.
</pre><h1><a class="anchor" id="name_help"></a>
yarp name help</h1>
<p>This will list the commands available from the name server. For example, our current implementation gives:</p>
<pre class="fragment">Here are some ways to use the name server:
  NAME_SERVER register ...
  NAME_SERVER unregister ...
  NAME_SERVER query ...
  NAME_SERVER help ...
  NAME_SERVER set ...
  NAME_SERVER get ...
  NAME_SERVER check ...
  NAME_SERVER match ...
  NAME_SERVER list ...
  NAME_SERVER route ...
*** end of message
</pre><h1><a class="anchor" id="name_query"></a>
yarp name query</h1>
<pre class="fragment">yarp name query PORT
</pre><p>Requests registration information for the named port. Response is of the following form: </p><pre class="fragment">registration name PORT ip ADDRESS port NUMBER type CARRIER
*** end of message
</pre><p> For example: </p><pre class="fragment">registration name /write ip 5.255.112.227 port 10001 type tcp
*** end of message
</pre><p> If there is no registration for the port, the registration line is omitted, and instead the response is simply: </p><pre class="fragment">*** end of message
</pre><h1><a class="anchor" id="name_register"></a>
yarp name register</h1>
<pre class="fragment">yarp name register PORT
yarp name register PORT CARRIER
yarp name register PORT CARRIER IP
yarp name register PORT CARRIER IP NUMBER
</pre><p>Requests creation of registration information for the named port. Response is of the following form: </p><pre class="fragment">registration name PORT ip ADDRESS port NUMBER type CARRIER
*** end of message
</pre><p> For example: </p><pre class="fragment">registration name /write ip 5.255.112.227 port 10001 type tcp
*** end of message
</pre><p>Optionally, the user can take responsibility for more fields, such as the carrier, ip, and socket port number. Any value (including the port name) can be replaced by `&lsquo;...&rsquo;' to leave it up to the name-server to choose it. For example: </p><pre class="fragment">yarp name register ... tcp 127.0.0.1 8080
</pre><p> Gives something of the form: </p><pre class="fragment">registration name /tmp/port/1 ip 127.0.0.1 port 8080 type tcp
*** end of message
</pre><p> If you choose to set the ip yourself, be careful &ndash; there is the possibility of problems with multiple ways to identify the same machine. It is best to let the name server choose a name, which it should do in a consistent way. If a machine has multiple ip addresses on multiple networks, that can be handled &ndash; see the discussion of the ips property in the section on "yarp name set". That is important for the purposes of controlling which network is used for connections from one port to another.</p>
<h1><a class="anchor" id="name_unregister"></a>
yarp name unregister</h1>
<pre class="fragment">yarp name unregister PORT
</pre><p>Removes registration information for the named port. Response is of the following form: </p><pre class="fragment">*** end of message
</pre><h1><a class="anchor" id="name_list"></a>
yarp name list</h1>
<p>Gives registration information of all known ports. Response is of the following form: </p><pre class="fragment">registration name /write ip 130.251.4.159 port 10021 type tcp
registration name /read ip 130.251.4.159 port 10031 type tcp
registration name /tmp/port/4 ip 130.251.4.159 port 10011 type tcp
registration name /tmp/port/3 ip 130.251.4.52 port 10021 type tcp
registration name /tmp/port/2 ip 130.251.4.52 port 10011 type tcp
registration name /tmp/port/1 ip 130.251.4.159 port 10001 type tcp
*** end of message
</pre><h1><a class="anchor" id="name_set"></a>
yarp name set</h1>
<pre class="fragment">yarp name set PORT PROPERTY VALUE1 VALUE2 ...
</pre><p>The name server can store extra properties of a port, beyond the bare details associated with registration. The set command is used to do this. For example, the command: </p><pre class="fragment">yarp name set /write offers tcp udp mcast
</pre><p> Gets the following response: </p><pre class="fragment">port /write property offers = tcp udp mcast
</pre><p> The get and check commands can then be used to query such properties.</p>
<p>There are some special properties used by YARP. Property <code>ips'' can list multiple identifiers of a machine. Property</code>offers'' lists carriers that an output port can support. Property `&lsquo;accepts&rsquo;' lists carriers that an input port can support.</p>
<h1><a class="anchor" id="name_get"></a>
yarp name get</h1>
<pre class="fragment">yarp name get PORT PROPERTY
</pre><p>Gets the values of a stored property. For example, after the set command example shown earlier, the command: </p><pre class="fragment">yarp name get /write offers
</pre><p> Returns the following response: </p><pre class="fragment">port /write property offers = tcp udp mcast
</pre><h1><a class="anchor" id="name_check"></a>
yarp name check</h1>
<pre class="fragment">yarp name check PORT PROPERTY VALUE
</pre><p>Checks if a stored property can take the given value. For example, after the set command example shown earlier, the command: </p><pre class="fragment">yarp name check /write offers tcp
</pre><p> Returns the following response: </p><pre class="fragment">port /write property offers value tcp present true
</pre><h1><a class="anchor" id="name_route"></a>
yarp name route</h1>
<pre class="fragment">yarp name route PORT1 PORT2
</pre><p>Finds a good way to connect an output port to an input port, based on the carriers they have in common (preferred carriers can optionally be added to this command in decreasing order of preference) and which carriers are physically possible (for example, &lsquo;shmem&rsquo; requires ports to be on the same machine, and &lsquo;local&rsquo; requires ports to belong to threads with a shared memory space). For example, the command: </p><pre class="fragment">yarp name route /write /read
</pre><p> Returns the following response: </p><pre class="fragment">port /write route /read = shmem://read
</pre><p> This suggests that shmem is the best carrier to use.</p>
<h1><a class="anchor" id="name_gc"></a>
yarp name gc</h1>
<p>THIS COMMAND IS DEPRECATED, use <a class="el" href="yarp.html#yarp_clean">yarp clean</a> instead.</p>
<pre class="fragment">yarp name gc
</pre><p>This requests that the server "garbage collect" any registered ports that are no longer responding. This is useful for cleaning up registrations corresponding to programs that have crashed or been terminated abruptly. THIS COMMAND IS DEPRECATED, use <a class="el" href="yarp.html#yarp_clean">yarp clean</a> instead.</p>
<h1><a class="anchor" id="yarp_namespace"></a>
yarp namespace</h1>
<pre class="fragment">yarp namespace
yarp namespace /namespace
</pre><p>The yarp name server started by <a class="el" href="yarp.html#yarp_server">yarp server</a> has a port name associated with it. By default, this is "/root". This can be changed, and it is useful to do so when a single network is shared by people working on non-overlapping projects involving YARP.</p>
<p>Type "yarp namespace" to report the current namespace.</p>
<p>Type "yarp namespace /my/space" to set the namespace to "/my/space".</p>
<p>See <a class="el" href="name_server.html#name_server_namespaces">About YARP Namespaces</a> for (important) details on how to use namespaces.</p>
<h1><a class="anchor" id="yarp_ping"></a>
yarp ping</h1>
<pre class="fragment">yarp ping /PORT
yarp ping --time /PORT
yarp pint --rate /PORT
</pre><p>Get information about the specified port (optionally: timing and rate). Result will be something like:</p>
<pre class="fragment">This is "/port" at "tcp://192.168.0.5:10012"
There is an output connection from "/write" to "/read" using tcp
There is an input connection from "&lt;ping&gt;" to "/write" using text_ack
</pre><p>The option &ndash;time reports timing measure about communication with the port.</p>
<p>The option &ndash;rate reports the rate at which information arrives from the port.</p>
<h1><a class="anchor" id="yarp_read"></a>
yarp read</h1>
<pre class="fragment">yarp read INPUT_PORT [envelope]
yarp read INPUT_PORT [envelope] OUTPUT_PORT
</pre><p>This will create an input port of the specified name. It will then loop, reading `&lsquo;yarp bottles&rsquo;' (a simple serialized list) and printing their content to standard output. This simple utility is intended for use in testing, and getting familiar with using YARP.</p>
<p>For example, if you run "yarp server" in one terminal, "yarp read
/read" in another, and "yarp write /write verbatim /read" in another, then everything you type on the "write" terminal will be echoed on the "read" terminal.</p>
<p>Specifying an OUTPUT_PORT tries to connect that port to the current one.</p>
<p>Adding the "envelope" tag will request display of any envelope information included in the message, such as timestamps. Such information may or may not be present, and is ignored if you do not specify this tag.</p>
<h1><a class="anchor" id="yarp_regression"></a>
yarp regression</h1>
<pre class="fragment">  yarp regression
  yarp regression &lt;ClassName&gt;Test
</pre><p>Runs all tests or a specified test, if the YARP regression tests are linked. Normally, there are separate programs called "harness_os", "harness_sig", etc that have groups of YARP tests linked. So running:</p>
<pre class="fragment">  harness_os regression
</pre><p>will run all tests related to YARP_os. The main YARP executable "yarp" does not usually have any tests linked.</p>
<h1><a class="anchor" id="yarp_resource"></a>
yarp resource</h1>
<pre class="fragment">  yarp resource --context CONTEXT --from CONFIG.ini
</pre><p>An experimental tool for finding configuration files and other resource files. For details, see the <a class="el" href="classyarp_1_1os_1_1ResourceFinder.html" title="Helper class for finding config files and other external resources.">yarp::os::ResourceFinder</a> class.</p>
<h1><a class="anchor" id="yarp_rpc"></a>
yarp rpc</h1>
<pre class="fragment">yarp rpc /TARGET_PORT
yarp rpc /TARGET_PORT /LOCAL_NAME
</pre><p>This will send a message to the target port and expect a response. Useful only if you have a port that actually will respond. Ports associated with devices may behave like this. You may optionally specify the name for the connection. "RPC" stands for Remote Procedure Call.</p>
<p>An example of a port that will respond to RPC is the yarp server. For example, if you run: </p><pre class="fragment">yarp rpc /root
</pre><p> and type: </p><pre class="fragment">list
</pre><p> you'll receive a response like: </p><pre class="fragment">Response: registration name /root ip 192.168.0.204 port 10000 type tcp
Response: registration name fallback ip 224.2.1.1 port 10001 type mcast
Response: *** end of message
</pre><p> See <a class="el" href="yarp.html#yarp_name">yarp name</a> for other commands the name server responds to.</p>
<h1><a class="anchor" id="yarp_rpcserver"></a>
yarp rpcserver</h1>
<pre class="fragment">yarp rpcserver /PORT_NAME
</pre><p>This creates a test RPC server. It will accept incoming commands, and then pause for you to type the response (in standard Bottle text format).</p>
<h1><a class="anchor" id="yarp_run"></a>
yarp run</h1>
<p>yarprun provides a client-server environment that is able to run, kill and monitor applications on a remote machine, with the same syntax and behaviour in Windows and Linux.</p>
<p>See <a class="el" href="yarprun.html">yarprun: run programs on a set of machines</a> for documentation.</p>
<h1><a class="anchor" id="yarp_sample"></a>
yarp sample</h1>
<pre class="fragment">  yarp sample --output /OUTPUT/PORT --period 0.1
  yarp sample --output /OUTPUT/PORT --rate 100
  yarp sample --input /INPUT/PORT --output /OUTPUT/PORT --period 0.1 --carrier udp
  yarp sample --output /OUTPUT/PORT --rate 100 --show
</pre><p>This command repeats data on the output port at the specified rate (in Hz) or period (in seconds). If the <code>show</code> flag is given, the data is also printed on standard output. The input can either be connected externally or specified with <code>&ndash;input</code> (and optionally <code>&ndash;carrier</code> to specify the type of connection to use).</p>
<h1><a class="anchor" id="yarp_server"></a>
yarp server</h1>
<p>This starts a name server running on the current machine. See <a class="el" href="yarpserver.html">yarpserver</a> documentation for the options accepted by this command.</p>
<h1><a class="anchor" id="yarp_terminate"></a>
yarp terminate</h1>
<pre class="fragment">yarp terminate /PORTNAME
</pre><p>This will request the specified output to interrupt the process it belongs to. In general, this requires active cooperation from that process, so it may or may not function. Currently will work for the ".../quit" ports created by the yarpdev process.</p>
<h1><a class="anchor" id="yarp_topic"></a>
yarp topic</h1>
<pre class="fragment">yarp topic /TOPIC_NAME
yarp topic --remove /TOPIC_NAME
yarp topc --list
</pre><p>Activates a topic name. If a sufficiently recent yarp name server is in use, then that topic name will act as a virtual repeater port. If a persistent connection exists between ports /A, /B and /C and /TOPIC, and from /TOPIC to /X, /Y, and /Z, then ports /X, /Y, and /Z will each receive input from all of /A, /B, and /C. See <a class="el" href="persistent_connections.html">Persistent connections</a>.</p>
<h1><a class="anchor" id="yarp_version"></a>
yarp version</h1>
<p>This will report on the yarp version available. Example:</p>
<pre class="fragment">YARP Companion utility version 2.0 implemented in C++
</pre><h1><a class="anchor" id="yarp_wait"></a>
yarp wait</h1>
<pre class="fragment">yarp wait /PORT
yarp wait /SRC /DEST
</pre><p>Waits for the named port or connection to come into existence. Terminates when "yarp exists /PORT" or "yarp exists /SRC /DEST" would return true. This can be useful in scripts.</p>
<h1><a class="anchor" id="yarp_where"></a>
yarp where</h1>
<p>This will report where the name server is believed to be running; for example:</p>
<pre class="fragment">Name server is available at ip 15.255.112.22 port 10000
Name server can be browsed at http://15.255.112.22:10000/
</pre><p>The name server registers this address with itself under the name "/root". So typing: </p><pre class="fragment">yarp name query /root
</pre><p> will get the same information. See <a class="el" href="yarp.html#name_query">yarp name query</a>.</p>
<p>This command used to search for the name server if needed, but now you need to explicitly request that with the name_detect command.</p>
<h1><a class="anchor" id="yarp_write"></a>
yarp write</h1>
<pre class="fragment">yarp write OUTPUT_PORT [verbatim]
yarp write OUTPUT_PORT [verbatim] INPUT_PORT1 INPUT_PORT2 ...
</pre><p>This will create an output port of the specified name. It will then loop, reading from standard input and writing yarp bottles. Optionally, a list of input ports to connect to automatically can be appended to the command. This simple utility is intended for use in testing, and getting familiar with using YARP.</p>
<p>If the "verbatim" keyword is included after the OUTPUT_PORT name, then input from standard input will be transmitted as a string, rather than as a bottle. This will preserve the exact text with whitespace and quoting. Otherwise the input is interpreted as a list of values that are transmitted in a standard network format that will not preserve whitespace, quoting, and other features.</p>
<p>For example, if you run "yarp server" in one terminal, "yarp read
/read" in another, and "yarp write /write verbatim /read" in another, then everything you type on the "write" terminal will be echoed on the "read" terminal.</p>
<h1><a class="anchor" id="companion_extended"></a>
An extended example</h1>
<p>Start five terminals, called A-E. Do the following: </p><pre class="fragment">[in terminal A] yarp server
[in terminal B] yarp check
</pre><p> Terminal B should run some tests, then say yarp is "ok". Now do the following, leaving terminal A untouched: </p><pre class="fragment">[in terminal B] yarp read /read
[in terminal C] yarp write /write verbatim /read
</pre><p> Now type some stuff into terminal C and hit return. That stuff should be echoed on terminal B. Now try: </p><pre class="fragment">[in terminal D] yarp disconnect /write /read
</pre><p> Now if you type stuff in terminal C, it no longer appears on B. Now try: </p><pre class="fragment">[in terminal D] yarp connect /write /read
</pre><p> Now if you type stuff in terminal C, it appears on B again.</p>
<p>If you have the "yarpdev" and "yarpview" programs, we can go further. Try: </p><pre class="fragment">[in terminal E] yarpdev --device fakeFrameGrabber --period 2 --width 8 --height 8 --name /grabber
</pre><p> This creates a test "device" with a port called "/grabber", outputting a very small test image every 2 seconds. You won't see much happen yet. Try: </p><pre class="fragment">[in terminal D] yarpview --name /view &amp;
[in terminal D] yarp connect /grabber /view
</pre><p> You should now see a slow-moving red line. Try: </p><pre class="fragment">[in terminal D] yarp connect /grabber /read
</pre><p> You should now see a text representation of the image on terminal B appearing every 2 seconds.</p>
<p>See also: <a class="el" href="yarpdev.html">yarpdev: the standard YARP device utility</a> <a class="el" href="yarpview.html">yarpview: visualize YARP images</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li><span id="projectname_footer">YARP</span></li>
    <li><span id="projectnumber" class="version_switch">3.5.1</span></li>
    <li class="footer">Generated on Sat Dec 25 2021 02:23:09 for YARP by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
