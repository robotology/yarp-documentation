<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>YARP: YARP robotinterface XML files</title>
<link rel="shortcut icon" href="yarp-favicon.ico" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
    var DOCUMENTATION_OPTIONS = { VERSION: '3.11.2' };
</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="yarp-doxygen-style.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../version_switch.js"></script>
<script src="https://cookiehub.net/c2/44d56061.js"></script>
<script type="text/javascript">
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('consent', 'default', {'ad_storage': 'denied', 'analytics_storage': 'denied', 'wait_for_update': 500});
document.addEventListener("DOMContentLoaded", function(event) {
var cpm = {};
window.cookiehub.load(cpm);
});
</script>
<!--
<link rel="stylesheet" type="text/css" href="cookieconsent.min.css" />
<script src="cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#eb6c44",
      "text": "#ffffff"
    },
    "button": {
      "background": "#237afc",
    }
  },
  "theme": "classic",
  "content": {
    "message": "INFORMATION NOTICE ON COOKIES : This website uses only browsing/session cookies. Users can choose whether or not to accept the use of cookies and access the website. By clicking on \"Further information\", the full information notice on the types of cookies will be displayed and you will be able  to choose whether or not to accept them whilst browsing on the website.",
    "dismiss": "ACCEPT and close",
    "link": "Further information",
    "href": "http://www.icub.eu/other/personal_data_notice.html"
  }
})});
</script>
-->
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="yarp-robot-64.png"/></td>
  <td id="projectalign" style="padding-left: 1.5em;">
   <div id="projectname">YARP</div>
   <div id="projectbrief">Yet Another Robot Platform</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__yarp__robotinterface__xml__config__files.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">YARP robotinterface XML files<div class="ingroups"><a class="el" href="group__robointerface__all.html">yarp::robotinterface YARP RobotInterface library</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>This tutorial covers how to write and read XML files that are used by <a class="el" href="group__yarprobotinterface.html">yarprobotinterface tool</a> and by the <a class="el" href="group__robointerface__all.html">libYARP_robotinterface C++ library</a>.  
</p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for YARP robotinterface XML files:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__yarp__robotinterface__xml__config__files.png" border="0" usemap="#agroup____yarp____robotinterface____xml____config____files" alt=""/></div>
<map name="agroup____yarp____robotinterface____xml____config____files" id="agroup____yarp____robotinterface____xml____config____files">
<area shape="rect" href="group__robointerface__all.html" title="The libYARP_robotinterface library is useful to programatically launch YARP devices from C++ code usi..." alt="" coords="5,5,164,60"/>
<area shape="rect" title="This tutorial covers how to write and read XML files that are used by yarprobotinterface tool and by ..." alt="" coords="212,13,363,53"/>
</map>
</div>
<p>This tutorial covers how to write and read XML files that are used by <a class="el" href="group__yarprobotinterface.html">yarprobotinterface tool</a> and by the <a class="el" href="group__robointerface__all.html">libYARP_robotinterface C++ library</a>. </p>
<h1><a class="anchor" id="yarp_robotinterface_xml_config_files_basics"></a>
A minimal XML file</h1>
<p>Here is a minimal config file, let's call it "config.xml": </p><div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span> ?&gt;</div>
<div class="line">&lt;!DOCTYPE robot PUBLIC <span class="stringliteral">&quot;-//YARP//DTD yarprobotinterface 3.0//EN&quot;</span> <span class="stringliteral">&quot;http://www.yarp.it/DTD/yarprobotinterfaceV3.0.dtd&quot;</span>&gt;</div>
<div class="line"> </div>
<div class="line">&lt;robot name=<span class="stringliteral">&quot;robotinterfaceExample&quot;</span> portprefix=<span class="stringliteral">&quot;/icub&quot;</span> build=<span class="stringliteral">&quot;0&quot;</span> xmlns:xi=<span class="stringliteral">&quot;http://www.w3.org/2001/XInclude&quot;</span>&gt;</div>
<div class="line">    &lt;devices&gt;</div>
<div class="line">        &lt;device name=<span class="stringliteral">&quot;fake_motor_device&quot;</span> type=<span class="stringliteral">&quot;fakeMotionControl&quot;</span>&gt;</div>
<div class="line">            &lt;group name=<span class="stringliteral">&quot;GENERAL&quot;</span>&gt;</div>
<div class="line">                &lt;!-- Number of joints of the fake_motor_device --&gt;</div>
<div class="line">                &lt;param name=<span class="stringliteral">&quot;Joints&quot;</span>&gt;            3         &lt;/param&gt;</div>
<div class="line">            &lt;/group&gt;</div>
<div class="line">        &lt;/device&gt;</div>
<div class="line">        &lt;device name=<span class="stringliteral">&quot;fake_motor_nws_yarp&quot;</span> type=<span class="stringliteral">&quot;controlBoard_nws_yarp&quot;</span>&gt;</div>
<div class="line">            &lt;!-- See https:<span class="comment">//www.yarp.it/latest/classControlBoard__nws__yarp.html for parameter documentation --&gt;</span></div>
<div class="line">            &lt;param name=<span class="stringliteral">&quot;name&quot;</span>&gt; ${portprefix}/body &lt;/param&gt;</div>
<div class="line">            &lt;param name=<span class="stringliteral">&quot;period&quot;</span>&gt; 0.01 &lt;/param&gt;</div>
<div class="line">            &lt;action phase=<span class="stringliteral">&quot;startup&quot;</span> level=<span class="stringliteral">&quot;5&quot;</span> type=<span class="stringliteral">&quot;attach&quot;</span>&gt;</div>
<div class="line">                &lt;!-- This is the same name that we specified with the name attribute of the device element of a previously created device --&gt;</div>
<div class="line">                &lt;param name=<span class="stringliteral">&quot;device&quot;</span>&gt; fake_motor_device &lt;/param&gt;</div>
<div class="line">            &lt;/action&gt;</div>
<div class="line">            &lt;action phase=<span class="stringliteral">&quot;shutdown&quot;</span> level=<span class="stringliteral">&quot;5&quot;</span> type=<span class="stringliteral">&quot;detach&quot;</span> /&gt;</div>
<div class="line">        &lt;/device&gt;</div>
<div class="line">    &lt;/devices&gt;</div>
<div class="line">&lt;/robot&gt;</div>
</div><!-- fragment --><p>This configuration files create two devices: One <code>fake_motor_device</code>, that creates a fake motor control board. One <code>fake_motor_nws_yarp</code>, that creates a Network Wrapper Server (NWS) that exposes <code>fake_motor_device</code> functionality over YARP ports.</p>
<h1><a class="anchor" id="yarp_config_file_reference"></a>
Reference documentation of XML format.</h1>
<h2><a class="anchor" id="robot_element"></a>
robot Element</h2>
<p>The <code>robot</code> element is the root element of the XML file. It contains the following attributes: <code>name</code>: The name of the <code>robotinterface</code> instance. <code>portprefix</code>: The portprefix to be used by the port created by the <code>robotinterface</code> instance. It can be used as <code>${portprefix}</code> when specifying a parameter. It must start with a <code>/</code>. <code>build</code>: Not used.</p>
<h2><a class="anchor" id="devices_element"></a>
devices Element</h2>
<p>The <code>devices</code> element is a child element of <code>robot</code> element.</p>
<p>It is a collector of YARP devices that are spawned by the <code>robotinterface</code> instance.</p>
<h2><a class="anchor" id="device_element"></a>
device Element</h2>
<p>The <code>device</code> element is a child element of <code>devices</code> element.</p>
<p>It is used to specify a YARP device that is spawned by the <code>robotinterface</code>. It contains the following attributes: <code>name</code>: The name of the specific instance of YARP device that is created. <code>type</code>: The name of the type of YARP device to instantiate.</p>
<h2><a class="anchor" id="group_element"></a>
group Element</h2>
<p>The <code>group</code> element is a child element of <code>device</code> or <code>action</code> element.</p>
<p>It is a collector of parameters under a specific group name.</p>
<h2><a class="anchor" id="param_element"></a>
param Element</h2>
<p>The <code>param</code> element is a child element of <code>device</code>, <code>action</code> or <code>group</code> element.</p>
<p>This element it is used to specify a specific configuration parameter. It contain the following attributes: <code>name</code>: The name (i.e. key) of the attribute.</p>
<p>The inner text of the element represents the <b>value</b> of the parameter. If the inner text contains the string ${portprefix}, it will be substituted with the portprefix parameter specified in the <code>portprefix</code> attribute of the <code>robot</code> element.</p>
<h2><a class="anchor" id="action_element"></a>
action Element</h2>
<p>This element still needs to be documented.</p>
<h1><a class="anchor" id="yarp_robotinterface_xml_config_files_advanced"></a>
Inclusion of multiple XML files</h1>
<p>Here is an example of .xml config file which includes other xml files, using the <code>xi:include</code> tag:</p>
<div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span> ?&gt;</div>
<div class="line">&lt;!DOCTYPE robot PUBLIC <span class="stringliteral">&quot;-//YARP//DTD yarprobotinterface 3.0//EN&quot;</span> <span class="stringliteral">&quot;http://www.yarp.it/DTD/yarprobotinterfaceV3.0.dtd&quot;</span>&gt;</div>
<div class="line"> </div>
<div class="line">&lt;robot name=<span class="stringliteral">&quot;exampleV2&quot;</span> build=<span class="stringliteral">&quot;1&quot;</span> portprefix=<span class="stringliteral">&quot;cer&quot;</span> xmlns:xi=<span class="stringliteral">&quot;http://www.w3.org/2001/XInclude&quot;</span>&gt;</div>
<div class="line">    &lt;devices&gt;</div>
<div class="line">    &lt;xi:include href=<span class="stringliteral">&quot;wrappers/odometry/odometry_nws_yarp.xml&quot;</span> disabled_by=<span class="stringliteral">&quot;disable_odometry&quot;</span> /&gt; </div>
<div class="line">    &lt;xi:include href=<span class="stringliteral">&quot;wrappers/odometry/odometry_nws_ros.xml&quot;</span> enabled_by=<span class="stringliteral">&quot;enable_ros&quot;</span> disabled_by=<span class="stringliteral">&quot;disable_odometry&quot;</span> /&gt; </div>
<div class="line">    &lt;xi:include href=<span class="stringliteral">&quot;wrappers/odometry/odometry_nws_ros2.xml&quot;</span> enabled_by=<span class="stringliteral">&quot;enable_ros2&quot;</span> disabled_by=<span class="stringliteral">&quot;disable_odometry&quot;</span> /&gt; </div>
<div class="line">    &lt;xi:include href=<span class="stringliteral">&quot;hardware/odometry/odometry.xml&quot;</span> disabled_by=<span class="stringliteral">&quot;disable_odometry&quot;</span> /&gt;</div>
<div class="line">    &lt;xi:include href=<span class="stringliteral">&quot;hardware/body/body_nws_yarp.xml&quot;</span> disabled_by=<span class="stringliteral">&quot;disable_body&quot;</span> /&gt;</div>
<div class="line">    &lt;xi:include href=<span class="stringliteral">&quot;wrappers/body/body.xml&quot;</span> disabled_by=<span class="stringliteral">&quot;disable_body&quot;</span> /&gt;</div>
<div class="line">    &lt;/devices&gt;</div>
<div class="line">&lt;/robot&gt;</div>
</div><!-- fragment --><p>Contents of the file "wrappers/odometry/odometry_nws_yarp.xml".</p>
<div class="fragment"><div class="line">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span>?&gt;</div>
<div class="line">&lt;!DOCTYPE devices PUBLIC <span class="stringliteral">&quot;-//YARP//DTD yarprobotinterface 3.0//EN&quot;</span> <span class="stringliteral">&quot;http://www.yarp.it/DTD/yarprobotinterfaceV3.0.dtd&quot;</span>&gt;</div>
<div class="line"> </div>
<div class="line">&lt;device xmlns:xi=<span class="stringliteral">&quot;http://www.w3.org/2001/XInclude&quot;</span> name=<span class="stringliteral">&quot;cer_odometry_nws_yarp&quot;</span> type=<span class="stringliteral">&quot;odometry2D_nws_yarp&quot;</span>&gt;</div>
<div class="line">    &lt;param name=<span class="stringliteral">&quot;odometry_port_name&quot;</span>&gt;  /cer/odometry &lt;/param&gt;</div>
<div class="line">    &lt;param name=<span class="stringliteral">&quot;odometer_port_name&quot;</span>&gt;  /cer/odometer &lt;/param&gt;</div>
<div class="line">    &lt;param name=<span class="stringliteral">&quot;velocity_port_name&quot;</span>&gt;  /cer/velocity &lt;/param&gt;</div>
<div class="line">    </div>
<div class="line">    &lt;action phase=<span class="stringliteral">&quot;startup&quot;</span> level=<span class="stringliteral">&quot;15&quot;</span> type=<span class="stringliteral">&quot;attach&quot;</span>&gt;</div>
<div class="line">            &lt;param name=<span class="stringliteral">&quot;device&quot;</span>&gt;  cer_odometry &lt;/param&gt;</div>
<div class="line">    &lt;/action&gt;</div>
<div class="line">    &lt;action phase=<span class="stringliteral">&quot;shutdown&quot;</span> level=<span class="stringliteral">&quot;5&quot;</span> type=<span class="stringliteral">&quot;detach&quot;</span> /&gt;</div>
<div class="line">&lt;/device&gt;</div>
</div><!-- fragment --><p>It must be noticed that the included file contains just a single <code>device</code> section, that will be incorporated inside the <code>devices</code> block in the parent file. In this way, it is possible to better organize the xml file and eventually add/remove/replace individual devices. Additionally each device included through a xi:include can be enabled/disabled by the the use of <code>enabled_by</code> and <code>disabled_by</code> attributes. By default, if no attribute is added, than the file is automatically included. If a <code>enabled_by</code> attribute is found, then the include line is not enabled by default and it is enabled only if yarprobotinterface has been executed with the option <code>--enable_tags (xxx)</code> (xxx should match the contents of the <code>enabled_by</code> attribute) If a <code>disabled_by</code> attribute is found, then the include line (either enabled by default or by an <code>enable_by</code> attribute ) can be disabled if yarprobotinterface has been executed with the specific option <code>--disable_tags (yyy)</code> (yyy should match the contetes of the <code>disabled_by</code> attribute)</p>
<p>Examples:</p><ul>
<li><code>yarprobotinterface</code> starts yarprobotinterface including the following devices: odometry_nws_yarp.xml odometry.xml body.xml body_nws_yarp.xml</li>
<li><code>yarprobotinterface --disable_tags (disable_odometry)</code> starts yarprobotinterface including the following devices: body.xml body_nws_yarp.xml</li>
<li><code>yarprobotinterface --enable_tags (enable_ros) --disable_tags (disable_body)</code> starts yarprobotinterface including the following devices: odometry_nws_yarp.xml odometry.xml odometry_nws_ros.xml</li>
<li><code>yarprobotinterface --enable_tags (enable_ros enable_ros2) --disable_tags (disable_body)</code> starts yarprobotinterface including the following devices: odometry_nws_yarp.xml odometry.xml odometry_nws_ros.xml odometry_nws_ros2.xml</li>
<li><code>yarprobotinterface --enable_tags (enable_all)</code> starts yarprobotinterface including the following devices: odometry_nws_yarp.xml odometry.xml odometry_nws_ros.xml odometry_nws_ros2.xml body.xml body_nws_yarp.xml</li>
<li><code>yarprobotinterface --enable_tags (enable_all) --disable_tags (disable_body)</code> starts yarprobotinterface including the following devices: odometry_nws_yarp.xml odometry.xml odometry_nws_ros.xml odometry_nws_ros2.xml</li>
</ul>
<p>The latter two examples show the use of the special <code>enable_all</code> tag, which can be used to enable all optional devices (i.e. marked by a <code>enabled_by</code> attribute)</p>
<p>N.B. The <code>disable_tags</code> is always processed after the <code>enable_tags</code> and can be used to remove previously enabled devices. The enabled_by/disabled_by attributes are parsed by the yarprobotinterface pre-processor, hence they can be used only in combination with a xi:include tag. </p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li><span id="projectname_footer">YARP</span></li>
    <li><span id="projectnumber" class="version_switch">3.11.2</span></li>
    <li class="footer">Generated on Sat Mar 1 2025 02:35:37 for YARP by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
