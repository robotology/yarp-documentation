<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>YARP: Gstreamer plugins</title>
<link rel="shortcut icon" href="yarp-favicon.ico" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
    var DOCUMENTATION_OPTIONS = { VERSION: '3.11.2' };
</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="yarp-doxygen-style.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../version_switch.js"></script>
<script src="https://cookiehub.net/c2/44d56061.js"></script>
<script type="text/javascript">
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('consent', 'default', {'ad_storage': 'denied', 'analytics_storage': 'denied', 'wait_for_update': 500});
document.addEventListener("DOMContentLoaded", function(event) {
var cpm = {};
window.cookiehub.load(cpm);
});
</script>
<!--
<link rel="stylesheet" type="text/css" href="cookieconsent.min.css" />
<script src="cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#eb6c44",
      "text": "#ffffff"
    },
    "button": {
      "background": "#237afc",
    }
  },
  "theme": "classic",
  "content": {
    "message": "INFORMATION NOTICE ON COOKIES : This website uses only browsing/session cookies. Users can choose whether or not to accept the use of cookies and access the website. By clicking on \"Further information\", the full information notice on the types of cookies will be displayed and you will be able  to choose whether or not to accept them whilst browsing on the website.",
    "dismiss": "ACCEPT and close",
    "link": "Further information",
    "href": "http://www.icub.eu/other/personal_data_notice.html"
  }
})});
</script>
-->
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="yarp-robot-64.png"/></td>
  <td id="projectalign" style="padding-left: 1.5em;">
   <div id="projectname">YARP</div>
   <div id="projectbrief">Yet Another Robot Platform</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__gstreamerplugins__module.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">Gstreamer plugins</div></div>
</div><!--header-->
<div class="contents">
<h1><a class="anchor" id="gstreamer_intro"></a>
What are gstreamer plugins?</h1>
<p>GStreamer plugins are components that extend the functionality of the GStreamer multimedia framework. GStreamer (<a href="https://gstreamer.freedesktop.orgl">https://gstreamer.freedesktop.orgl</a>) is an open-source pipeline-based multimedia framework that allows the creation of various types of media-handling components, such as audio and video playback, recording, streaming, and editing. GStreamer itself is designed to be highly modular. The core framework provides the basic functionalities and defines the API, while plugins are used to implement the actual media processing capabilities. These plugins include:</p><ul>
<li>Source Plugins: Read data from various sources (e.g., files, cameras, network streams).</li>
<li>Sink Plugins: Write data to various destinations (e.g., display, file, network).</li>
<li>Filter/Effect Plugins: Process data (e.g., decode, encode, apply effects, convert formats).</li>
<li>Parser and Demuxer Plugins: Interpret and split container formats into individual streams.</li>
<li>Muxer Plugins: Combine multiple media streams into a single container format.</li>
</ul>
<p>Plugins can be combined into pipelines, which are sequences of plugins where the output of one plugin is fed into the input of the next. An example of pipeline which converts a test input video in grayscale and then displays it on the screen is shown below: </p><pre class="fragment">gst-launch-1.0 videotestsrc ! videoconvert ! videobalance saturation=0.0 ! autovideosink
</pre><p>Similary to <code>yarprobotinterface</code>, <code>gst-launch-1.0</code> is a stand-alone executable which loads and manages the plugins, which have the form of dynamic libraries. Capabilites of a specific plugin can be displayed by the <code>gst-inspect-1.0</code> command. In order to properly execute, the capabilities of plugins belonging to a pipeline must match, so that the output (source pad) of a plugin can be fed into the input (sink pad) of the next plugin. </p><pre class="fragment">gst-inspect-1.0 videobalance
</pre><h1><a class="anchor" id="yarp_plugins"></a>
Yarp plugins for gstreamer</h1>
<p>Yarp and gstreamer can be interoperate through two Yarp plugins, <code>yarpvideosource</code> which allows to connect a yarp video stream to gstreamer and <code>yarpvideosink</code> which allows to connect a gstreamer video to yarp.</p>
<h1><a class="anchor" id="yarpVideoSource"></a>
yarpvideosource plugin</h1>
<p>This plugin opens a yarp input port which can accept a yarp stream and propagate it to a Gstreamer pipeline. The yarpvideosource plugin must be the final step of a gstreamer pipeline. The plugin accepts the following options:</p><ul>
<li><code>localPortname</code> the name of the yarp port opened by the plugin.</li>
<li><code>remotePortname</code> If specified, the plugin automatically creates a yarp connection from the <code>remotePortname</code> to the <code>localPortname</code>, using the protocol specified by <code>connectionProtocol</code>.</li>
<li><code>connectionProtocol</code> the yarp carrier to be used to perform the automatic connection mentioned above.</li>
<li><code>portType</code> if set to <code>rgb</code>, the plugins selects a <code><a class="el" href="classyarp_1_1sig_1_1ImageOf.html" title="Typed image class.">yarp::sig::ImageOf</a>&lt;yarp::sig::RGB&gt;</code> input. If set to <code>bin</code>, the plugin accepts a custom binary data, specifically designed to communicate only with a yarpvideosink plugin. This is required if you are transmitting/receiving encoded images (see examples below)</li>
</ul>
<p>The yarpvideosource plugin is currently able to handle the following gstreamer streams: x-raw(rgb), h264, h265. Check the plugins caps (with <code>gst-inspect-1.0</code>) for further details.</p>
<h1><a class="anchor" id="yarpVideoSink"></a>
yarpvideosink plugin</h1>
<p>This plugin opens a yarp output port. It receives a stream from the gstreamer pipeline and broadcast it to the yarp network. The yarpvideosink plugin must be the final step of a gstreamer pipeline. The plugin accepts the following options:</p><ul>
<li><code>localPortname</code> the name of the yarp port opened by the plugin.</li>
<li><code>remotePortname</code> If specified, the plugin automatically creates a yarp connection from the <code>localPortname</code> to <code>remotePortname</code>, using the protocol specified by <code>connectionProtocol</code>.</li>
<li><code>connectionProtocol</code> the yarp carrier to be used to perform the automatic connection mentioned above.</li>
<li><code>portType</code> if set to <code>rgb</code>, the plugins selects a <code><a class="el" href="classyarp_1_1sig_1_1ImageOf.html" title="Typed image class.">yarp::sig::ImageOf</a>&lt;yarp::sig::RGB&gt;</code> input. If set to <code>bin</code>, the plugin accepts a custom binary data, specifically designed to communicate only with a yarpvideosink plugin. This is required if you are transmitting/receiving encoded images (see examples below)</li>
</ul>
<p>The yarpvideosource plugin is currently able to handle the following gstreamer streams: x-raw(rgb), h264, h265. Check the plugins caps (with <code>gst-inspect-1.0</code>) for further details.</p>
<h1><a class="anchor" id="yarpVideoPassthrough"></a>
yarpvideopassthrough plugin</h1>
<p>This plugin can be used for debug purposes. It simply receives data and pass it to the next element of the pipeline. It can used as a template to perform modifications to the frame buffer (e.g. filtering) or to print the timestamp and monitor the pipeline latency. The plugin accepts the following options:</p><ul>
<li><code>yarpname</code> the name of the element, if more than a single yarpvideopassthrough plugin is used in the pipeline.</li>
<li><code>yarpverbose</code> an integer &gt; 0 will activate timestamp stats. 0 (default) disable the debug print. <br  />
</li>
</ul>
<h1><a class="anchor" id="yarp_gstreamer_examples"></a>
Some examples:</h1>
<p>Example 1: Feeding a yarp image into gstreamer </p><pre class="fragment">yarpdev --device fakeFrameGrabber --width 640 --height 480 --period 0.33
gst-launch-1.0 yarpvideosource localPortname="/gstreamer:i" ! videoconvert ! videobalance saturation=0.0 ! autovideosink
yarp connect /grabber /gstreamer:i
</pre><p>Example 2: Stream a gstreamer video to yarp </p><pre class="fragment">gst-launch-1.0 videotestsrc ! videoconvert ! yarpvideosink localPortname="/grabber:o"
yarpview --name /view
yarp connect /gstreamer:o /view
</pre><p>Example 3: Load a video file and display it </p><pre class="fragment">gst-launch-1.0 filesrc location=your_video_file.mp4 ! decodebin ! autovideosink
</pre><p>Example 4: Encode a video and send it to a yarp port </p><pre class="fragment">gst-launch-1.0 videotestsrc ! videoconvert ! openh264enc ! yarpvideosink localPortname="/grabber:o" portType="bin"
</pre><p>Example 5: Receive an encoded video and display it </p><pre class="fragment">gst-launch-1.0  yarpvideosource localPortname="/gstreamer:i" portType="bin" ! avdec_h264 ! videoconvert ! autovideosink
</pre><p>Example 6: Receive an yarp video, encode it, transmit it, received it, decode it, send to a yarp port </p><pre class="fragment">gst-launch-1.0  yarpvideosource localPortname="/gstreamer:i" | openh264enc ! yarpvideosink localPortname="/grabber:o" portType="bin"
gst-launch-1.0  yarpvideosource localPortname="/gstreamer:i" portType="bin" ! avdec_h264 ! videoconvert ! yarpvideosink localPortname="/grabber:o"
</pre><p>Example 7: Usage of a passthrough plugin to print the time required to encode/decode a video frame </p><pre class="fragment">gst-launch-1.0 videotestsrc !  yarpvideopassthrough yarpverbose=2 yarpname="before encoding" ! openh264enc ! avdec_h264 ! yarpvideopassthrough yarpverbose=2 yarpname="after decoding" ! autovideosink
</pre><h1><a class="anchor" id="yarp_plugins_gstreamer_install"></a>
How to use yarp plugins for gstreamer</h1>
<p>Gstreamer plugins for yarp can be optionally compiled (default is off) if the yarp gstreamer dependencies are satisfied. On Ubuntu: </p><pre class="fragment">sudo apt-get install \
libgstreamer1.0-dev \
libgstreamer-plugins-base1.0-dev \
gstreamer1.0-plugins-base \
gstreamer1.0-plugins-good \
gstreamer1.0-plugins-bad \
gstreamer1.0-libav \
gstreamer1.0-tools
</pre><p>On windows: You can download the official gstreamer binary packages from: <a href="https://gstreamer.freedesktop.org/data/pkg/windows/">https://gstreamer.freedesktop.org/data/pkg/windows/</a></p>
<p>NB: After compiling the plugins, in order to have gstreamer executables (<code>gst-launch-1.0</code>, <code>gst-inspect-1.0</code>) find the yarp gstreamer plugins, you need to add the path where the plugins have been built to the environment variable <code>GST_PLUGIN_PATH</code>, i.e. On Linux: </p><pre class="fragment">export GST_PLUGIN_PATH=$GST_PLUGIN_PATH:/usr/local/src/yarp/build/bin
</pre><p> On windows: </p><pre class="fragment">set GST_PLUGIN_PATH=%GST_PLUGIN_PATH%;C:\yarp\build\bin\Release
</pre> </div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li><span id="projectname_footer">YARP</span></li>
    <li><span id="projectnumber" class="version_switch">3.11.2</span></li>
    <li class="footer">Generated on Sat Mar 1 2025 02:35:37 for YARP by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
